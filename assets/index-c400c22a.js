var Ji=Object.defineProperty;var to=(e,t,i)=>t in e?Ji(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var a=(e,t,i)=>(to(e,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();function L(e,t){return Object.assign(Object.create(e.prototype),t)}const Sr=Symbol("force");function G(e){e[Sr]}function I(e){var t;function i(){return t||(t=e(n=>t=n)),t}return new Proxy(Function(),{get(n,s){return s==Sr&&i(),i()[s]},set(n,s,o){return i()[s]=o,!0},construct(n,s,o){return Reflect.construct(i(),s,o)}})}function yr(e,t){for(var i=0;i<t.length;i++){var r=t[i];e[r]===void 0&&delete e[r]}return e}function mt(e){return e===void 0?null:{$:1,$0:e}}function gt(e,t,i){i?e[t]=i.$0:delete e[t]}function eo(e){return function(...t){return e(t)}}function jt(e){return Object.defineProperty(e,"resizable",{enumerable:!1,writable:!1,configurable:!1,value:!0}),e}let Q=class{Equals(t){return this===t}GetHashCode(){return-1}};function no(e,t,i){return{c:e,v:t,f:i}}function Tr(e){return no(!1,e,so)}function so(){const e=this.v();return this.c=!0,this.v=e,this.f=ro,e}function ro(){return this.v}let k5=I(e=>{var t;return t=class extends Q{constructor(n,s,o,l){super();a(this,"s");a(this,"c");a(this,"n");a(this,"d");a(this,"e");this.s=n,this.c=s,this.n=o,this.d=l,this.e=0}Dispose(){this.d&&this.d(this)}get Current(){return this.e===1?this.c:this.e===0?F("Enumeration has not started. Call MoveNext."):F("Enumeration already finished.")}get Current0(){return this.Current}MoveNext(){const n=this.n(this);return this.e=n?1:2,n}},k5=e(t),t});function it(e,t,i){if(t==null)if(i!=null&&i.$==1){const r=i.$0;return r<0?"":e.slice(0,r+1)}else return"";else{if(i==null)return e.slice(t.$0);{const r=i.$0;return r<0?"":e.slice(t.$0,r+1)}}}function io(e,t,i){if(t==null)if(i!=null&&i.$==1){const r=i.$0;return r<0?[]:e.slice(0,r+1)}else return[];else{if(i==null)return e.slice(t.$0);{const r=i.$0;return r<0?[]:e.slice(t.$0,r+1)}}}function m(e){return{$:1,$0:e}}function l5(e){return"Dispose"in e}let Cr=I(e=>{var t;return t=class extends Q{constructor(n){super();a(this,"d");this.d=n}GetEnumerator(){return M(a5(n=>n.K,this.d))}get IsReadOnly(){return!0}get Count(){return this.d.count}Contains(n){return this.d.ContainsKey(n)}CopyTo(n,s){Te(e5(this),n,s)}},Cr=e(t),t});const oo=Cr;let Ir=I(e=>{var t;return t=class extends Q{constructor(n){super();a(this,"d");this.d=n}GetEnumerator(){return M(a5(n=>n.V,this.d))}get IsReadOnly(){return!0}get Count(){return this.d.count}Contains(n){return this.d.ContainsValue(n)}CopyTo(n,s){Te(e5(this),n,s)}},Ir=e(t),t});const lo=Ir;function uo(e){let t=[];for(var i in e)t.push(e[i]);return t}function co(e){let t=[];for(var i in e)t.push([i,e[i]]);return t}let br=I(e=>{var t;return G(Error),t=class extends Error{static New(r,n){return new this("New",r,n)}static New_1(){return new this("New_1")}static New_2(r){return new this("New_2",r)}constructor(r,n,s){r=="New_1"&&(r="New_2",n="Value does not fall within the expected range.");let o,l;if(r=="New"&&(o=n,l=s,r="New_2",n=l+`
Parameter name: `+o),r=="New_2"){const u=n;super(u)}}},br=e(t),t});const Er=br;let Ar=I(e=>{var t;return G(Error),t=class extends Error{static New(){return new this("New")}static New_1(r){return new this("New_1",r)}constructor(r,n){if(r=="New"&&(r="New_1",n="The given key was not present in the dictionary."),r=="New_1"){const s=n;super(s)}}},Ar=e(t),t});const vr=Ar;function Ue(e,t){return e.CGetHashCode(t)}function We(e){return(t,i)=>e.CEquals(t,i)}function ao(){throw new Er("New_2","An item with the same key has already been added.")}function ho(){throw new vr("New")}let xr=I(e=>{var i;return i=class extends Q{constructor(s,o,l,u){var n=(...t)=>{super(...t);a(this,"equals");a(this,"hash");a(this,"count");a(this,"data")};s=="New_4"&&(s="New_5");let c;s=="New_2"&&(c=l,s="New_3",o=c),s=="New_5"&&(s="New_6",o=[],l=E,u=ut);let f;s=="New_3"&&(f=o,s="New_6",o=[],l=We(f),u=$=>Ue(f,$));let p;s=="New_1"&&(p=o,s="New_6",o=p,l=E,u=ut);let h,d;if(s=="New"&&(h=o,d=l,s="New_6",o=h,l=We(d),u=$=>Ue(d,$)),s=="New_6"){const $=o,g=l,b=u;n(),this.equals=g,this.hash=b,this.count=0,this.data=[];const _=M($);try{for(;_.MoveNext();){const y=_.Current;this.set(y.K,y.V)}}finally{typeof _=="object"&&l5(_)&&_.Dispose()}}}get Keys(){return new oo(this)}get Values(){return new lo(this)}RemoveKey(s){return this.remove(s)}GetEnumerator(){return Yo(_o(uo(this.data)))}set_Item(s,o){this.set(s,o)}Item(s){return this.get(s)}DAdd(s,o){this.add(s,o)}remove(s){const o=this.hash(s),l=this.data[o];if(l==null)return!1;{const u=vt(c=>!this.equals.apply(null,[at(c)[0],s]),l);return k(u)<l.length&&(this.count=this.count-1,this.data[o]=u,!0)}}add(s,o){const l=this.hash(s),u=this.data[l];u==null?(this.count=this.count+1,this.data[l]=new Array({K:s,V:o})):(mn(c=>this.equals.apply(null,[at(c)[0],s]),u)&&ao(),this.count=this.count+1,u.push({K:s,V:o}))}set(s,o){const l=this.hash(s),u=this.data[l];if(u==null)this.count=this.count+1,this.data[l]=new Array({K:s,V:o});else{const c=Fr(f=>this.equals.apply(null,[at(f)[0],s]),u);c==null?(this.count=this.count+1,u.push({K:s,V:o})):u[c.$0]={K:s,V:o}}}get(s){const o=this.data[this.hash(s)];return o==null?ho():mo(l=>{const u=at(l);return this.equals.apply(null,[u[0],s])?m(u[1]):null},o)}TryGetValue(s,o){const l=this.data[this.hash(s)];if(l==null)return!1;{const u=Pr(c=>{const f=at(c);return this.equals.apply(null,[f[0],s])?m(f[1]):null},l);return u!=null&&u.$==1&&(o.set(u.$0),!0)}}ContainsValue(s){return $s(o=>E(at(o)[1],s),this)}ContainsKey(s){const o=this.data[this.hash(s)];return o==null?!1:mn(l=>this.equals.apply(null,[at(l)[0],s]),o)}Clear(){this.data=[],this.count=0}get IsFixedSize(){return!1}Remove(s){let o;const l=(o=void 0,[this.TryGetValue(s.K,{get:()=>o,set:u=>{o=u}}),o]);return l[0]&&E(l[1],s.V)&&this.RemoveKey(s.K)}CopyTo(s,o){Te(e5(this),s,o)}Contains(s){let o;const l=(o=void 0,[this.TryGetValue(s.K,{get:()=>o,set:u=>{o=u}}),o]);return l[0]&&E(l[1],s.V)}Add(s){this.DAdd(s.K,s.V)}get Count(){return this.count}get IsReadOnly(){return!1}static New(s,o){return new this("New",s,o)}static New_1(s){return new this("New_1",s)}static New_2(s,o){return new this("New_2",s,o)}static New_3(s){return new this("New_3",s)}static New_4(s){return new this("New_4",s)}static New_5(){return new this("New_5")}static New_6(s,o,l){return new this("New_6",s,o,l)}},xr=e(i),i});const S5=xr;function Ot(e){let t=[];for(var i in e)t.push.apply(t,e[i]);return t}let le=I(e=>{var i;return i=class extends Q{constructor(s,o,l,u){var n=(...t)=>{super(...t);a(this,"equals");a(this,"hash");a(this,"data");a(this,"count")};s=="New_3"&&(s="New_4",o=[],l=E,u=ut);let c;s=="New_2"&&(c=o,s="New_4",o=c,l=E,u=ut);let f;s=="New_1"&&(f=o,s="New_4",o=[],l=We(f),u=d=>Ue(f,d));let p,h;if(s=="New"&&(p=o,h=l,s="New_4",o=p,l=We(h),u=d=>Ue(h,d)),s=="New_4"){const d=o,$=l,g=u;n(),this.equals=$,this.hash=g,this.data=[],this.count=0;const b=M(d);try{for(;b.MoveNext();)this.add(b.Current)}finally{typeof b=="object"&&l5(b)&&b.Dispose()}}}GetEnumerator(){return M(Ot(this.data))}get Count(){return this.count}CopyTo(s,o){const l=Ot(this.data);for(let u=0,c=l.length-1;u<=c;u++)P5(s,u+o,l[u])}SAdd(s){return this.add(s)}add(s){const o=this.hash(s),l=this.data[o];return l==null?(this.data[o]=[s],this.count=this.count+1,!0):this.arrContains(s,l)?!1:(l.push(s),this.count=this.count+1,!0)}arrRemove(s,o){let l=!0,u=0;const c=o.length;for(;l&&u<c;)this.equals.apply(null,[o[u],s])?(o.splice(u,1),l=!1):u=u+1;return!l}arrContains(s,o){let l=!0,u=0;const c=o.length;for(;l&&u<c;)this.equals.apply(null,[o[u],s])?l=!1:u=u+1;return!l}UnionWith(s){const o=M(s);try{for(;o.MoveNext();)this.SAdd(o.Current)}finally{typeof o=="object"&&l5(o)&&o.Dispose()}}SymmetricExceptWith(s){const o=M(s);try{for(;o.MoveNext();){const l=o.Current;this.Contains(l)?this.Remove(l):this.SAdd(l)}}finally{typeof o=="object"&&l5(o)&&o.Dispose()}}SetEquals(s){const o=new le("New_4",s,this.equals,this.hash);return this.Count===o.Count&&this.IsSupersetOf(o)}RemoveWhere(s){const o=Ot(this.data);let l=0;for(let u=0,c=o.length-1;u<=c;u++){const f=o[u];s(f)&&this.Remove(f)&&(l=l+1)}return l}Remove(s){const o=this.data[this.hash(s)];return o==null?!1:this.arrRemove(s,o)&&(this.count=this.count-1,!0)}Overlaps(s){return $s(o=>this.Contains(o),s)}IsSupersetOf(s){return je(o=>this.Contains(o),s)}IsSubsetOf(s){const o=new le("New_4",s,this.equals,this.hash);return fs(l=>o.Contains(l),Ot(this.data))}IsProperSupersetOf(s){const o=e5(s);return this.count>k(o)&&this.IsSupersetOf(o)}IsProperSubsetOf(s){const o=e5(s);return this.count<k(o)&&this.IsSubsetOf(o)}IntersectWith(s){const o=new le("New_4",s,this.equals,this.hash),l=Ot(this.data);for(let u=0,c=l.length-1;u<=c;u++){const f=l[u];o.Contains(f)||this.Remove(f)}}ExceptWith(s){const o=M(s);try{for(;o.MoveNext();)this.Remove(o.Current)}finally{typeof o=="object"&&l5(o)&&o.Dispose()}}CopyTo_1(s,o,l){const u=Ot(this.data);for(let c=0,f=l-1;c<=f;c++)P5(s,c+o,u[c])}Contains(s){const o=this.data[this.hash(s)];return o==null?!1:this.arrContains(s,o)}Clear(){this.data=[],this.count=0}Add(s){this.SAdd(s)}get IsReadOnly(){return!1}static New(s,o){return new this("New",s,o)}static New_1(s){return new this("New_1",s)}static New_2(s){return new this("New_2",s)}static New_3(){return new this("New_3")}static New_4(s,o,l){return new this("New_4",s,o,l)}},le=e(i),i});const et=le;function fo(){return F("The input must be non-negative.")}function He(){return F("The input sequence has an insufficient number of elements.")}function Rs(e,t){let i=t;for(let r=1,n=e;r<=n;r++)i.$==0?F("Input list too short."):i=i.$1;return i}function po(e,t){for(let i=0,r=t.length-1;i<=r;i++)t[i]=e(i,t[i]);return t}function $o(e,t){for(let i=0,r=t.length-1;i<=r;i++)t[i]=e(t[i])}function wo(e,t){let i=!0,r=0;for(;i&&r<k(t);)E(t[r],e)?i=!1:r=r+1;return!i}function Pr(e,t){let i=null,r=0;for(;r<t.length&&i==null;){const n=e(t[r]);n!=null&&n.$==1&&(i=n),r=r+1}return i}function Fr(e,t){let i=null,r=0;for(;r<t.length&&i==null;)e(t[r])&&(i=m(r)),r=r+1;return i}function Lr(e){$o(t=>t[0],po((t,i)=>[i,t],e).sort(M5))}function mo(e,t){const i=Pr(e,t);return i==null?F("KeyNotFoundException"):i.$0}function e5(e){if(e instanceof Array)return e.slice();if(e instanceof V)return qe(e);{const t=[],i=M(e);try{for(;i.MoveNext();)t.push(i.Current);return t}finally{typeof i=="object"&&l5(i)&&i.Dispose()}}}function qe(e){const t=[];let i=e;for(;i.$!=0;)t.push(kr(i)),i=ps(i);return t}function O5(e,t){const i=new Array(t.length);for(let r=0,n=t.length-1;r<=n;r++)i[r]=e(t[r]);return i}function I5(e,t){for(let i=0,r=t.length-1;i<=r;i++)e(t[i])}function Be(e,t){e<0&&F("Negative size given.");const i=new Array(e);for(let r=0,n=e-1;r<=n;r++)i[r]=t(r);return i}function fs(e,t){let i=!0,r=0;for(;i&&r<k(t);)e(t[r])?r=r+1:i=!1;return i}function ds(e,t,i){let r=i;const n=t.length;for(let s=1,o=n;s<=o;s++)r=e(t[n-s],r);return r}function go(e,t,i,r){No(i,r);let n=t;for(let s=0,o=i.length-1;s<=o;s++)n=e(n,i[s],r[s]);return n}function vt(e,t){const i=[];for(let r=0,n=t.length-1;r<=n;r++)e(t[r])&&i.push(t[r]);return i}function mn(e,t){let i=!1,r=0;for(;!i&&r<k(t);)e(t[r])?i=!0:r=r+1;return i}function d5(e,t){const i=new Array(e);for(let r=0,n=e-1;r<=n;r++)i[r]=t;return i}function _o(e){return Array.prototype.concat.apply([],e5(e))}function sn(e,t){const i=[];for(let r=0,n=t.length-1;r<=n;r++){const s=e(t[r]);s==null||i.push(s.$0)}return i}function f5(e,t,i,r,n){Sn(e,t,n),Sn(i,r,n);for(let s=0,o=n-1;s<=o;s++)i[r+s]=e[t+s]}function No(e,t){e.length!==t.length&&F("The arrays have different lengths.")}function So(e,t){let i,r,n;if(e.$==0)return t;if(t.$==0)return e;{const s=L(V,{$:1});for(i=s,r=e,n=!0;n;)if(i.$0=r.$0,r=r.$1,r.$==0)n=!1;else{const o=L(V,{$:1});i=(i.$1=o,o)}return i.$1=t,s}}function Ds(e,t){let i=!1,r=t;for(;!i&&r.$==1;)i=e(r.$0),r=r.$1;return i}function yo(e,t){let i,r,n,s;if(t.$==0)return t;for(i=V.Empty,r=i,n=t,s=!0;s;){if(e(n.$0)){if(i.$==0)i=L(V,{$:1}),r=i;else{const l=L(V,{$:1});r=(r.$1=l,l)}const o=n.$0;r.$=1,r.$0=o}n=n.$1,n.$==0&&(s=!1)}return i.$!=0&&(r.$1=V.Empty),i}function To(e,t,i,r){return go(e,t,qe(i),qe(r))}function kr(e){return e.$==1?e.$0:Vr()}function Co(e,t){let i=t;for(;i.$==1;)e(kr(i)),i=ps(i)}function gn(e){let t=e,i=0;for(;t.$==1;)t=ps(t),i=i+1;return i}function pe(e,t){let i,r,n;if(t.$==0)return t;{const s=L(V,{$:1});for(i=s,r=t,n=!0;n;)if(i.$0=e(r.$0),r=r.$1,r.$==0)n=!1;else{const o=L(V,{$:1});i=(i.$1=o,o)}return i.$1=V.Empty,s}}function Os(e,t){let i,r,n,s;if(t.$==0)return t;{const o=L(V,{$:1});for(i=o,r=t,n=0,s=!0;s;)if(i.$0=e(n,r.$0),r=r.$1,r.$==0)s=!1;else{const l=L(V,{$:1});i=(i.$1=l,l),n=n+1}return i.$1=V.Empty,o}}function s5(e){let t=V.Empty;for(let i=k(e)-1,r=0;i>=r;i--)t=V.Cons(C(e,i),t);return t}function D5(e){if(e instanceof V)return e;if(e instanceof Array)return s5(e);{const t=M(e);try{let i,r=t.MoveNext();if(r){const n=L(V,{$:1});for(i=n;r;)if(i.$0=t.Current,t.MoveNext()){const s=L(V,{$:1});i=(i.$1=s,s)}else r=!1;return i.$1=V.Empty,n}else return V.Empty}finally{typeof t=="object"&&l5(t)&&t.Dispose()}}}function Ht(e){let t=V.Empty,i=e;for(;i.$==1;)t=V.Cons(i.$0,t),i=i.$1;return t}function ps(e){return e.$==1?e.$1:Vr()}function Io(e,t){let i=!1,r=t;for(;!i&&r.$==1;)i=E(e,r.$0),r=r.$1;return i}function Vr(){return F("The input list was empty.")}const dt=class dt{static Cons(t,i){return L(dt,{$:1,$0:t,$1:i})}GetSlice(t,i){try{if(t!=null&&t.$==1)if(i!=null&&i.$==1){const r=t.$0,n=i.$0;return n<0?dt.Empty:D5(Nn(n-r+1,Rs(r,this)))}else return Rs(t.$0,this);else if(i!=null&&i.$==1){const r=i.$0;return r<0?dt.Empty:D5(Nn(r+1,this))}else return this}catch{return dt.Empty}}get_Item(t){return Go(t,this)}get Length(){return gn(this)}GetEnumerator(){return new k5(this,null,t=>{const i=t.s;return i.$==0?!1:(t.c=i.$0,t.s=i.$1,!0)},void 0)}};a(dt,"Empty",L(dt,{$:0}));let V=dt;function Y(e,t){return{GetEnumerator:()=>{const i=M(e),r=[!0];return new k5(i,null,n=>{if(n.s.MoveNext())return n.c=n.s.Current,!0;{const s=n.s;return E(s,null)||s.Dispose(),n.s=null,r[0]&&(r[0]=!1,n.s=M(t),n.s.MoveNext()?(n.c=n.s.Current,!0):(n.s.Dispose(),n.s=null,!1))}},n=>{const s=n.s;E(s,null)||s.Dispose()})}}}function bt(e,t){return bo(a5(e,t))}function Gr(e,t,i){const r=M(t);try{const n=M(i);try{let s=0,o=!0;for(;o&&s===0;)r.MoveNext()?s=n.MoveNext()?e(r.Current,n.Current):1:n.MoveNext()?s=-1:o=!1;return s}finally{typeof n=="object"&&l5(n)&&n.Dispose()}}finally{typeof r=="object"&&l5(r)&&r.Dispose()}}function bo(e){return{GetEnumerator:()=>{const t=M(e);function i(r){for(;;){const n=r.s;if(E(n,null))if(t.MoveNext())r.s=M(t.Current),r=r;else return t.Dispose(),!1;else{if(n.MoveNext())return r.c=n.Current,!0;r.Dispose(),r.s=null,r=r}}}return new k5(null,null,i,r=>{const n=r.s;E(n,null)||n.Dispose(),E(t,null)||t.Dispose()})}}}function F5(e){return{GetEnumerator:()=>M(e())}}function Eo(e){return Rr(t=>t,e)}function Rr(e,t){return{GetEnumerator:()=>{const i=M(t),r=new et("New_3");return new k5(null,null,n=>{let s,o;if(i.MoveNext()){for(s=i.Current,o=r.SAdd(e(s));!o&&i.MoveNext();)s=i.Current,o=r.SAdd(e(s));return o&&(n.c=s,!0)}else return!1},()=>{i.Dispose()})}}}function $s(e,t){const i=M(t);try{let r=!1;for(;!r&&i.MoveNext();)r=e(i.Current);return r}finally{typeof i=="object"&&l5(i)&&i.Dispose()}}function Ao(e,t,i){const r=M(t);try{const n=M(i);try{let s=!1;for(;!s&&r.MoveNext()&&n.MoveNext();)s=e(r.Current,n.Current);return s}finally{typeof n=="object"&&l5(n)&&n.Dispose()}}finally{typeof r=="object"&&l5(r)&&r.Dispose()}}function vo(e,t){return{GetEnumerator:()=>{const i=M(t);return new k5(null,null,r=>{let n=i.MoveNext(),s,o=!1;for(;n;)s=i.Current,e(s)?(r.c=s,o=!0,n=!1):i.MoveNext()||(n=!1);return o},()=>{i.Dispose()})}}}function xo(e,t){const i=Ro(e,t);return i==null?F("KeyNotFoundException"):i.$0}function Po(e,t){const i=Do(e,t);return i==null?F("KeyNotFoundException"):i.$0}function Kt(e,t,i){let r=t;const n=M(i);try{for(;n.MoveNext();)r=e(r,n.Current);return r}finally{typeof n=="object"&&l5(n)&&n.Dispose()}}function je(e,t){return!$s(i=>!e(i),t)}function Dr(e,t,i){return!Ao((r,n)=>!e(r,n),t,i)}function _n(e){const t=M(e);try{return t.MoveNext()?t.Current:He()}finally{typeof t=="object"&&l5(t)&&t.Dispose()}}function Fo(e,t){return Nn(e,Or(t))}function Or(e){return{GetEnumerator:()=>new k5(0,null,t=>(t.c=e(t.s),t.s=t.s+1,!0),void 0)}}function Lo(e,t){const i=M(t);try{for(;i.MoveNext();)e(i.Current)}finally{typeof i=="object"&&l5(i)&&i.Dispose()}}function a5(e,t){return{GetEnumerator:()=>{const i=M(t);return new k5(null,null,r=>i.MoveNext()&&(r.c=e(i.Current),!0),()=>{i.Dispose()})}}}function Ms(e,t){return ko(e,Or(i=>i),t)}function ko(e,t,i){return{GetEnumerator:()=>{const r=M(t),n=M(i);return new k5(null,null,s=>r.MoveNext()&&n.MoveNext()&&(s.c=e(r.Current,n.Current),!0),()=>{r.Dispose(),n.Dispose()})}}}function Vo(e){const t=M(e);try{t.MoveNext()||Uo();let i=t.Current;for(;t.MoveNext();){const r=t.Current;M5(r,i)===1&&(i=r)}return i}finally{typeof t=="object"&&l5(t)&&t.Dispose()}}function Go(e,t){e<0&&F("negative index requested");let i=-1;const r=M(t);try{for(;i<e;)r.MoveNext()||He(),i=i+1;return r.Current}finally{typeof r=="object"&&l5(r)&&r.Dispose()}}function Nn(e,t){return e<0&&fo(),{GetEnumerator:()=>{const i=[M(t)];return new k5(0,null,r=>{if(r.s=r.s+1,r.s>e)return!1;{const n=i[0];return E(n,null)?He():n.MoveNext()?(r.c=n.Current,r.s===e&&(n.Dispose(),i[0]=null),!0):(n.Dispose(),i[0]=null,He())}},()=>{const r=i[0];E(r,null)||r.Dispose()})}}}function Ro(e,t){const i=M(t);try{let r=null;for(;r==null&&i.MoveNext();){const n=i.Current;e(n)&&(r=m(n))}return r}finally{typeof i=="object"&&l5(i)&&i.Dispose()}}function Do(e,t){const i=M(t);try{let r=!0,n=0;for(;r&&i.MoveNext();)e(i.Current)?r=!1:n=n+1;return r?null:m(n)}finally{typeof i=="object"&&l5(i)&&i.Dispose()}}function Oo(e,t){return{GetEnumerator:()=>new k5(t,null,i=>{const r=e(i.s);return r==null?!1:(i.c=r.$0[0],i.s=r.$0[1],!0)},void 0)}}function Mo(e){return F5(()=>e5(e).slice().reverse())}function Uo(){return F("The input sequence was empty.")}let Mr=I(e=>{var t;return G(Error),t=class extends Error{static New(r){return new this("New",r)}static New_1(){return new this("New_1")}static New_2(r,n){return new this("New_2",r,n)}constructor(r,n,s){r=="New_1"&&(r="New",n="Operation is not valid due to the current state of the object.");let o;if(r=="New"&&(o=n,r="New_2",n=o,s=null),r=="New_2"){const l=n,u=s;super(l),this.inner=u}}},Mr=e(t),t});const Wo=Mr;function _t(e,t){const i=1+t-e;return i<=0?[]:Fo(i,r=>r+e)}function at(e){return[e.K,e.V]}function n5(e){const t=Ho(e);return t>=2147483648?t-4294967296:t}function Ho(e){return(e<0?Math.ceil(e):Math.floor(e))>>>0}function Ke(e){throw new Wo("New",e)}function F(e){throw new Error(e)}function ut(e){const t=typeof e;return t=="function"?0:t=="boolean"?e?1:0:t=="number"?e:t=="string"?Ur(e):t=="object"?e==null?0:e instanceof Array?Bo(e):qo(e):0}function qo(e){if("GetHashCode"in e)return e.GetHashCode();{const i=[0];for(var t in e)(r=>(i[0]=Xe(Xe(i[0],Ur(r)),ut(e[r])),!1))(t);return i[0]}}function Ur(e){let t;if(e===null)return 0;t=5381;for(let i=0,r=e.length-1;i<=r;i++)t=Xe(t,e[i].charCodeAt());return t}function Bo(e){let t=-34948909;for(let i=0,r=k(e)-1;i<=r;i++)t=Xe(t,ut(C(e,i)));return t}function Xe(e,t){return(e<<5)+e+t}function E(e,t){if(e===t)return!0;{const n=typeof e;if(n=="object"){if(e==null||t===null||t===void 0||!E(typeof t,"object"))return!1;if("Equals"in e)return e.Equals(t);if("Equals"in t)return!1;if(e instanceof Array&&t instanceof Array)return Us(e,t);if(e instanceof Date&&t instanceof Date)return jo(e,t);{const s=[!0];for(var i in e)if((o=>(s[0]=!e.hasOwnProperty(o)||t.hasOwnProperty(o)&&E(e[o],t[o]),!s[0]))(i))break;if(s[0]){for(var r in t)if((o=>(s[0]=!t.hasOwnProperty(o)||e.hasOwnProperty(o),!s[0]))(r))break}return s[0]}}else return n=="function"&&("$Func"in e?e.$Func===t.$Func&&e.$Target===t.$Target:"$Invokes"in e&&"$Invokes"in t&&Us(e.$Invokes,t.$Invokes))}}function jo(e,t){return e.getTime()===t.getTime()}function Us(e,t){let i,r;if(k(e)===k(t)){for(i=!0,r=0;i&&r<k(e);)E(C(e,r),C(t,r))||(i=!1),r=r+1;return i}else return!1}function M5(e,t){if(e===t)return 0;{const n=typeof e;switch(n=="function"?1:n=="boolean"||n=="number"||n=="string"?2:n=="object"?3:0){case 0:return typeof t>"u"?0:-1;case 1:return F("Cannot compare function values.");case 2:return e<t?-1:1;case 3:if(e===null)return-1;if(t===null)return 1;if("CompareTo"in e)return e.CompareTo(t);if("CompareTo0"in e)return e.CompareTo0(t);if(e instanceof Array&&t instanceof Array)return Xo(e,t);if(e instanceof Date&&t instanceof Date)return Ko(e,t);{const s=[0];for(var i in e)if((o=>e.hasOwnProperty(o)?t.hasOwnProperty(o)?(s[0]=M5(e[o],t[o]),s[0]!==0):(s[0]=1,!0):!1)(i))break;if(s[0]===0){for(var r in t)if((o=>t.hasOwnProperty(o)?!e.hasOwnProperty(o)&&(s[0]=-1,!0):!1)(r))break}return s[0]}}}}function Ko(e,t){return M5(e.getTime(),t.getTime())}function Xo(e,t){let i,r;if(k(e)<k(t))return-1;if(k(e)>k(t))return 1;for(i=0,r=0;i===0&&r<k(e);)i=M5(C(e,r),C(t,r)),r=r+1;return i}I(e=>{var t;return G(Error),t=class extends Error{static New(){return new this("New")}static New_1(r){return new this("New_1",r)}constructor(r,n){if(r=="New"&&(r="New_1",n="Index was outside the bounds of the array."),r=="New_1"){const s=n;super(s)}}},e(t),t});function k(e){return e.dims===2?e.length*e.length:e.length}function zo(e,t,i){return Sn(e,t,i),e.slice(t,t+i)}function C(e,t){return Wr(e,t),e[t]}function P5(e,t,i){Wr(e,t),e[t]=i}function Sn(e,t,i){(i<0||t<0||e.length<t+i)&&F("Index was outside the bounds of the array.")}function Wr(e,t){(t<0||t>=e.length)&&F("Index was outside the bounds of the array.")}I(e=>{var t;return G(Error),t=class extends Error{static New(r,n){return new this("New",r,n)}static New_1(r){return new this("New_1",r)}static New_2(){return new this("New_2")}constructor(r,n,s){let o;if(r=="New_1"&&(o=n,r="New",n=o,s="Value cannot be null."),r=="New_2"&&super("Value cannot be null."),r=="New"){const l=n,u=s;super(u+`
Parameter name: `+l)}}},e(t),t});I(e=>{var t;return G(Error),t=class extends Error{static New(r,n){return new this("New",r,n)}static New_1(r){return new this("New_1",r)}static New_2(){return new this("New_2")}constructor(r,n,s){let o;if(r=="New_1"&&(o=n,r="New",n=o,s="Specified argument was out of the range of valid values."),r=="New_2"&&super("Specified argument was out of the range of valid values."),r=="New"){const l=n,u=s;super(u+`
Parameter name: `+l)}}},e(t),t});function Te(e,t,i){if(k(e)+i<k(t))throw new Er("New_2","array");f5(e,0,t,i,k(e))}function Yo(e){return e instanceof Array?qr(e):E(typeof e,"string")?Hr(e):"GetEnumerator0"in e?e.GetEnumerator0():e.GetEnumerator()}function M(e){return e instanceof Array?qr(e):E(typeof e,"string")?Hr(e):e.GetEnumerator()}function Hr(e){return new k5(0,null,t=>{const i=t.s;return i<e.length&&(t.c=e[i],t.s=i+1,!0)},void 0)}function qr(e){return new k5(0,null,t=>{const i=t.s;return i<k(e)&&(t.c=C(e,i),t.s=i+1,!0)},void 0)}function rn(e,t){return{k:e,ct:t}}function Br(e){return{$:2,$0:e}}function ws(e){return{$:1,$0:e}}function on(e){return{$:0,$0:e}}I(e=>{var t;return G(Error),t=class extends Error{static New(){return new this("New")}static New_1(r){return new this("New_1",r)}constructor(r,n){if(r=="New"&&(r="New_1",n="The operation has timed out."),r=="New_1"){const s=n;super(s)}}},e(t),t});let jr=I(e=>{var i;return G(Error),i=class extends Error{constructor(s,o,l){var n=(...t)=>{super(...t);a(this,"innerExceptions")};let u;s=="New_3"&&(u=o,s="New_4",o="One or more errors occurred.",l=u);let c;s=="New_2"&&(c=o,s="New_4",o="One or more errors occurred.",l=e5(c));let f,p;s=="New_1"&&(f=o,p=l,s="New_4",o=f,l=e5(p));let h,d;if(s=="New"&&(h=o,d=l,s="New_4",o=h,l=[d]),s=="New_4"){const $=o,g=l;n($),this.innerExceptions=g}}static New(s,o){return new this("New",s,o)}static New_1(s,o){return new this("New_1",s,o)}static New_2(s){return new this("New_2",s)}static New_3(s){return new this("New_3",s)}static New_4(s,o){return new this("New_4",s,o)}},jr=e(i),i});const R5=jr;let Kr=I(e=>{var t;return G(Error),t=class extends Error{static New(){return new this("New")}static New_1(r){return new this("New_1",r)}constructor(r,n){if(r=="New"&&(r="New_1",n="A task was canceled."),r=="New_1"){const s=n;super(s)}}},Kr=e(t),t});const Ws=Kr;let Xr=I(e=>{var i;return G(Error),i=class extends Error{constructor(s,o,l,u){var n=(...t)=>{super(...t);a(this,"ct")};let c;if(s=="New"&&(c=o,s="New_1",o="The operation was canceled.",l=null,u=c),s=="New_1"){const f=o,p=l,h=u;n(f),this.inner=p,this.ct=h}}static New(s){return new this("New",s)}static New_1(s,o,l){return new this("New_1",s,o,l)}},Xr=e(i),i});const ms=Xr;let ue=I(e=>{var i;return i=class extends Q{constructor(s,o,l,u,c){var n=(...t)=>{super(...t);a(this,"action");a(this,"token");a(this,"status");a(this,"continuations");a(this,"exc")};let f;s=="New_3"&&(f=o,s="New_4",o=f,l=y5(),u=0,c=null);let p,h;s=="New_2"&&(p=o,h=l,s="New_4",o=p,l=h,u=0,c=null);let d,$;s=="New_1"&&(d=o,$=l,s="New_4",o=()=>d($),l=y5(),u=0,c=null);let g,b,_;if(s=="New"&&(g=o,b=l,_=u,s="New_4",o=()=>g(b),l=_,u=0,c=null),s=="New_4"){const y=o,w=l,N=u,S=c;n(),this.action=y,this.token=w,this.status=N,this.continuations=[],this.exc=S}}static Yield(){return new i("New_3",()=>null)}static WhenAll(s){const o=k(s),l=[0],u=new Array(o),c=new ce;for(let f=0,p=o-1;f<=p;f++)(h=>{C(s,f).ContinueWith_1(d=>d.IsFaulted?void c.TrySetException_1(d.Exception):d.IsCanceled?void c.TrySetCanceled_1():(l[0]++,u[h]=d.Result,l[0]===o?c.SetResult(u):null),y5())})(f);return c.Task}static WhenAll_1(s){const o=k(s),l=[0],u=new ce;for(let c=0,f=o-1;c<=f;c++)C(s,c).ContinueWith_1(p=>p.IsFaulted?void u.TrySetException_1(p.Exception):p.IsCanceled?void u.TrySetCanceled_1():(l[0]++,l[0]===o?void u.TrySetResult():null),y5());return u.Task}static WhenAny(s){const o=new ce;for(let l=0,u=s.length-1;l<=u;l++)C(s,l).ContinueWith(c=>{o.TrySetResult(c)},y5());return o.Task}static WhenAny_1(s){const o=new ce;for(let l=0,u=s.length-1;l<=u;l++)C(s,l).ContinueWith_1(c=>{o.TrySetResult(c)},y5());return o.Task}static Delay(s,o){return Bs(qs(s),m(o))}static Delay_1(s){return Bs(qs(s),null)}static Run(s,o){const l=s();return o.c?ue.FromCanceled(o):(l.Status===0&&l.Start(),l)}static Run_1(s,o){const l=new Wt("New_4",s,o,0,null,void 0);return l.Start(),l}static Run_2(s,o){const l=s();return o.c?ue.FromCanceled_1(o):(l.Status===0&&l.Start(),l)}static Run_3(s,o){const l=new i("New_4",s,o,0,null);return l.Start(),l}static FromResult(s){return new Wt("New_4",null,y5(),5,null,s)}static FromException(s){return new Wt("New_4",null,y5(),7,new R5("New_3",[s]),null)}static FromException_1(s){return new i("New_4",null,y5(),7,new R5("New_3",[s]))}static FromCanceled(s){return new Wt("New_4",null,s,6,new R5("New_3",[new Ws("New")]),null)}static FromCanceled_1(s){return new i("New_4",null,s,6,new R5("New_3",[new Ws("New")]))}Start(){this.status===0?(this.status=2,q5().Fork(()=>{this.status=3;try{this.Execute(),this.status=5}catch(s){let o;(s instanceof ms&&E(s.ct,this.token)?(o=s,!0):(o=s,!1))?(console.log("Task cancellation caught:",o),this.exc=new R5("New_3",[o]),this.status=6):(console.log("Task error caught:",o),this.exc=new R5("New_3",[o]),this.status=7)}this.RunContinuations()})):Ke("Task not in initial state")}StartContinuation(){this.status===1&&(this.status=2,q5().Fork(()=>{if(this.status===2){this.status=3;try{this.Execute(),this.status=5}catch(s){this.exc=new R5("New_3",[s]),this.status=7}this.RunContinuations()}}))}ContinueWith(s,o){const l=new Wt("New_4",()=>s(this),o,1,null,void 0);return this.IsCompleted?l.StartContinuation():this.continuations.push(l),l}ContinueWith_1(s,o){const l=new ue("New_4",()=>s(this),o,1,null);return this.IsCompleted?l.StartContinuation():this.continuations.push(l),l}RunContinuations(){const s=this.continuations;for(let o=0,l=s.length-1;o<=l;o++)C(s,o).StartContinuation()}OnCompleted(s){this.IsCompleted?s():(this.Status===0&&this.Start(),this.ContinueWith_1(()=>s(),y5()))}get Status(){return this.status}get IsFaulted(){return this.status===7}get IsCompleted(){return this.status===5||this.status===7||this.status===6}get IsCanceled(){return this.status===6}get Exception(){return this.exc}Execute(){this.action()}static New(s,o,l){return new this("New",s,o,l)}static New_1(s,o){return new this("New_1",s,o)}static New_2(s,o){return new this("New_2",s,o)}static New_3(s){return new this("New_3",s)}static New_4(s,o,l,u){return new this("New_4",s,o,l,u)}},ue=e(i),i});const Hs=ue;let zr=I(e=>{var i;return G(Hs),i=class extends Hs{constructor(s,o,l,u,c,f){var n=(...t)=>{super(...t);a(this,"func");a(this,"result")};let p;s=="New_3"&&(p=o,s="New_4",o=p,l=y5(),u=0,c=null,f=void 0);let h,d;s=="New_2"&&(h=o,d=l,s="New_4",o=h,l=d,u=0,c=null,f=void 0);let $,g;s=="New_1"&&($=o,g=l,s="New_4",o=()=>$(g),l=y5(),u=0,c=null,f=void 0);let b,_,y;if(s=="New"&&(b=o,_=l,y=u,s="New_4",o=()=>b(_),l=y,u=0,c=null,f=void 0),s=="New_4"){const w=o,N=l,S=u,x=c,U=f;n("New_4",null,N,S,x),this.func=w,this.result=U}}get Result(){switch(this.Status){case 5:return this.result;case 7:case 6:throw this.Exception;default:return Ke("Task has not been completed, has no Result")}}Execute(){this.result=this.func()}static New(s,o,l){return new this("New",s,o,l)}static New_1(s,o){return new this("New_1",s,o)}static New_2(s,o){return new this("New_2",s,o)}static New_3(s){return new this("New_3",s)}static New_4(s,o,l,u,c){return new this("New_4",s,o,l,u,c)}},zr=e(i),i});const Wt=zr;let Yr=I(e=>{var t;return t=class extends Q{constructor(){super();a(this,"task");this.task=new Wt("New_4",null,y5(),1,null,void 0)}TrySetResult(n){return!this.task.IsCompleted&&(this.task.status=5,this.task.result=n,this.task.RunContinuations(),!0)}TrySetException(n){return this.TrySetException_1(new R5("New_2",n))}TrySetException_1(n){return!this.task.IsCompleted&&(this.task.status=7,this.task.exc=new R5("New_3",[n]),this.task.RunContinuations(),!0)}TrySetCanceled(n){return!this.task.IsCompleted&&(this.task.status=6,this.task.token=n,this.task.RunContinuations(),!0)}TrySetCanceled_1(){return!this.task.IsCompleted&&(this.task.status=6,this.task.RunContinuations(),!0)}SetResult(n){this.task.IsCompleted&&F("Task already completed."),this.task.status=5,this.task.result=n,this.task.RunContinuations()}SetException(n){this.SetException_1(new R5("New_2",n))}SetException_1(n){this.task.IsCompleted&&F("Task already completed."),this.task.status=7,this.task.exc=new R5("New_3",[n]),this.task.RunContinuations()}SetCanceled(){this.task.IsCompleted&&F("Task already completed."),this.task.status=6,this.task.RunContinuations()}get Task(){return this.task}},Yr=e(t),t});const ce=Yr;function Qo(e,t){return{c:e,r:t}}let Qr=I(e=>{var t;return t=class extends Q{constructor(){super();a(this,"idle");a(this,"robin");this.idle=!0,this.robin=[]}tick(){const n=Date.now();let s=!0;for(;s;)this.robin.length===0?(this.idle=!0,s=!1):(this.robin.shift()(),Date.now()-n>40&&(setTimeout(()=>{this.tick()},0),s=!1))}Fork(n){this.robin.push(n),this.idle&&(this.idle=!1,setTimeout(()=>{this.tick()},0))}},Qr=e(t),t});const Zo=Qr;let yn=I(e=>{var t;return t=class extends Q{constructor(){super();a(this,"init");a(this,"c");a(this,"pending");a(this,"r");this.c=!1,this.pending=null,this.r=[],this.init=1}static CreateLinkedTokenSource(n,s){return yn.CreateLinkedTokenSource_1([n,s])}static CreateLinkedTokenSource_1(n){const s=new t;return I5(o=>{n3(o,()=>{s.Cancel_1()})},n),s}CancelAfter(n){if(!this.c){const s=this.pending;s==null||clearTimeout(s.$0),this.pending=m(setTimeout(()=>{this.Cancel_1()},n))}}Cancel(n){n?this.c||(this.c=!0,I5(s=>{s()},this.r)):this.Cancel_1()}Cancel_1(){if(!this.c){this.c=!0;const n=sn(s=>{try{return s(),null}catch(o){return m(o)}},this.r);if(k(n)>0)throw new R5("New_3",n)}}},yn=e(t),t});const Jo=yn;let Zr=I(e=>{var t;return t=class{},Zr=e(t),a(t,"GetCT"),a(t,"Zero"),a(t,"defCTS"),a(t,"scheduler"),a(t,"noneCT"),t.noneCT=Qo(!1,[]),t.scheduler=new Zo,t.defCTS=[new Jo],t.Zero=Yt(),t.GetCT=r=>{r.k(on(r.ct))},t});const ln=Zr;function gs(e){return{$:0,$0:e}}function Ft(e){return{$:1,$0:e}}function qs(e){return t=>{let i,r;i=void 0,r=void 0,i=setTimeout(()=>{r.Dispose(),q5().Fork(()=>{t.k(on(null))})},e),r=n3(t.ct,()=>{clearTimeout(i),q5().Fork(()=>{e3(t)})})}}function Bs(e,t){const i=new ce;return q5().Fork(()=>{t3(e,r=>{i.SetResult(r)},r=>{i.SetException_1(r)},()=>{i.SetCanceled()},t)}),i.Task}function t6(e){return un((t,i,r)=>{e.Status===0&&e.Start(),e.ContinueWith_1(n=>n.IsCanceled?r(new ms("New",y5())):n.IsFaulted?i(n.Exception):t(n.Result),y5())})}function Mt(e,t){const i=_s()[0],r=t==null?i:t.$0;r.c||e(rn(n=>{n.$==1&&Jr(n.$0)},r))}function e6(e,t){const i=_s()[0],r=t==null?i:t.$0;q5().Fork(()=>{r.c||e(rn(n=>{n.$==1&&Jr(n.$0)},r))})}function Jr(e){console.log("WebSharper: Uncaught asynchronous exception",e)}function t3(e,t,i,r,n){const s=_s()[0],o=n==null?s:n.$0;o.c||e(rn(l=>{l.$==1?i(l.$0):l.$==2?r(l.$0):t(l.$0)},o))}function un(e){return t=>{const i=[!1],r=n=>{i[0]?F("A continuation provided by Async.FromContinuations was invoked multiple times"):(i[0]=!0,q5().Fork(n))};e(n=>{r(()=>{t.k(on(n))})},n=>{r(()=>{t.k(ws(n))})},n=>{r(()=>{t.k(Br(n))})})}}function T5(e){return t=>{try{e()(t)}catch(i){t.k(ws(i))}}}function n6(e,t){return ot(e,()=>t)}function ot(e,t){return s6(i=>{e(rn(r=>{if(r.$==0){const n=r.$0;q5().Fork(()=>{try{t(n)(i)}catch(s){i.k(ws(s))}})}else q5().Fork(()=>{i.k(r)})},i.ct))})}function $5(){return ln.Zero}function Yt(e){return t=>{t.k(on(e))}}function s6(e){return t=>{t.ct.c?e3(t):e(t)}}function e3(e){e.k(Br(new ms("New",e.ct)))}function _s(){return ln.defCTS}function q5(){return ln.scheduler}function n3(e,t){if(e===y5())return{Dispose(){return null}};{const i=e.r.push(t)-1;return{Dispose(){return P5(e.r,i,()=>{})}}}}function y5(){return ln.noneCT}function nt(e,t){return{$:3,$0:e,$1:t}}function $e(e,t){return{$:2,$0:e,$1:t}}function Nt(e){return{$:0,$0:e}}function r6(e){return console.log("WebSharper UI: Uncaught asynchronous exception",e)}function i6(e,t){t3(e,t,i=>{r6(i)},()=>{},null)}function Xt(e){let t;const i=e.s;if(!(i==null||(!(i!=null&&i.$==2||i!=null&&i.$==3)||(t=i.$1,!1)))){e.s=null;for(let r=0,n=k(t)-1;r<=n;r++){const s=C(t,r);typeof s=="object"?(o=>{Xt(o)})(s):s()}}}function o6(e){e.splice(0,k(e))}function l6(e,t){const i={s:nt([],[])};return C5(t,r=>{i6(e(r),n=>{Ns(i,t,n)})},i),i}function u6(e,t,i,r){const n=t.s,s=i.s,o=r.s;if(n!=null&&n.$==0)return s!=null&&s.$==0?o!=null&&o.$==0?{s:Nt(e(n.$0,s.$0,o.$0))}:p6(e,n.$0,s.$0,r):o!=null&&o.$==0?d6(e,n.$0,o.$0,i):f6(e,n.$0,i,r);if(s!=null&&s.$==0)return o!=null&&o.$==0?h6(e,s.$0,o.$0,t):a6(e,s.$0,t,r);if(o!=null&&o.$==0)return c6(e,o.$0,t,i);{const l={s:nt([],[])},u=()=>{const c=l.s;if(!(c!=null&&c.$==0||c!=null&&c.$==2)){const f=At(t),p=At(i),h=At(r);f!=null&&f.$==1&&p!=null&&p.$==1&&h!=null&&h.$==1&&(f.$0[1]&&p.$0[1]&&h.$0[1]?kt(l,e(f.$0[0],p.$0[0],h.$0[0])):Lt(l,e(f.$0[0],p.$0[0],h.$0[0])))}};return C5(t,u,l),C5(i,u,l),C5(r,u,l),l}}function c6(e,t,i,r){return cn((n,s)=>e(n,s,t),i,r)}function a6(e,t,i,r){return cn((n,s)=>e(n,t,s),i,r)}function h6(e,t,i,r){return Qt(n=>e(n,t,i),r)}function f6(e,t,i,r){return cn((n,s)=>e(t,n,s),i,r)}function d6(e,t,i,r){return Qt(n=>e(t,n,i),r)}function p6(e,t,i,r){return Qt(n=>e(t,i,n),r)}function $6(e,t){const i=e.s,r=t.s;if(i!=null&&i.$==0)return r!=null&&r.$==0?{s:Nt(null)}:t;if(r!=null&&r.$==0)return e;{const n={s:nt([],[])},s=()=>{const o=n.s;if(!(o!=null&&o.$==0||o!=null&&o.$==2)){const l=At(e),u=At(t);l!=null&&l.$==1&&u!=null&&u.$==1&&(l.$0[1]&&u.$0[1]?kt(n,null):Lt(n,null))}};return C5(e,s,n),C5(t,s,n),n}}function cn(e,t,i){const r=t.s,n=i.s;if(r!=null&&r.$==0)return n!=null&&n.$==0?{s:Nt(e(r.$0,n.$0))}:m6(e,r.$0,i);if(n!=null&&n.$==0)return w6(e,n.$0,t);{const s={s:nt([],[])},o=()=>{const l=s.s;if(!(l!=null&&l.$==0||l!=null&&l.$==2)){const u=At(t),c=At(i);u!=null&&u.$==1&&c!=null&&c.$==1&&(u.$0[1]&&c.$0[1]?kt(s,e(u.$0[0],c.$0[0])):Lt(s,e(u.$0[0],c.$0[0])))}};return C5(t,o,s),C5(i,o,s),s}}function w6(e,t,i){return Qt(r=>e(r,t),i)}function m6(e,t,i){return Qt(r=>e(t,r),i)}function g6(e){const t=e.s;if(t==null)return e;if(t!=null&&t.$==2){const i={s:$e(t.$0,[])};return r3(e,i),i}else if(t!=null&&t.$==3){const i={s:nt([],[])};return C5(e,r=>{Ns(i,e,r)},i),i}else return e}function Qt(e,t){const i=t.s;if(i!=null&&i.$==0)return{s:Nt(e(i.$0))};{const r={s:nt([],[])};return C5(t,n=>{Ns(r,t,e(n))},r),r}}function _6(e){const t=e5(e);if(t.length==0)return{s:Nt([])};{const i={s:nt([],[])},r=[k(t)-1],n=()=>{if(r[0]===0){const s=O5(o=>{const l=o.s;return l!=null&&l.$==0||l!=null&&l.$==2?l.$0:F("value not found by View.Sequence")},t);fs(o=>{const l=o.s;return l!=null&&l.$==0},t)?kt(i,s):Lt(i,s)}else r[0]=r[0]-1};return I5(s=>{C5(s,n,i)},t),i}}function N6(e){const t={s:nt([],[])};return C5(e,i=>{const r=i();C5(r,n=>{let s;const o=r.s;if(o!=null&&o.$==0){const l=e.s;s=l!=null&&l.$==0}else s=!1;s?kt(t,n):Lt(t,n)},t),r3(e,r)},t),t}function S6(e){const t={s:nt([],[])};return C5(e,i=>{const r=i();C5(r,n=>{let s;const o=r.s;if(o!=null&&o.$==0){const l=e.s;s=l!=null&&l.$==0}else s=!1;s?kt(t,n):Lt(t,n)},t)},t),t}function At(e){const t=e.s;return t!=null&&t.$==0?m([t.$0,!0]):t!=null&&t.$==2?m([t.$0,!1]):null}function s3(e,t){const i=e.s;i==null?t():(i!=null&&i.$==2||i!=null&&i.$==3)&&i.$1.push(t)}function r3(e,t){const i=e.s;i==null?Xt(t):(i!=null&&i.$==2||i!=null&&i.$==3)&&ze(i.$1,t)}function i3(e,t,i){const r=e.s;r==null?i():r!=null&&r.$==2?(r.$1.push(i),t(r.$0)):r!=null&&r.$==3?(r.$0.push(t),r.$1.push(i)):t(r.$0)}function C5(e,t,i){const r=e.s;r==null?Xt(i):r!=null&&r.$==2?(ze(r.$1,i),t(r.$0)):r!=null&&r.$==3?(r.$0.push(t),ze(r.$1,i)):t(r.$0)}function ze(e,t){if(e.push(t),e.length%20===0){const i=e.slice(0);o6(e);for(let r=0,n=k(i)-1;r<=n;r++){const s=C(i,r);typeof s=="object"?(o=>{o.s&&e.push(o)})(s):(o=>{e.push(o)})(s)}}}function Ns(e,t,i){const r=t.s;r!=null&&r.$==0?kt(e,i):Lt(e,i)}function Lt(e,t){const i=e.s;if(i!=null&&i.$==3){e.s=$e(t,i.$1);const r=i.$0;for(let n=0,s=k(r)-1;n<=s;n++)C(r,n)(t)}}function kt(e,t){const i=e.s;if(i!=null&&i.$==3){e.s=Nt(t);const r=i.$0;for(let n=0,s=k(r)-1;n<=s;n++)C(r,n)(t)}}function o3(e,t){for(let i=0,r=t.length-1;i<=r;i++)t[i]=e(t[i]);return t}function Ce(e){if(e instanceof Array)return e;if(e instanceof V)return qe(e);if(e===null)return[];{const t=[],i=M(e);try{for(;i.MoveNext();)t.push(i.Current);return t}finally{typeof i=="object"&&l5(i)&&i.Dispose()}}}function l3(e,t,i,r){const n=k(r);function s(o){return l=>{switch(l<=0?0:l===1&&o>=0&&o<n?1:2){case 0:return t;case 1:return e(C(r,o));case 2:const u=l/2>>0;return i(s(o)(u),s(o+u)(l-u))}}}return s(0)(n)}function Zt(e,t,i){const r=k(i);function n(s){return o=>{switch(o<=0?0:o===1&&s>=0&&s<r?1:2){case 0:return e;case 1:return C(i,s);case 2:const l=o/2>>0;return t(n(s)(l),n(s+l)(o-l))}}}return n(0)(r)}function we(e,t){function i(){i3(t(),e,()=>{q5().Fork(i)})}q5().Fork(i)}function Z5(e){const t={s:Nt(e)};return()=>t}function y6(e){return St(()=>_6(a5(t=>t(),e)))}function T6(e,t){return C6(H(e,t))}function C6(e){return St(()=>N6(e()))}function I6(e,t){return b6(H(e,t))}function b6(e){return St(()=>S6(e()))}function E6(e,t){const i=()=>e;return Ss(r=>r,(r,n)=>i()(n),t)}function Ss(e,t,i){const r=[new S5("New_5")];return H(n=>{const s=r[0],o=new S5("New_5"),l=o3(u=>{let c;const f=e(u);if(s.ContainsKey(f)){const p=s.Item(f);c=(t5.Set(p.r,u),p)}else c=A6(p=>t(f,p),u);return o.set_Item(f,c),c.e},e5(n));return r[0]=o,l},i)}function A6(e,t){const i=t5.Create_1(t),r=i.View;return{e:e(r),r:i,w:r}}function v6(e,t){return u3(i=>i,e,t)}function u3(e,t,i){const r=[new S5("New_5")];return H(n=>{const s=r[0],o=new S5("New_5"),l=o3(u=>{const c=e(u),f=s.ContainsKey(c)?s.Item(c):t(u);return o.set_Item(c,f),f},e5(n));return r[0]=o,l},i)}function x6(e){return un(t=>ys(t,e))}function ys(e,t){const i=[!1];function r(){i3(t(),n=>{i[0]||(i[0]=!0,e(n))},()=>{i[0]||r()})}r()}function P6(e,t){return St(()=>l6(e,t()))}function F6(e,t,i,r){return St(()=>u6(e,t(),i(),r()))}function Y5(e,t){return St(()=>$6(e(),t()))}function L6(e,t,i){return St(()=>cn(e,t(),i()))}function H(e,t){return St(()=>Qt(e,t()))}function St(e){const t={c:null,o:e};return()=>{let i=t.c;if(i===null){i=t.o(),t.c=i;const r=i.s;return r!=null&&r.$==0?t.o=null:s3(i,()=>{t.c=null}),i}else return i}}let c3=I(e=>{var t;return t=class{},c3=e(t),a(t,"counter"),t.counter=0,t});const a3=c3;function Tn(){return h3(Ye()+1),"uid"+String(Ye())}function wt(){return h3(Ye()+1),Ye()}function Ye(){return a3.counter}function h3(e){a3.counter=e}let f3=I(e=>{var t;return t=class extends Q{},f3=e(t),t});const me=f3;function k6(e,t,i){return pe(r=>{if(e(r)){const n=t(r);return n==null?r:n.$0}else return r},i)}function js(e,t,i){return pe(r=>e(r)?t(r):r,i)}let d3=I(e=>{var t;return G(me),t=class extends me{constructor(n,s,o){super();a(this,"isConst");a(this,"current");a(this,"snap");a(this,"view");a(this,"id");this.isConst=n,this.current=o,this.snap=s,this.view=()=>this.snap,this.id=wt()}get Id(){return"uinref"+String(this.id)}get View(){return this.view}UpdateMaybe(n){const s=n(this.Get());s!=null&&s.$==1&&this.Set(s.$0)}Update(n){this.Set(n(this.Get()))}SetFinal(n){this.isConst?(s=>s("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(s=>{console.log(s)}):(Xt(this.snap),this.isConst=!0,this.current=n,this.snap={s:Nt(n)})}Set(n){this.isConst?(s=>s("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(s=>{console.log(s)}):(Xt(this.snap),this.current=n,this.snap={s:$e(n,[])})}Get(){return this.current}},d3=e(t),t});const fn=d3;let Oe=I(e=>{var t;return t=class extends Q{static MapLens(r,n,s){return Ss(r,(o,l)=>{const u=Tn(),c=f=>E(r(f),o);return n(new class extends me{constructor(){super()}Get(){return xo(c,s.Get())}Set(f){const p=()=>f;return s.Update(h=>js(c,p,h))}SetFinal(f){return this.Set(f)}Update(f){return s.Update(p=>js(c,f,p))}UpdateMaybe(f){return s.Update(p=>k6(c,f,p))}get View(){return l}get Id(){return u}})},s.View)}static Lens(r,n,s){const o=Tn(),l=H(n,r.View);return new class extends me{constructor(){super()}Get(){return n(r.Get())}Set(u){return r.Update(c=>s(c,u))}SetFinal(u){return this.Set(u)}Update(u){return r.Update(c=>s(c,u(n(c))))}UpdateMaybe(u){return r.UpdateMaybe(c=>{const f=u(n(c));return f==null?null:m(s(c,f.$0))})}get View(){return l}get Id(){return o}}}static Update(r,n){Oe.Set(r,n(r.Get()))}static SetFinal(r,n){r.SetFinal(n)}static Set(r,n){r.Set(n)}static CreateWaiting(){return new fn(!1,{s:nt([],[])},null)}static Create(){return new fn(!1,{s:$e(null,[])},null)}static CreateLogged(r,n){globalThis.UINVars||(globalThis.UINVars=[]);const s=Oe.Create_1(n);return globalThis.UINVars.push([r,s]),s}static Create_1(r){return new fn(!1,{s:$e(r,[])},r)}},Oe=e(t),t});const t5=Oe;function Ks(){return te.ThemeIsDark}function Xs(){return te.Code}function V6(e){return e.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&")}function zs(e,t){return e.split(t)}function Cn(e,t){return e.substring(0,t.length)==t}function p3(e,t,i){return e.substr(t,i)}function Ys(e){return e==null||e==""}function B5(e,t){return e5(t).join(e)}function G6(e,t){return je(e,R6(t))}function R6(e){return e??""}function J5(e,t,i){return D6(e,new RegExp("["+V6(t.join(""))+"]"),i)}function D6(e,t,i){return i===1?vt(r=>r!=="",zs(e,t)):zs(e,t)}function O6(e){return Be(e.length,t=>e[t])}function m5(e,t){e.Set(e.Get()+t)}let $3=I(e=>{var t;return t=class extends Q{static Value(r){return r.ValueObj}get AsChoiceView(){return console.warn("Attribute value hole filled with non-text data",this.Name),gs("")}ForTextView(){return console.warn("Content hole filled with attribute data",this.Name),null}ApplyVarHole(r){console.warn("Not a var hole: ",this.Name)}AddAttribute(r,n){console.warn("Var hole filled with non-Var data",this.Name)}},$3=e(t),t});const j=$3;function se(e,t,i){return ot(x6(t.View),i)}let w3=I(e=>{var t;return t=class{},w3=e(t),a(t,"Empty"),t.Empty={$:0},t});const M6=w3;function m3(e){const t=[];function i(r){for(;;){if(r.$==1)return t.push(r.$0);if(r.$==2){const n=r.$1,s=r.$0;i(s),r=n}else return r.$==3?I5(n=>{t.push(n)},r.$0):null}}return i(e),t.slice(0)}function g3(e){return{$:1,$0:e}}function U6(e){const t=Ce(e);return Zt(N3(),_3,t)}function _3(e,t){return e.$==0?t:t.$==0?e:{$:2,$0:e,$1:t}}function N3(){return M6.Empty}function W6(){return T3.CubicInOut}let S3=I(e=>{var t;return t=class extends Q{constructor(n){super();a(this,"transformTime");this.transformTime=n}static get CubicInOut(){return W6()}static Custom(n){return new t(n)}TransformTime(n){return this.transformTime(n)}},S3=e(t),t});const H6=S3;let y3=I(e=>{var t;return t=class{},y3=e(t),a(t,"UseAnimations"),a(t,"CubicInOut"),t.CubicInOut=H6.Custom(r=>{const n=r*r;return 3*n-2*(n*r)}),t.UseAnimations=!0,t});const T3=y3;function q6(){return T3.UseAnimations}function B6(e){return j6(sn(t=>t.$==1?m(t.$0):null,m3(e.$0)))}function j6(e){const t=Ce(e),i=k(t);if(i===0)return C3();if(i===1)return C(t,0);{const r=Vo(a5(s=>s.Duration,t)),n=O5(s=>K6(r,s),t);return Ts(r,s=>{I5(o=>{o.Compute(s)},n)})}}function K6(e,t){const i=t.Compute,r=t.Duration,n=Tr(()=>t.Compute(t.Duration));return{Compute:s=>s>=r?n.f():i(s),Duration:e}}function C3(e){return Ts(0,()=>e)}function Ts(e,t){return{Compute:t,Duration:e}}function X6(e){I5(t=>{t.$==0&&t.$0()},m3(e.$0))}function z6(e){return e.$0}function Ie(e){return{$:0,$0:e}}function qt(){return Ie(N3())}function dn(e,t){return I3(Ie(g3({$:0,$0:e})),t)}function Y6(e,t){const i=t.Duration;if(i===0)return $5();{const r=n=>{function s(o){return l=>{const u=l-o;return t.Compute(u),e(),u<=i?void requestAnimationFrame(c=>{s(o)(c)}):n()}}requestAnimationFrame(o=>{s(o)(o)})};return un((n,s,o)=>r.apply(null,[n,s,o]))}}function Qs(e){return T5(()=>ot(Y6(()=>{},B6(e)),()=>(X6(e),Yt(null))))}function Pe(e){return Ie(g3({$:1,$0:e}))}function Fe(e,t){const i=t.Compute;return Ts(t.Duration,r=>e(i(r)))}function yt(e){return C3(e)}function an(e){return Ie(U6(a5(z6,e)))}function I3(e,t){return Ie(_3(e.$0,t.$0))}function In(){return q6()}let b3=I(e=>{var t;return t=class extends Q{constructor(n,s){super();a(this,"push");a(this,"value");a(this,"dirty");a(this,"updates");this.push=s,this.value=void 0,this.dirty=!1,this.updates=H(o=>{this.value=o,this.dirty=!0},n)}get NChanged(){return this.updates}NSync(n){this.dirty&&(this.push(n)(this.value),this.dirty=!1)}NGetExitAnim(n){return qt()}NGetEnterAnim(n){return qt()}NGetChangeAnim(n){return qt()}},b3=e(t),t});const Q6=b3;let Zs=I(e=>{var i;return i=class extends Q{constructor(s,o,l,u,c){var n=(...t)=>{super(...t);a(this,"change");a(this,"enter");a(this,"exit");a(this,"flags")};s=="New_2"&&(s="New_3",o=($,g)=>yt(g),l=yt,u=yt,c=0);let f;s=="New_1"&&(f=o,s="New_3",o=f,l=yt,u=yt,c=1);let p,h,d;if(s=="New"&&(p=o,h=l,d=u,s="New_3",o=p,l=E(h,null)?yt:h,u=E(d,null)?yt:d,c=1|(E(h,null)?0:2)|(E(d,null)?0:4)),s=="New_3"){const $=o,g=l,b=u,_=c;n(),this.change=$,this.enter=g,this.exit=b,this.flags=_}}Copy(s,o,l,u){const c=s==null?d=>$=>this.TChange(d,$):s.$0,f=this.TEnter,p=this.TExit,h=this.TFlags;return new Zs("New_3",(d,$)=>c(d)($),o==null?f:o.$0,l==null?p:l.$0,u==null?h:u.$0)}get TFlags(){return this.flags}get TExit(){return this.exit}get TEnter(){return this.enter}TChange(s,o){return this.change(s,o)}static New(s,o,l){return new this("New",s,o,l)}static New_1(s){return new this("New_1",s)}static New_2(){return new this("New_2")}static New_3(s,o,l,u){return new this("New_3",s,o,l,u)}},Zs=e(i),i});function Z6(e,t){return e.TExit(t)}function J6(e,t){return e.TEnter(t)}function Js(e,t,i){return e.TChange(t,i)}I(e=>{var t;return t=class extends Q{constructor(n,s,o){super();a(this,"tr");a(this,"push");a(this,"logical");a(this,"visible");a(this,"dirty");a(this,"updates");this.tr=n,this.push=o,this.logical=null,this.visible=null,this.dirty=!0,this.updates=H(l=>{this.logical=m(l),this.dirty=!0},s)}sync(n){if(this.dirty){const s=this.logical;s==null||this.push(n)(s.$0),this.visible=this.logical,this.dirty=!1}}pushVisible(n,s){this.visible=m(s),this.dirty=!0,this.push(n)(s)}get NChanged(){return this.updates}NSync(n){}NGetExitAnim(n){const s=this.visible;let o=s!=null&&s.$==1?Pe(Fe(l=>{this.pushVisible(n,l)},Z6(this.tr,s.$0))):qt();return dn(()=>{this.dirty=!0,this.visible=null},o)}NGetEnterAnim(n){let s,o;const l=this.visible,u=this.logical;switch(l==null?u!=null&&u.$==1?(s=u.$0,1):2:u!=null&&u.$==1&&this.dirty?(s=[u.$0,l.$0],0):2){case 0:o=Pe(Fe(c=>{this.pushVisible(n,c)},Js(this.tr,s[1],s[0])));break;case 1:o=Pe(Fe(c=>{this.pushVisible(n,c)},J6(this.tr,s)));break;case 2:o=qt();break}return dn(()=>{this.sync(n)},o)}NGetChangeAnim(n){let s;const o=this.visible,l=this.logical;let u=o!=null&&o.$==1&&l!=null&&l.$==1&&this.dirty&&(s=[l.$0,o.$0],!0)?Pe(Fe(c=>{this.pushVisible(n,c)},Js(this.tr,s[1],s[0]))):qt();return dn(()=>{this.sync(n)},u)}},e(t),t});function tl(){return r5.FloatApplyChecked}function el(){return r5.FloatGetChecked}function nl(){return r5.FloatSetChecked}function E3(){return r5.FloatApplyUnchecked}function sl(){return r5.FloatGetUnchecked}function rl(){return r5.FloatSetUnchecked}function il(){return r5.IntApplyChecked}function ol(){return r5.IntGetChecked}function ll(){return r5.IntSetChecked}function ul(){return r5.IntApplyUnchecked}function cl(){return r5.IntGetUnchecked}function al(){return r5.IntSetUnchecked}function A3(){return r5.FileApplyUnchecked}function hl(){return r5.FileGetUnchecked}function fl(){return r5.FileSetUnchecked}function v3(){return r5.DateTimeApplyUnchecked}function dl(){return r5.DateTimeGetUnchecked}function pl(){return r5.DateTimeSetUnchecked}function x3(){return r5.StringListApply}function $l(){return r5.StringListGet}function wl(){return r5.StringListSet}function P3(){return r5.StringApply}function ml(){return r5.StringGet}function gl(){return r5.StringSet}function F3(){return r5.BoolCheckedApply}function _l(e,t,i){let r;return r=null,[n=>{n.addEventListener("change",()=>{i.UpdateMaybe(s=>{let o;return r=e(n),r!=null&&r.$==1&&r.$0!==s&&(o=[r,r.$0],!0)?o[0]:null})})},n=>{const s=t(n);return o=>o==null?null:s(o.$0)},H(n=>r!=null&&r.$==1&&E(r.$0,n)&&(r.$0,!0)?null:m(n),i.View)]}function Tt(e,t,i){let r;return r=null,[n=>{const s=()=>{i.UpdateMaybe(o=>{let l;return r=e(n),r!=null&&r.$==1&&!E(r.$0,o)&&(l=[r,r.$0],!0)?l[0]:null})};n.addEventListener("change",s),n.addEventListener("input",s),n.addEventListener("keypress",s)},n=>{const s=t(n);return o=>o==null?null:s(o.$0)},H(n=>r!=null&&r.$==1&&E(r.$0,n)&&(r.$0,!0)?null:m(n),i.View)]}function Nl(e){return e.match(new RegExp("\\s"))!==null}function re(e){return G6(Nl,e)}function Sl(e){const t=Date.parse(e);return isNaN(t)?null:m(t)}class x5{static Valid(t,i){return L(x5,{$:0,$0:t,$1:i})}static Invalid(t){return L(x5,{$:1,$0:t})}static Blank(t){return L(x5,{$:2,$0:t})}static Make(t){let i;return x5.Valid(t,(i=t,String(i)))}get Input(){return this.$==1?this.$0:this.$==2?this.$0:this.$1}}I(e=>{var t;return G(Error),t=class extends Error{static New(){return new this("New")}static New_1(r){return new this("New_1",r)}constructor(r,n){if(r=="New"&&(r="New_1",n="One of the identified items was in an invalid format."),r=="New_1"){const s=n;super(s)}}},e(t),t});I(e=>{var t;return G(Error),t=class extends Error{static New(){return new this("New")}static New_1(r){return new this("New_1",r)}constructor(r,n){if(r=="New"&&(r="New_1",n="Arithmetic operation resulted in an overflow."),r=="New_1"){const s=n;super(s)}}},e(t),t});function yl(e,t,i,r){const n=+e,s=n===n-n%1&&n>=t&&n<=i;return s&&r.set(n),s}function Tl(e,t){return yl(e,-2147483648,2147483647,t)}let L3=I(e=>{var t;return t=class{},L3=e(t),a(t,"FloatApplyChecked"),a(t,"FloatGetChecked"),a(t,"FloatSetChecked"),a(t,"FloatApplyUnchecked"),a(t,"FloatGetUnchecked"),a(t,"FloatSetUnchecked"),a(t,"IntApplyChecked"),a(t,"IntGetChecked"),a(t,"IntSetChecked"),a(t,"IntApplyUnchecked"),a(t,"IntGetUnchecked"),a(t,"IntSetUnchecked"),a(t,"FileApplyUnchecked"),a(t,"FileGetUnchecked"),a(t,"FileSetUnchecked"),a(t,"DateTimeApplyUnchecked"),a(t,"DateTimeGetUnchecked"),a(t,"DateTimeSetUnchecked"),a(t,"StringListApply"),a(t,"StringListGet"),a(t,"StringListSet"),a(t,"StringApply"),a(t,"StringGet"),a(t,"StringSet"),a(t,"BoolCheckedApply"),a(t,"EmptyAttr"),(()=>{t.EmptyAttr=null,t.BoolCheckedApply=w=>[N=>{N.addEventListener("change",()=>w.Get()!=N.checked?w.Set(N.checked):null)},N=>S=>S!=null&&S.$==1?void(N.checked=S.$0):null,H(m,w.View)],t.StringSet=w=>N=>{w.value=N},t.StringGet=w=>m(w.value);const r=ml(),n=gl();t.StringApply=w=>Tt(r,n,w),t.StringListSet=w=>N=>{const S=w.options;for(let x=0,U=S.length-1;x<=U;x++)(()=>{const J=S.item(x);J.selected=wo(J.value,N)})()},t.StringListGet=w=>{const N=w.selectedOptions;return m(e5(F5(()=>bt(S=>[N.item(S).value],_t(0,N.length-1)))))};const s=$l(),o=wl();t.StringListApply=w=>Tt(s,o,w),t.DateTimeSetUnchecked=w=>N=>{w.value=new Date(N).toLocaleString()},t.DateTimeGetUnchecked=w=>{let N,S;const x=w.value;if(re(x))return m(-864e13);{N=0;const U=Sl(x);return S=[U!=null&&U.$==1&&(N=U.$0,!0),N],S[0]?m(S[1]):null}};const l=dl(),u=pl();t.DateTimeApplyUnchecked=w=>Tt(l,u,w),t.FileSetUnchecked=()=>()=>null,t.FileGetUnchecked=w=>{const N=w.files;return m(e5(F5(()=>a5(S=>N.item(S),_t(0,N.length-1)))))};const c=hl(),f=fl();t.FileApplyUnchecked=w=>_l(c,f,w),t.IntSetUnchecked=w=>N=>{w.value=String(N)},t.IntGetUnchecked=w=>{const N=w.value;if(re(N))return m(0);{const S=+N;return S!==S>>0?null:m(S)}};const p=cl(),h=al();t.IntApplyUnchecked=w=>Tt(p,h,w),t.IntSetChecked=w=>N=>{const S=N.Input;return w.value!=S?void(w.value=S):null},t.IntGetChecked=w=>{let N,S;const x=w.value;if(re(x))N=!w.checkValidity||w.checkValidity()?x5.Blank(x):x5.Invalid(x);else{const U=(S=0,[Tl(x,{get:()=>S,set:J=>{S=J}}),S]);N=U[0]?x5.Valid(U[1],x):x5.Invalid(x)}return m(N)};const d=ol(),$=ll();t.IntApplyChecked=w=>Tt(d,$,w),t.FloatSetUnchecked=w=>N=>{w.value=String(N)},t.FloatGetUnchecked=w=>{const N=w.value;if(re(N))return m(0);{const S=+N;return isNaN(S)?null:m(S)}};const g=sl(),b=rl();t.FloatApplyUnchecked=w=>Tt(g,b,w),t.FloatSetChecked=w=>N=>{const S=N.Input;return w.value!=S?void(w.value=S):null},t.FloatGetChecked=w=>{let N;const S=w.value;if(re(S))N=!w.checkValidity||w.checkValidity()?x5.Blank(S):x5.Invalid(S);else{const x=+S;N=isNaN(x)?x5.Invalid(S):x5.Valid(x,S)}return m(N)};const _=el(),y=nl();t.FloatApplyChecked=w=>Tt(_,y,w)})(),t});const r5=L3;function k3(e,t,i,r){const n={DynElem:e,DynFlags:t,DynNodes:i};return gt(n,"OnAfterRender",r),n}function ge(e){return v.A3(e)}function Cs(e,t){return v.A1(new Q6(e,t))}function Et(){return r5.EmptyAttr}function Cl(e,t){if(e===null)return t;if(t===null)return e;{const i=v.A2(e,t);return Al(i,En(e)|En(t)),i}}function Il(e){return Is(e,(t,i)=>t.NGetChangeAnim(i))}function bl(e){return Is(e,(t,i)=>t.NGetExitAnim(i))}function El(e){return Is(e,(t,i)=>t.NGetEnterAnim(i))}function Is(e,t){return an(O5(i=>t(i,e.DynElem),e.DynNodes))}function bn(e){return l3(t=>t.NChanged,Z5(),Y5,e.DynNodes)}function fe(e){return k3(e,0,[],null)}function bs(e,t){const i=[],r=[];function n(l){for(;;)if(l!==null){if(l!=null&&l.$==1)return i.push(l.$0);if(l!=null&&l.$==2){const u=l.$1,c=l.$0;n(c),l=u}else return l!=null&&l.$==3?l.$0(e):l!=null&&l.$==4?r.push(l.$0):null}else return null}n(t);const s=i.slice(0);return k3(e,En(t),s,r.length===0?null:m(l=>{Lo(u=>{u(l)},r)}))}function V3(e,t){I5(i=>{i.NSync(e)},t.DynNodes)}function Al(e,t){e.flags=t}function En(e){return e!==null&&e.hasOwnProperty("flags")?e.flags:0}function vl(e){return(e.DynFlags&2)===2}function xl(e){return(e.DynFlags&1)===1}function Pl(e){return(e.DynFlags&4)===4}class v{static A1(t){return L(v,{$:1,$0:t})}static A2(t,i){return L(v,{$:2,$0:t,$1:i})}static A3(t){return L(v,{$:3,$0:t})}static A4(t){return L(v,{$:4,$0:t})}static Handler(t,i){return v.HandlerImpl(t,i)}static HandlerImpl(t,i){return ge(r=>{r.addEventListener(t,n=>i(r)(n),!1)})}static OnAfterRenderImpl(t){return v.A4(t)}static Concat(t){const i=Ce(t);return Zt(Et(),v.Append,i)}static Append(t,i){return Cl(t,i)}static Create(t,i){return ge(r=>{r.setAttribute(t,i)})}}function Es(e){return{$:6,$0:e}}function tr(e){return{$:5,$0:e}}function Fl(e){return{$:4,$0:e}}function Ll(e){return{$:2,$0:e}}function G3(e){return{$:1,$0:e}}function Qe(e,t){return{$:0,$0:e,$1:t}}function kl(e,t){return new et("New_2",vt(e,zt(t)))}function Vl(e,t){const i=new et("New_2",zt(e));return i.IntersectWith(zt(t)),i}function Gl(e,t){const i=new et("New_2",zt(t));return i.ExceptWith(zt(e)),i}function zt(e){const t=d5(e.Count,void 0);return e.CopyTo(t,0),t}function be(e){return{$:0,$0:e}}function As(e){return zt(e.$0)}function R3(){return be(new et("New_3"))}function Rl(e,t){return be(Vl(e.$0,t.$0))}function D3(e,t){return be(Gl(e.$0,t.$0))}function O3(e){const t=[];function i(s,o){for(;;)switch(s){case 0:if(o!=null&&o.$==0){const l=o.$1,u=o.$0;i(0,u),o=l}else if(o!=null&&o.$==1)o=o.$0,s=1;else if(o!=null&&o.$==2)o=o.$0.Current;else if(o!=null&&o.$==6){const l=o.$0.Holes;return(u=>c=>{I5(u,c)})(n)(l)}else return null;break;case 1:t.push(o),o=o.Children,s=0;break}}function r(s){return i(0,s)}function n(s){return i(1,s)}return r(e),be(new et("New_2",t))}function vs(e,t){return be(kl(e,t.$0))}let M3=I(e=>{var t;return t=class{},M3=e(t),a(t,"BatchUpdatesEnabled"),t.BatchUpdatesEnabled=!0,t});const Dl=M3;function An(){return Dl.BatchUpdatesEnabled}function U3(e,t){return{PreviousNodes:e,Top:t}}class lt{constructor(){a(this,"Attr");a(this,"Children");a(this,"Delimiters");a(this,"El");a(this,"ElKey");a(this,"Render")}GetHashCode(){return this.ElKey}Equals(t){return this.ElKey===t.ElKey}static New(t,i,r,n,s,o){const l={Attr:t,Children:i,El:n,ElKey:s};let u=(gt(l,"Delimiters",r),gt(l,"Render",o),l);return L(lt,u)}}function Ze(e){return{$:0,$0:e}}function Ol(e,t){I5(e,t.$0)}function Ml(e,t){const i=e.$0;return Ze(vt(r=>fs(n=>r!==n,i),t.$0))}function Ul(e){const t=[];function i(r){for(;;)if(r!=null&&r.$==2)r=r.$0.Current;else{if(r!=null&&r.$==1)return t.push(r.$0.El);if(r==null)return null;if(r!=null&&r.$==5)return t.push(r.$0);if(r!=null&&r.$==4)return t.push(r.$0.Text);if(r!=null&&r.$==6){const n=r.$0.Els;return(s=>o=>{I5(s,o)})(s=>{s==null||s.constructor===Object?i(s):t.push(s)})(n)}else{const n=r.$1,s=r.$0;i(s),r=n}}}return i(e.Children),Ze(Ce(t))}function Wl(e,t){let i;if(t!=null&&t.$==1){const r=[];for(i=t.$0[0].nextSibling;i!==t.$0[1];)r.push(i),i=i.nextSibling;return Ze(r)}else{let r=e.childNodes.length;const n=e.childNodes;let s=Be(r,o=>n[o]);return Ze(s)}}let W3=I(e=>{var t;return t=class{},W3=e(t),a(t,"defaultWrap"),a(t,"wrapMap"),a(t,"rhtml"),a(t,"rtagName"),a(t,"rxhtmlTag"),(()=>{t.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi"),t.rtagName=new RegExp("<([\\w:]+)"),t.rhtml=new RegExp("<|&#?\\w+;");const r=[1,"<table>","</table>"];let n=Object.fromEntries([["option",[1,"<select multiple='multiple'>","</select>"]],["legend",[1,"<fieldset>","</fieldset>"]],["area",[1,"<map>","</map>"]],["param",[1,"<object>","</object>"]],["thead",r],["tbody",r],["tfoot",r],["tr",[2,"<table><tbody>","</tbody></table>"]],["col",[2,"<table><colgroup>","</colgoup></table>"]],["td",[3,"<table><tbody><tr>","</tr></tbody></table>"]]]);t.wrapMap=n,t.defaultWrap=[0,"",""]})(),t});const Ee=W3;function H3(e){const t=globalThis.document.createElement("div");if(Bl().test(e)){let l=function(u,c){for(;;){if(c===0)return u;{const f=c;u=u.lastChild,c=f-1}}};var i=l;const r=jl().exec(e),n=E(r,null)?"":C(r,1).toLowerCase(),s=ql()[n],o=s||Hl();return t.innerHTML=o[1]+e.replace(Kl(),"<$1></$2>")+o[2],l(t,o[0])}else return t.appendChild(globalThis.document.createTextNode(e)),t}function Hl(){return Ee.defaultWrap}function ql(){return Ee.wrapMap}function Bl(){return Ee.rhtml}function jl(){return Ee.rtagName}function Kl(){return Ee.rxhtmlTag}function Xl(e,t){const i=globalThis.document.querySelectorAll(e);for(let r=0,n=i.length-1;r<=n;r++)t(i[r])}function zl(e,t,i){const r=e.querySelectorAll(t);for(let n=0,s=r.length-1;n<=s;n++)i(r[n])}function q3(e){const t=[];for(let i=0,r=e.childNodes.length-1;i<=r;i++)t.push(e.childNodes[i]);return t}function Yl(e,t,i){let r;if(i.parentNode===e){const n=i.nextSibling;let s=E(n,null)?null:n;r=t===s}else r=!1;r||e.insertBefore(i,t)}function Ql(e,t){t.parentNode===e&&e.removeChild(t)}function Zl(e,t){e.Value=t,e.Dirty=!0}function Jl(){return{Text:globalThis.document.createTextNode(""),Dirty:!1,Value:""}}function tu(e,t){e.Current=t,e.Dirty=!0}function eu(){return{Current:null,Dirty:!1}}function er(e,t,i){const r=O3(i);_e(e,t.Top),t.PreviousNodes=r}function nr(e,t,i){return In()?T5(()=>{const r=O3(i),n=su(t,r),s=nu(t,r);return ot(Qs(I3(n,ru(t,r))),()=>ot(sr(e,t),()=>ot(Qs(s),()=>(t.PreviousNodes=r,Yt(null)))))}):sr(e,t)}function sr(e,t){if(An()){const i=r=>{requestAnimationFrame(()=>{_e(e,t.Top),r()})};return un((r,n,s)=>i.apply(null,[r,n,s]))}else return _e(e,t.Top),Yt(null)}function nu(e,t){return an(O5(i=>El(i.Attr),As(D3(e.PreviousNodes,vs(i=>xl(i.Attr),t)))))}function su(e,t){const i=n=>Pl(n.Attr),r=n=>vs(i,n);return an(O5(n=>Il(n.Attr),As(Rl(r(e.PreviousNodes),r(t)))))}function ru(e,t){return an(O5(i=>bl(i.Attr),As(D3(t,vs(i=>vl(i.Attr),e.PreviousNodes)))))}function iu(e,t,i){return U3(R3(),lu(e,t,Et(),i))}function ou(e,t){return U3(R3(),xs(e,Et(),t))}function lu(e,t,i,r){const n=e.parentNode;Ps(t,r);const s=bs(n,i);return lt.New(s,r,m([e,t]),n,wt(),mt(s.OnAfterRender))}function xs(e,t,i){Je(e,i);const r=bs(e,t);return lt.New(r,i,null,e,wt(),mt(r.OnAfterRender))}function _e(e,t){e||uu(t),B3(t.Children),j3(t)}function B3(e){for(;;){if(e!=null&&e.$==1)return _e(!1,e.$0);if(e!=null&&e.$==2)e=e.$0.Current;else{if(e==null)return null;if(e!=null&&e.$==5)return null;if(e!=null&&e.$==4){const t=e.$0;return t.Dirty?(t.Text.nodeValue=t.Value,t.Dirty=!1):null}else if(e!=null&&e.$==6){const t=e.$0;return I5(i=>{_e(!1,i)},t.Holes),I5(i=>{V3(i[0],i[1])},t.Attrs),j3(t)}else{const t=e.$1,i=e.$0;B3(i),e=t}}}}function j3(e){const t=mt(e.Render);t!=null&&t.$==1&&(t.$0(e.El),gt(e,"Render",null))}function vn(e,t){const i=e.parentNode,r=globalThis.document.createTextNode("");return i.insertBefore(r,e),Ps(e,t),r}function Ps(e,t){xt(e.parentNode,t,e)}function Je(e,t){xt(e,t,null)}function uu(e){function t(i){function r(n){for(;;)if(n!=null&&n.$==0){const s=n.$1,o=n.$0;if(r(o))return!0;n=s}else if(n!=null&&n.$==2){const s=n.$0;if(s.Dirty)return!0;n=s.Current}else if(n!=null&&n.$==6){const s=n.$0;return s.Dirty||mn(t,s.Holes)}else return!1}return r(i.Children)}V3(e.El,e.Attr),t(e)&&cu(e)}function cu(e){const t=e.El;function i(o,l){for(;;){if(o!=null&&o.$==1)return o.$0.El;if(o!=null&&o.$==2){const u=o.$0;if(u.Dirty)return u.Dirty=!1,xt(t,u.Current,l);o=u.Current}else{if(o==null)return l;if(o!=null&&o.$==4)return o.$0.Text;if(o!=null&&o.$==5)return o.$0;if(o!=null&&o.$==6){const u=o.$0;return u.Dirty&&(u.Dirty=!1),ds((c,f)=>c==null||c.constructor===Object?i(c,f):c,u.Els,l)}else{const u=o.$1;o=o.$0,l=i(u,l)}}}}const r=e.El;Ol(o=>{Ql(r,o)},Ml(Ul(e),Wl(e.El,mt(e.Delimiters))));let n=e.Children;const s=mt(e.Delimiters);i(n,s!=null&&s.$==1?s.$0[1]:null)}function xt(e,t,i){for(;;){if(t!=null&&t.$==1)return Le(e,t.$0.El,i);if(t!=null&&t.$==2){const r=t.$0;r.Dirty=!1,t=r.Current}else{if(t==null)return i;if(t!=null&&t.$==4)return Le(e,t.$0.Text,i);if(t!=null&&t.$==5)return Le(e,t.$0,i);if(t!=null&&t.$==6)return ds((r,n)=>(s=>o=>l=>o==null||o.constructor===Object?xt(s,o,l):Le(s,o,l))(e)(r)(n),t.$0.Els,i);{const r=t.$1;t=t.$0,i=xt(e,r,i)}}}}function Le(e,t,i){return Yl(e,i,t),t}class Ne{constructor(){a(this,"c");a(this,"s");a(this,"v")}static Create(t){let i;return i=null,i=Ne.New(t,null,()=>{let r;return r=i.s,r===null&&(r=g6(i.c()),i.s=r,s3(r,()=>{i.s=null})),r}),i}set Value(t){const i=this.s;i!==null&&Xt(i),this.c=t}static New(t,i,r){return L(Ne,{c:t,s:i,v:r})}}let K3=I(e=>{var t;return G(b5),t=class extends b5{constructor(n,s,o,l,u){const c=u.View,f=b=>b[1],p=b=>O5(f,b),h=Z5(),d=b=>Zt(h,Y5,b);let $=T6(b=>d(p(b)),c),g=Y5(s,$);super(Es(n),g,o,l);a(this,"treeNode");a(this,"holeUpdates");a(this,"origHoles");this.treeNode=n,this.holeUpdates=u,this.origHoles=this.treeNode.Holes}RemoveAllUpdated(){this.treeNode.Holes=this.origHoles,this.holeUpdates.Set([])}RemoveUpdated(n){const s=n.docNode;if(s!=null&&s.$==1){const o=s.$0.ElKey;this.treeNode.Holes=vt(l=>l.ElKey!==o,this.treeNode.Holes),this.holeUpdates.Set(vt(l=>l[0]!==o,this.holeUpdates.Get()))}else F("DocUpdater.RemoveUpdated expects a single element node")}AddUpdated(n){const s=n.docNode;if(s!=null&&s.$==1){const o=s.$0;this.treeNode.Holes=this.treeNode.Holes.concat([o]);const l=this.holeUpdates.Get();l.push([o.ElKey,n.updates]),this.holeUpdates.Set(l)}else F("DocUpdater.AddUpdated expects a single element node")}ClearHoles(){this.origHoles=[],this.treeNode.Holes=[],this.holeUpdates.Set([])}AddHole(n){this.origHoles.push(n),this.treeNode.Holes=this.treeNode.Holes.concat([n])}},K3=e(t),t});const au=K3;let X3=I(e=>{var t;return G(L5),t=class extends L5{constructor(n,s,o,l){super(n,s);a(this,"docNode_1");a(this,"updates_1");a(this,"elt");a(this,"rvUpdates");this.docNode_1=n,this.updates_1=s,this.elt=o,this.rvUpdates=l}SetStyle(n,s){this.elt.style[n]=s}HasClass(n){return new RegExp("(\\s|^)"+n+"(\\s|$)").test(this.elt.className)}GetProperty(n){return this.elt[n]}SetProperty(n,s){this.elt[n]=s}RemoveAttribute(n){this.elt.removeAttribute(n)}HasAttribute(n){return this.elt.hasAttribute(n)}GetAttribute(n){return this.elt.getAttribute(n)}SetAttribute(n,s){this.elt.setAttribute(n,s)}SetText(n){const s=this.docNode_1;s!=null&&s.$==1?s.$0.Children=null:s!=null&&s.$==6?(s.$0.Els=[],this.ClearHoles()):F("Invalid docNode in Elt"),this.rvUpdates.Value=Z5(),this.elt.textContent=n}GetText(){return this.elt.textContent}SetValue(n){this.elt.value=n}GetValue(){return this.elt.value}Id(){return this.elt.id}Html(){return this.elt.outerHTML}Clear(){const n=this.docNode_1;for(n!=null&&n.$==1?n.$0.Children=null:n!=null&&n.$==6?(n.$0.Els=[],this.ClearHoles()):F("Invalid docNode in Elt"),this.rvUpdates.Value=Z5();this.elt.hasChildNodes();)this.elt.removeChild(this.elt.firstChild)}Prepend(n){const s=this.docNode_1;if(s!=null&&s.$==1){const o=s.$0;o.Children=Qe(n.docNode,o.Children);const l=this.elt.firstChild;let u=E(l,null)?null:l;xt(this.elt,n.docNode,u)}else if(s!=null&&s.$==6){const o=this.elt.insertBefore(globalThis.document.createTextNode(""),this.elt.firstChild),l=vn(o,n.docNode);this.AddHole(lt.New(fe(this.elt),n.docNode,m([l,o]),this.elt,wt(),null))}else F("Invalid docNode in Elt");this.rvUpdates.Value=Y5(this.rvUpdates.c,n.updates)}Append(n){const s=this.docNode_1;if(s!=null&&s.$==1){const o=s.$0;o.Children=Qe(o.Children,n.docNode),xt(this.elt,n.docNode,null)}else if(s!=null&&s.$==6){const o=this.elt.appendChild(globalThis.document.createTextNode("")),l=vn(o,n.docNode);this.AddHole(lt.New(fe(this.elt),n.docNode,m([l,o]),this.elt,wt(),null))}else F("Invalid docNode in Elt");this.rvUpdates.Value=Y5(this.rvUpdates.c,n.updates)}static TreeNode(n,s){const o=Ne.Create(s),l=O5(f=>bn(f[1]),n.Attrs);let u=Zt(Z5(),Y5,l),c=Y5(u,o.v);return new t(Es(n),c,C(n.Els,0),o)}static New(n,s,o){const l=xs(n,s,o.docNode),u=Ne.Create(o.updates);return new t(G3(l),Y5(bn(l.Attr),u.v),n,u)}ToUpdater(){let n;const s=this.docNode_1;if(s!=null&&s.$==1){const o=m(this.elt);n=yr({Els:[this.elt],Dirty:!0,Holes:[],Attrs:[[this.elt,s.$0.Attr]],Render:void 0,El:o?o.$0:void 0},["Render","El"])}else n=s!=null&&s.$==6?s.$0:F("Invalid docNode in Elt");return new au(n,this.updates_1,this.elt,this.rvUpdates,t5.Create_1([]))}OnAfterRenderView(n,s){const o=Tn();return this.Append(L5.BindView(l=>(this.elt[o]=l,L5.Empty),n)),this.OnAfterRenderu0027(l=>{s(l,l[o])})}OnAfterRender(n){return this.OnAfterRenderu0027(n)}OnAfterRenderu0027(n){let s,o;const l=this.docNode_1;if(l!=null&&l.$==1){const u=l.$0,c=mt(u.Render);if(c!=null&&c.$==1){const f=c.$0;s=m(p=>{f(p),n(p)})}else s=m(n);gt(u,"Render",s)}else if(l!=null&&l.$==6){const u=l.$0,c=mt(u.Render);if(c!=null&&c.$==1){const f=c.$0;o=m(p=>{f(p),n(p)})}else o=m(n);gt(u,"Render",o)}else F("Invalid docNode in Elt");return this}onView(n,s,o){const l=o(this.elt);return this.elt.addEventListener(n,u=>ys(l(u),s),!1),this}on(n,s){return this.elt.addEventListener(n,o=>s(this.elt,o),!1),this}ClearHoles(){const n=this.docNode_1;n!=null&&n.$==6&&(n.$0.Holes=[])}AddHole(n){const s=this.docNode_1;s!=null&&s.$==6&&s.$0.Holes.push(n)}},X3=e(t),t});const b5=X3;function z3(e){return ct(F3(),e)}function hu(e){return ct(tl(),e)}function Y3(e){return ct(E3(),e)}function fu(e){return ct(il(),e)}function rr(e){return ct(ul(),e)}function Q3(e){return ct(A3(),e)}function Z3(e){return ct(v3(),e)}function du(e){return ct(x3(),e)}function v5(e){return ct(P3(),e)}function ct(e,t){const i=e(t);return v.Append(ge(i[0]),xn(i[1],i[2]))}function pu(e,t){return Cs(t,i=>r=>{i[e]=r})}function tn(e){return v.A4(e)}function ir(e,t,i){return ge(r=>{const n=i(r);r.addEventListener(e,s=>ys(n(s),t),!1)})}function $u(e,t){return ge(i=>{i.addEventListener(e,r=>t(i)(r),!1)})}function xn(e,t){return Cs(t,e)}function ie(e,t){return Cs(t,i=>r=>i.setAttribute(e,r))}function or(e){const t=[0];function i(){return T5(()=>ot(e,()=>{const r=t[0];return E(r,1)?(t[0]=0,$5()):E(r,2)?(t[0]=1,i()):$5()}))}return()=>{const r=t[0];E(r,0)?(t[0]=1,e6(i(),null)):E(r,1)&&(t[0]=2)}}let T=I(e=>{var t;return t=class extends Q{constructor(n,s){super();a(this,"docNode");a(this,"updates");this.docNode=n,this.updates=s}static SvgElementMixed(n,s){const o=T.MixedNodes(s);return T.SvgElement(n,o[0],o[1])}static SvgElement(n,s,o){const l=v.Concat(s),u=T.Concat(o);return b5.New(globalThis.document.createElementNS("http://www.w3.org/2000/svg",n),l,u)}static ElementMixed(n,s){const o=T.MixedNodes(s);return T.Element(n,o[0],o[1])}static ConcatMixed(n){return T.Concat(a5(T.ToMixedDoc,n))}static MixedNodes(n){const s=jt([]),o=jt([]),l=M(n);try{for(;l.MoveNext();){const u=l.Current;u instanceof v?s.push(u):o.push(T.ToMixedDoc(u))}}finally{typeof l=="object"&&l5(l)&&l.Dispose()}return[s,o]}static ToMixedDoc(n){return n instanceof t?n:typeof n=="string"?T.TextNode(n):n instanceof Element?T.StaticProxy(n):typeof n=="function"?T.EmbedView(H(T.ToMixedDoc,n)):n instanceof me?T.EmbedView(H(T.ToMixedDoc,n.View)):E(n,null)?T.Empty:T.TextNode(String(n))}static Element(n,s,o){const l=v.Concat(s),u=T.Concat(o);return b5.New(globalThis.document.createElement(n),l,u)}static Radio(n,s,o){const l=globalThis.document.createElement("input");l.addEventListener("click",()=>o.Set(s),!1);const u=pu("checked",H(c=>E(c,s),o.View));return b5.New(l,v.Concat(So(s5([v.Create("type","radio"),v.Create("name",o.Id),u]),D5(n))),T.Empty)}static LinkView(n,s,o,l){const u=v.Concat(Y([ir("click",o,()=>()=>l),v.Create("href","#")],s));return b5.New(globalThis.document.createElement("a"),u,T.TextNode(n))}static Link(n,s,o){const l=v.Concat(s),u=v.Append(v.Create("href","#"),l);return b5.New(T.Clickable("a",o),u,T.TextNode(n))}static ButtonView(n,s,o,l){const u=v.Concat(Y([ir("click",o,()=>()=>l)],s));return b5.New(globalThis.document.createElement("button"),u,T.TextNode(n))}static Button(n,s,o){const l=v.Concat(s);return b5.New(T.Clickable("button",o),l,T.TextNode(n))}static Clickable(n,s){const o=globalThis.document.createElement(n);return o.addEventListener("click",l=>(l.preventDefault(),s()),!1),o}static CheckBoxGroup(n,s,o){const l=c=>E(s,c);let u=t5.Lens(o,c=>Ds(l,c),(c,f)=>f?Ds(p=>E(s,p),c)?c:V.Cons(s,c):yo(p=>!E(s,p),c));return T.CheckBox(n,u)}static CheckBox(n,s){return T.InputInternal("input",()=>Y(n,[v.Create("type","checkbox"),z3(s)]))}static SelectDynOptional(n,s,o,l,u){return T.SelectDyn(n,c=>c!=null&&c.$==1?o(c.$0):s,H(c=>V.Cons(null,pe(m,c)),l),u)}static SelectOptional(n,s,o,l,u){return T.Select(n,c=>c!=null&&c.$==1?o(c.$0):s,V.Cons(null,pe(m,l)),u)}static SelectMultiple(n,s,o,l){return T.SelectMultipleImpl(n,u=>(u[0]=o,T.Concat(Os((c,f)=>T.Element("option",s5([v.Create("value",String(c))]),s5([T.TextNode(s(f))])),o))),l)}static SelectMultipleDyn(n,s,o,l){return T.SelectMultipleImpl(n,u=>T.Convert(c=>T.Element("option",s5([v.Create("value",String(c[0]))]),s5([T.TextNode(s(c[1]))])),H(c=>(u[0]=c,Ms((f,p)=>[f,p],c)),o)),l)}static Select(n,s,o,l){return T.SelectImpl(n,s,u=>(u[0]=o,T.Concat(Os((c,f)=>T.Element("option",s5([v.Create("value",String(c))]),s5([T.TextNode(s(f))])),o))),l)}static SelectDyn(n,s,o,l){return T.SelectImpl(n,s,u=>T.Convert(c=>T.Element("option",s5([v.Create("value",String(c[0]))]),s5([T.TextNode(s(c[1]))])),H(c=>(u[0]=c,Ms((f,p)=>[f,p],c)),o)),l)}static SelectMultipleImpl(n,s,o){const l=[V.Empty],u=(d,$)=>{const g=d.options;for(let b=0,_=g.length-1;b<=_;b++)(()=>{const y=g.item(b);y.selected=Io(l[0].get_Item(y.index),$)})()},c=globalThis.document.createElement("select"),f=xn(d=>$=>u(d,$),o.View);c.addEventListener("change",()=>o.UpdateMaybe(d=>{const $=c.selectedOptions,g=D5(F5(()=>bt(b=>{const _=$.item(b);return[l[0].get_Item(_.index)]},_t(0,$.length-1))));return E(d,g)?null:m(g)}),!1);const p=v.Append(tn(d=>{u(d,o.Get())}),v.Append(f,v.Concat(n)));let h=v.Append(v.Create("multiple",""),p);return b5.New(c,h,s(l))}static SelectImpl(n,s,o,l){const u=[V.Empty],c=(h,d)=>{h.selectedIndex=Po($=>E(d,$),u[0])},f=globalThis.document.createElement("select"),p=xn(h=>d=>c(h,d),l.View);return f.addEventListener("change",()=>l.UpdateMaybe(h=>{const d=f.selectedIndex,$=u[0].get_Item(d);return E(h,$)?null:m($)}),!1),b5.New(f,v.Append(tn(h=>{c(h,l.Get())}),v.Append(p,v.Concat(n))),o(u))}static InputArea(n,s){return T.InputInternal("textarea",()=>Y(n,[v5(s)]))}static RangeInput(n,s){return T.InputInternal("input",()=>Y(n,[rr(s),v.Create("type","range")]))}static WeekInput(n,s){return T.InputInternal("input",()=>Y(n,[v5(s),v.Create("type","week")]))}static UrlInput(n,s){return T.InputInternal("input",()=>Y(n,[v5(s),v.Create("type","url")]))}static TimeInput(n,s){return T.InputInternal("input",()=>Y(n,[v5(s),v.Create("type","time")]))}static TelInput(n,s){return T.InputInternal("input",()=>Y(n,[v5(s),v.Create("type","tel")]))}static SearchInput(n,s){return T.InputInternal("input",()=>Y(n,[v5(s),v.Create("type","search")]))}static MonthInput(n,s){return T.InputInternal("input",()=>Y(n,[v5(s),v.Create("type","month")]))}static FileInput(n,s){return T.InputInternal("input",()=>Y(n,[Q3(s),v.Create("type","file")]))}static EmailInput(n,s){return T.InputInternal("input",()=>Y(n,[v5(s),v.Create("type","email")]))}static DateTimeLocalInput(n,s){return T.InputInternal("input",()=>Y(n,[Z3(s),v.Create("type","datetime-local")]))}static DateInput(n,s){return T.InputInternal("input",()=>Y(n,[v5(s),v.Create("type","datetime")]))}static ColorInput(n,s){return T.InputInternal("input",()=>Y(n,[v5(s),v.Create("type","color")]))}static FloatInput(n,s){return T.InputInternal("input",()=>Y(n,[hu(s),v.Create("type","number")]))}static FloatInputUnchecked(n,s){return T.InputInternal("input",()=>Y(n,[s.Get()===0?v.Create("value","0"):Et(),Y3(s),v.Create("type","number")]))}static IntInput(n,s){return T.InputInternal("input",()=>Y(n,[fu(s),v.Create("type","number")]))}static IntInputUnchecked(n,s){return T.InputInternal("input",()=>Y(n,[s.Get()===0?v.Create("value","0"):Et(),rr(s),v.Create("type","number")]))}static PasswordBox(n,s){return T.InputInternal("input",()=>Y(n,[v5(s),v.Create("type","password")]))}static Input(n,s){return T.InputInternal("input",()=>Y(n,[v5(s)]))}static InputInternal(n,s){const o=globalThis.document.createElement(n);return b5.New(o,v.Concat(s(o)),T.Empty)}static ConvertSeqVarBy(n,s,o){return T.Flatten(t5.MapLens(n,s,o))}static ConvertSeqBy(n,s,o){return T.Flatten(Ss(n,(l,u)=>s(l)(u),o))}static ConvertSeq(n,s){return T.Flatten(E6(n,s))}static ConvertBy(n,s,o){return T.Flatten(u3(n,s,o))}static Convert(n,s){return T.Flatten(v6(n,s))}static Flatten(n){return T.EmbedView(H(T.Concat,n))}static TextView(n){const s=Jl();return T.Mk(Fl(s),H(o=>{Zl(s,o)},n))}static RunReplaceById(n,s){const o=globalThis.document.getElementById(n);E(o,null)?F("invalid id: "+n):s.ReplaceInDom(o)}static RunById(n,s){const o=globalThis.document.getElementById(n);E(o,null)?F("invalid id: "+n):T.Run(o,s)}static Run(n,s){Je(n,s.docNode),T.RunInPlace(!1,n,s)}static RunInPlace(n,s,o){const l=ou(s,o.docNode);we(In()||An()?or(nr(n,l,o.docNode)):()=>{er(n,l,o.docNode)},o.updates)}static RunPrependById(n,s){const o=globalThis.document.getElementById(n);E(o,null)?F("invalid id: "+n):T.RunPrepend(o,s)}static RunPrepend(n,s){const o=globalThis.document.createTextNode("");n.insertBefore(o,n.firstChild),T.RunBefore(o,s)}static RunAppendById(n,s){const o=globalThis.document.getElementById(n);E(o,null)?F("invalid id: "+n):T.RunAppend(o,s)}static RunAppend(n,s){const o=globalThis.document.createTextNode("");n.appendChild(o),T.RunBefore(o,s)}static RunAfterById(n,s){const o=globalThis.document.getElementById(n);E(o,null)?F("invalid id: "+n):T.RunAfter(o,s)}static RunAfter(n,s){const o=globalThis.document.createTextNode("");n.parentNode.insertBefore(o,n.nextSibling),T.RunBetween(n,o,s)}static RunBeforeById(n,s){const o=globalThis.document.getElementById(n);E(o,null)?F("invalid id: "+n):T.RunBefore(o,s)}static RunBefore(n,s){const o=globalThis.document.createTextNode("");n.parentNode.insertBefore(o,n),T.RunBetween(o,n,s)}static RunBetween(n,s,o){Ps(s,o.docNode);const l=iu(n,s,o.docNode);we(In()||An()?or(nr(!1,l,o.docNode)):()=>{er(!1,l,o.docNode)},o.updates)}static Async(n){return T.EmbedView(P6(s=>s,Z5(n)))}static BindView(n,s){return T.EmbedView(H(n,s))}static EmbedView(n){const s=eu();return T.Mk(Ll(s),H(()=>{},I6(o=>(tu(s,o.docNode),o.updates),n)))}static Verbatim(n){return T.Mk(l3(s=>E(s.nodeType,Node.TEXT_NODE)?tr(s):G3(xs(s,Et(),null)),null,Qe,q3(H3(n))),Z5())}static StaticProxy(n){return b5.New(n,Et(),T.Empty)}static TextNode(n){return T.Mk(tr(globalThis.document.createTextNode(n)),Z5())}static get Empty(){return T.Mk(null,Z5())}static Concat(n){return Zt(T.Empty,T.Append,Ce(n))}static Append(n,s){return T.Mk(Qe(n.docNode,s.docNode),Y5(n.updates,s.updates))}static Mk(n,s){return new t(n,s)}ReplaceInDom(n){const s=globalThis.document.createTextNode("");n.parentNode.replaceChild(s,n),T.RunBefore(s,this)}},T=e(t),t});const L5=T;function lr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]","g"),e=>{const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}let J3=I(e=>{var i;return i=class extends Q{constructor(s,o){var n=(...t)=>{super(...t);a(this,"i");a(this,"k");a(this,"h");a(this,"s")};if(s=="New_1"){let l;n(),this.i=null,this.k=(l=lr(),String(l)),this.h=jt([]),gt(this,"s",null)}if(s=="New"){const l=o;let u;n(),this.i=null,this.k=(u=lr(),String(u)),this.h=jt([]),gt(this,"s",m(l))}}static New(s){return new this("New",s)}static New_1(){return new this("New_1")}},J3=e(i),i});const wu=J3;function Jt(e,t,i){const r=e(t);r[0](i),we(r[1](i),r[2])}let Pn=I(e=>{var t;return G(j),t=class extends j{constructor(n,s){super();a(this,"name");a(this,"fillWith");this.name=n,this.fillWith=s}get Value(){return this.fillWith}ForTextView(){return m(this.fillWith.View)}get AsChoiceView(){return Ft(H(String,this.fillWith.View))}AddAttribute(n,s){n(s)(v5(this.fillWith))}ApplyVarHole(n){Jt(P3(),this.fillWith,n)}WithName(n){return new Pn(n,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Pn=e(t),t});const en=Pn;let Fn=I(e=>{var t;return G(j),t=class extends j{constructor(n,s){super();a(this,"name");a(this,"fillWith");this.name=n,this.fillWith=s}get Value(){return this.fillWith}ForTextView(){return m(H(String,this.fillWith.View))}get AsChoiceView(){return Ft(H(String,this.fillWith.View))}AddAttribute(n,s){n(s)(Y3(this.fillWith))}ApplyVarHole(n){Jt(E3(),this.fillWith,n)}WithName(n){return new Fn(n,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Fn=e(t),t});const ti=Fn;let Ln=I(e=>{var t;return G(j),t=class extends j{constructor(n,s){super();a(this,"name");a(this,"fillWith");this.name=n,this.fillWith=s}get Value(){return this.fillWith}ForTextView(){return m(H(String,this.fillWith.View))}get AsChoiceView(){return Ft(H(String,this.fillWith.View))}AddAttribute(n,s){n(s)(z3(this.fillWith))}ApplyVarHole(n){Jt(F3(),this.fillWith,n)}WithName(n){return new Ln(n,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Ln=e(t),t});const ei=Ln;let kn=I(e=>{var t;return G(j),t=class extends j{constructor(n,s){super();a(this,"name");a(this,"fillWith");this.name=n,this.fillWith=s}get Value(){return this.fillWith}ForTextView(){return m(H(n=>new Date(n).toLocaleString(),this.fillWith.View))}get AsChoiceView(){return Ft(H(n=>new Date(n).toLocaleString(),this.fillWith.View))}AddAttribute(n,s){n(s)(Z3(this.fillWith))}ApplyVarHole(n){Jt(v3(),this.fillWith,n)}WithName(n){return new kn(n,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},kn=e(t),t});const ni=kn;let Vn=I(e=>{var t;return G(j),t=class extends j{constructor(n,s){super();a(this,"name");a(this,"fillWith");this.name=n,this.fillWith=s}get Value(){return this.fillWith}ForTextView(){return m(H(String,this.fillWith.View))}get AsChoiceView(){return Ft(H(String,this.fillWith.View))}AddAttribute(n,s){n(s)(Q3(this.fillWith))}ApplyVarHole(n){Jt(A3(),this.fillWith,n)}WithName(n){return new Vn(n,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Vn=e(t),t});const si=Vn;let Gn=I(e=>{var t;return G(j),t=class extends j{constructor(n,s){super();a(this,"name");a(this,"fillWith");this.name=n,this.fillWith=s}get Value(){return this.fillWith}ApplyVarHole(n){}WithName(n){return new Gn(n,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Gn=e(t),t});const Fs=Gn;let Rn=I(e=>{var t;return G(j),t=class extends j{constructor(n,s){super();a(this,"name");a(this,"fillWith");this.name=n,this.fillWith=s}get Value(){return this.fillWith}ForTextView(){return m(H(n=>B5(",",n),this.fillWith.View))}get AsChoiceView(){return Ft(H(String,this.fillWith.View))}AddAttribute(n,s){n(s)(du(this.fillWith))}ApplyVarHole(n){Jt(x3(),this.fillWith,n)}WithName(n){return new Rn(n,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Rn=e(t),t});const ri=Rn;let ii=I(e=>{var t;return t=class extends Q{constructor(n,s){super();a(this,"doc");a(this,"allVars");a(this,"anchorRoot");this.doc=s,this.allVars=n.$==0?n.$0:F("Should not happen"),this.anchorRoot=null}Anchor(n){function s(o){for(;;){const l=o.querySelector('[ws-anchor="'+String(n)+'"]');if(l==null&&o.parentElement!=null)o=o.parentElement;else return l}}return s(this.anchorRoot)}SetAnchorRoot(n){this.anchorRoot=n}Hole(n){return this.allVars.Item(n)}get Doc(){return this.doc}},ii=e(t),t});const oi=ii;let li=I(e=>{var t;return t=class{},li=e(t),a(t,"RenderedFullDocTemplate"),a(t,"TextHoleRE"),a(t,"GlobalHoles"),a(t,"LocalTemplatesLoaded"),a(t,"LoadedTemplates"),t.LoadedTemplates=new S5("New_5"),t.LocalTemplatesLoaded=!1,t.GlobalHoles=new S5("New_5"),t.TextHoleRE="\\${([^}]+)}",t.RenderedFullDocTemplate=null,t});const Vt=li;function ur(e){console.warn("Instantiating non-loaded template",e)}function cr(e,t,i){for(;;)if(e.hasChildNodes())i=t.insertBefore(e.lastChild,i);else return null}function mu(e,t,i){const r=e.querySelector("[ws-replace]");return E(r,null)?(console.warn("Filling non-existent text hole",i),null):(r.parentNode.replaceChild(globalThis.document.createTextNode(t),r),m(r.getAttribute("ws-replace")))}function gu(e,t){const i=r=>{_5(e,"["+r+"]",n=>{t.Contains(n.getAttribute(r))||n.removeAttribute(r)})};i("ws-attr"),i("ws-onafterrender"),i("ws-var"),_5(e,"[ws-hole]",r=>{if(!t.Contains(r.getAttribute("ws-hole")))for(r.removeAttribute("ws-hole");r.hasChildNodes();)r.removeChild(r.lastChild)}),_5(e,"[ws-replace]",r=>{t.Contains(r.getAttribute("ws-replace"))||r.parentNode.removeChild(r)}),_5(e,"[ws-on]",r=>{r.setAttribute("ws-on",B5(" ",vt(n=>t.Contains(C(J5(n,[":"],1),1)),J5(r.getAttribute("ws-on"),[" "],1))))}),_5(e,"[ws-attr-holes]",r=>{const n=J5(r.getAttribute("ws-attr-holes"),[" "],1);for(let s=0,o=n.length-1;s<=o;s++){const l=C(n,s);let u=new RegExp(Se(),"g"),c=r.getAttribute(l).replace(u,(f,p)=>t.Contains(p)?f:"");r.setAttribute(l,c)}})}function _u(e,t){ui(t);const i=t.nodeName.toLowerCase(),r=e.querySelector("[ws-attr="+i+"]");if(E(r,null))console.warn("Filling non-existent attr hole",i);else{r.removeAttribute("ws-attr");for(let n=0,s=t.attributes.length-1;n<=s;n++){const o=t.attributes.item(n);o.name=="class"&&r.hasAttribute("class")?r.setAttribute("class",r.getAttribute("class")+" "+o.nodeValue):r.setAttribute(o.name,o.nodeValue)}}}function Nu(e,t){const i=r=>{_5(e,"["+r+"]",n=>{let s;const o=(s=null,[t.TryGetValue(n.getAttribute(r).toLowerCase(),{get:()=>s,set:l=>{s=l}}),s]);o[0]&&n.setAttribute(r,o[1])})};i("ws-hole"),i("ws-replace"),i("ws-attr"),i("ws-onafterrender"),i("ws-var"),_5(e,"[ws-on]",r=>{r.setAttribute("ws-on",B5(" ",O5(n=>{let s;const o=J5(n,[":"],1),l=(s=null,[t.TryGetValue(C(o,1),{get:()=>s,set:u=>{s=u}}),s]);return l[0]?C(o,0)+":"+l[1]:n},J5(r.getAttribute("ws-on"),[" "],1))))}),_5(e,"[ws-attr-holes]",r=>{const n=J5(r.getAttribute("ws-attr-holes"),[" "],1);for(let s=0,o=n.length-1;s<=o;s++)(()=>{const l=C(n,s);return r.setAttribute(l,Kt((u,c)=>{const f=at(c);return u.replace(new RegExp("\\${"+f[0]+"}","ig"),"${"+f[1]+"}")},r.getAttribute(l),t))})()})}function Su(e){let t=null,i=0;const r=e.textContent,n=new RegExp(Se(),"g");for(;t=n.exec(r),t!==null;){e.parentNode.insertBefore(globalThis.document.createTextNode(it(r,m(i),m(n.lastIndex-C(t,0).length-1))),e),i=n.lastIndex;const s=globalThis.document.createElement("span");s.setAttribute("ws-replace",C(t,1).toLowerCase()),e.parentNode.insertBefore(s,e)}n.lastIndex=0,e.textContent=it(r,m(i),null)}function ui(e){const t=e.attributes,i=[],r=[],n=[];for(let o=0,l=t.length-1;o<=l;o++){const u=t.item(o);if(Cn(u.nodeName,"ws-on")&&u.nodeName!="ws-onafterrender"&&u.nodeName!="ws-on")i.push(u.nodeName),r.push(it(u.nodeName,m(5),null)+":"+u.nodeValue.toLowerCase());else if(!Cn(u.nodeName,"ws-")&&new RegExp(Se()).test(u.nodeValue)){let c=new RegExp(Se(),"g"),f=u.nodeValue.replace(c,(p,h)=>"${"+h.toLowerCase()+"}");u.nodeValue=f,n.push(u.nodeName)}}r.length!=0&&e.setAttribute("ws-on",B5(" ",r)),n.length!=0&&e.setAttribute("ws-attr-holes",B5(" ",n));const s=o=>{const l=e.getAttribute(o);l==null||e.setAttribute(o,l.toLowerCase())};s("ws-hole"),s("ws-replace"),s("ws-attr"),s("ws-onafterrender"),s("ws-var"),I5(o=>{e.removeAttribute(o)},i)}let Dn=I(e=>{var t;return G(j),t=class extends j{constructor(n,s){super();a(this,"name");a(this,"fillWith");this.name=n,this.fillWith=s}get Value(){return this.fillWith}WithName(n){return new Dn(n,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Dn=e(t),t});const ci=Dn;let On=I(e=>{var t;return G(j),t=class extends j{constructor(n,s){super();a(this,"name");a(this,"fillWith");this.name=n,this.fillWith=s}get Value(){return this.fillWith}get AsChoiceView(){return gs(this.fillWith)}WithName(n){return new On(n,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},On=e(t),t});const yu=On;let Mn=I(e=>{var t;return G(j),t=class extends j{constructor(n,s){super();a(this,"name");a(this,"fillWith");this.name=n,this.fillWith=s}get Value(){return this.fillWith}WithName(n){return new Mn(n,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Mn=e(t),t});const Tu=Mn;let Un=I(e=>{var t;return G(j),t=class extends j{constructor(n,s){super();a(this,"name");a(this,"fillWith");this.name=n,this.fillWith=s}get Value(){return this.fillWith}WithName(n){return new Un(n,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Un=e(t),t});const Cu=Un;let Wn=I(e=>{var t;return G(j),t=class extends j{constructor(n,s){super();a(this,"name");a(this,"fillWith");this.name=n,this.fillWith=s}get Value(){return this.fillWith}WithName(n){return new Wn(n,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Wn=e(t),t});const ai=Wn;let Hn=I(e=>{var t;return G(j),t=class extends j{constructor(n,s){super();a(this,"name");a(this,"fillWith");this.name=n,this.fillWith=s}get Value(){return this.fillWith}WithName(n){return new Hn(n,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Hn=e(t),t});const Iu=Hn;let qn=I(e=>{var t;return G(j),t=class extends j{constructor(n,s){super();a(this,"name");a(this,"fillWith");this.name=n,this.fillWith=s}get Value(){return this.fillWith}WithName(n){return new qn(n,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},qn=e(t),t});const hi=qn;function fi(e){if(ar()==null){Eu(""),Bt("",null,globalThis.document.body,null);const t=Pu(globalThis.document.body,e),i=globalThis.document.body;(n=>{L5.RunInPlace(!0,i,n)})(t);const r=t;return bu(m(r)),r}else return ar().$0}function ar(){return Vt.RenderedFullDocTemplate}function bu(e){Vt.RenderedFullDocTemplate=e}function Eu(e){ku()||(Vu(!0),Au(globalThis.document.body,"")),ye().set_Item(e,Ls(""))}function Au(e,t){const i=Ls(t),r=new S5("New_5"),n=e.querySelectorAll("[ws-template]");for(let f=0,p=n.length-1;f<=p;f++){const h=n[f],d=h.getAttribute("ws-template").toLowerCase();h.removeAttribute("ws-template"),r.set_Item(d,di(h))}const s=e.querySelectorAll("[ws-children-template]");for(let f=0,p=s.length-1;f<=p;f++){const h=s[f],d=h.getAttribute("ws-children-template").toLowerCase();h.removeAttribute("ws-children-template"),r.set_Item(d,xu(h))}const o=e.querySelectorAll("template[id]");for(let f=0,p=o.length-1;f<=p;f++){const h=o[f];r.set_Item(h.getAttribute("id").toLowerCase(),hr(h))}const l=e.querySelectorAll("template[name]");for(let f=0,p=l.length-1;f<=p;f++){const h=l[f];r.set_Item(h.getAttribute("name").toLowerCase(),hr(h))}const u=new et("New_3");function c(f){if(!i.ContainsKey(f)){let p;const h=(p=null,[r.TryGetValue(f,{get:()=>p,set:d=>{p=d}}),p]);h[0]?(u.SAdd(f),r.RemoveKey(f),Bt(t,m(f),h[1],m(c))):console.warn(u.Contains(f)?"Encountered loop when instantiating "+f:"Local template does not exist: "+f)}}for(;r.count>0;)c(_n(r.Keys))}function vu(e,t,i){const r=di(i);return n=>{Bt(e,t,r,n)}}function Bt(e,t,i,r){const n=new et("New_3");function s(h,d){for(;;)switch(h){case 0:if(d!==null){const w=d.nextSibling;E(d.nodeType,Node.TEXT_NODE)?Su(d):E(d.nodeType,Node.ELEMENT_NODE)&&l(d),d=w}else return null;break;case 1:const $=it(d.nodeName,m(3),null).toLowerCase(),g=$.indexOf("."),b=g===-1?[e,$]:[it($,null,m(g-1)),it($,m(g+1),null)],_=b[1],y=b[0];if(y!=""&&!ye().ContainsKey(y))return ur(_);{y==""&&r!=null&&r.$0(_);const w=ye().Item(y);if(w.ContainsKey(_)){const S=w.Item(_).cloneNode(!0),x=new et("New_3"),U=new S5("New_5"),J=d.attributes;for(let B=0,u5=J.length-1;B<=u5;B++){const K=J.item(B).name.toLowerCase(),R=J.item(B).nodeValue;let X=R==""?K:R.toLowerCase();U.set_Item(K,X),x.SAdd(K)||console.warn("Hole mapped twice",K)}for(let B=0,u5=d.childNodes.length-1;B<=u5;B++){const K=d.childNodes[B];E(K.nodeType,Node.ELEMENT_NODE)&&(x.SAdd(K.nodeName.toLowerCase())||console.warn("Hole filled twice",_))}const q=d.childNodes.length===1&&E(d.firstChild.nodeType,Node.TEXT_NODE);if(q){const B=mu(S,d.firstChild.textContent,_),u5=(R=>X=>R.SAdd(X))(x);(R=>X=>{X!=null&&R(X.$0)})(R=>{u5(R)})(B)}if(gu(S,x),!q)for(let B=0,u5=d.childNodes.length-1;B<=u5;B++){const K=d.childNodes[B];E(K.nodeType,Node.ELEMENT_NODE)&&(K.hasAttributes()?_u(S,K):o(S,K))}Nu(S,U),cr(S,d.parentNode,d),d.parentNode.removeChild(d);return}else return ur(_)}}}function o(h,d){const $=d.nodeName.toLowerCase(),g=(_,y)=>{if($=="title"&&d.hasChildNodes()){const w=H3(d.textContent);for(d.removeChild(d.firstChild);w.hasChildNodes();)d.appendChild(w.firstChild)}return l(d),cr(d,_,y)};_5(h,"[ws-attr-holes]",_=>{const y=J5(_.getAttribute("ws-attr-holes"),[" "],1);for(let w=0,N=y.length-1;w<=N;w++){const S=C(y,w);let x=new RegExp("\\${"+$+"}","ig"),U=_.getAttribute(S).replace(x,d.textContent);_.setAttribute(S,U)}});const b=h.querySelector("[ws-hole="+$+"]");if(E(b,null)){const _=h.querySelector("[ws-replace="+$+"]");if(E(_,null)){const y=h.querySelector("slot[name="+$+"]");return h.tagName.toLowerCase()=="template"?(g(y.parentNode,y),void y.parentNode.removeChild(y)):null}else{g(_.parentNode,_),_.parentNode.removeChild(_);return}}else{for(;b.hasChildNodes();)b.removeChild(b.lastChild);return b.removeAttribute("ws-hole"),g(b,null)}}function l(h){h.hasAttribute("ws-preserve")||(Cn(h.nodeName.toLowerCase(),"ws-")?c(h):(ui(h),u(h.firstChild)))}function u(h){return s(0,h)}function c(h){return s(1,h)}function f(h){for(;;){const d=h.querySelector("[ws-template]");if(E(d,null)){const $=h.querySelector("[ws-children-template]");if(E($,null)){const g=h.querySelectorAll("template[id]");for(let _=1,y=g.length-1;_<=y;_++){const w=g[_];n.Contains(w)||(Bt(e,m(w.getAttribute("id")),w,null),n.SAdd(w))}const b=h.querySelectorAll("template[name]");for(let _=1,y=b.length-1;_<=y;_++){const w=b[_];n.Contains(w)||(Bt(e,m(w.getAttribute("name")),w,null),n.SAdd(w))}return null}else{const g=$.getAttribute("ws-children-template");$.removeAttribute("ws-children-template"),Bt(e,m(g),$,null),h=h}}else{const $=d.getAttribute("ws-template");vu(e,m($),d)(null),h=h}}}const p=(t==null?"":t.$0).toLowerCase();Ls(e).set_Item(p,i),i.hasChildNodes()&&(f(i),u(i.firstChild))}function di(e){e.removeAttribute("ws-template");const t=e.getAttribute("ws-replace");if(t!=null){e.removeAttribute("ws-replace");const r=e.parentNode;if(!E(r,null)){const n=globalThis.document.createElement(e.tagName);n.setAttribute("ws-replace",t),r.replaceChild(n,e)}}const i=globalThis.document.createElement("div");return i.appendChild(e),i}function hr(e){const t=globalThis.document.createElement("div"),i=e.content;for(let r=0,n=i.childNodes.length-1;r<=n;r++)t.appendChild(i.childNodes[r].cloneNode(!0));return t}function xu(e){const t=globalThis.document.createElement("div");for(;e.hasChildNodes();)t.appendChild(e.firstChild);return t}function Pu(e,t){const i=Fu(e,Y(t,pi().Values)),r=i[1],n=i[0],s=n.Els;return!E(s,null)&&s.length===1&&C(s,0)instanceof Node&&E(C(s,0).nodeType,Node.ELEMENT_NODE)&&(C(s,0),!0)?b5.TreeNode(n,r):L5.Mk(Es(n),r)}function Fu(e,t){let i;const r=[],n=[],s=[],o=[],l=new S5("New_5"),u=M(t);try{for(;u.MoveNext();){const _=u.Current;l.set_Item(_.Name,_)}}finally{typeof u=="object"&&l5(u)&&u.Dispose()}const c=q3(e),f=(_,y)=>{const w=bs(_,y);n.push(bn(w)),s.push([_,w]);const N=mt(w.OnAfterRender);if(N==null)return null;{const S=N.$0;o.push(()=>{S(_)});return}},p=_=>{let y;const w=(y=null,[l.TryGetValue(_,{get:()=>y,set:N=>{y=N}}),y]);if(w[0]){const N=w[1];if(N instanceof ci)return m(N.Value);if(N instanceof yu)return m(L5.TextNode(N.Value));{const S=N.ForTextView();return S==null?null:m(L5.TextView(S.$0))}}else return null};_5(e,"[ws-hole]",_=>{const y=_.getAttribute("ws-hole");for(_.removeAttribute("ws-hole");_.hasChildNodes();)_.removeChild(_.lastChild);const w=p(y);if(w!=null&&w.$==1){const N=w.$0;Je(_,N.docNode),r.push(lt.New(fe(_),N.docNode,null,_,wt(),null)),n.push(N.updates)}}),_5(e,"[ws-replace]",_=>{const y=p(_.getAttribute("ws-replace"));if(y!=null&&y.$==1){const w=y.$0,N=_.parentNode,S=globalThis.document.createTextNode("");N.replaceChild(S,_);const x=vn(S,w.docNode),U=Fr(J=>_===J,c);U==null||P5(c,U.$0,w.docNode),r.push(lt.New(fe(N),w.docNode,m([x,S]),N,wt(),null)),n.push(w.updates)}});let h=!1;_5(e,"slot",_=>{const y=_.getAttribute("name"),w=y==""||y==null?"default":y.toLowerCase();if(!(h&&w=="default"||!E(e.parentElement,null))){for(;_.hasChildNodes();)_.removeChild(_.lastChild);w=="default"&&(h=!0);const N=p(w);if(N!=null&&N.$==1){const S=N.$0;Je(_,S.docNode),r.push(lt.New(fe(_),S.docNode,null,_,wt(),null)),n.push(S.updates)}}}),_5(e,"[ws-attr]",_=>{let y;const w=_.getAttribute("ws-attr");_.removeAttribute("ws-attr");const N=(y=null,[l.TryGetValue(w,{get:()=>y,set:S=>{y=S}}),y]);if(N[0]){const S=N[1];S instanceof Tu?f(_,S.Value):console.warn("Attribute hole filled with non-attribute data",w)}}),_5(e,"[ws-on]",_=>{f(_,v.Concat(sn(y=>{let w;const N=J5(y,[":"],1),S=(w=null,[l.TryGetValue(C(N,1),{get:()=>w,set:x=>{w=x}}),w]);if(S[0]){const x=S[1];return x instanceof Cu?m($u(C(N,0),x.Value)):x instanceof ai?m(v.Handler(C(N,0),x.Value)):(console.warn("Event hole on"+C(N,0)+" filled with non-event data",C(N,1)),null)}else return null},J5(_.getAttribute("ws-on"),[" "],1)))),_.removeAttribute("ws-on")}),_5(e,"[ws-onafterrender]",_=>{let y;const w=_.getAttribute("ws-onafterrender"),N=(y=null,[l.TryGetValue(w,{get:()=>y,set:S=>{y=S}}),y]);if(N[0]){const S=N[1];S instanceof Iu||S instanceof hi?(_.removeAttribute("ws-onafterrender"),f(_,tn(S.Value))):console.warn("onafterrender hole filled with non-onafterrender data",w)}}),_5(e,"[ws-var]",_=>{let y;const w=_.getAttribute("ws-var");_.removeAttribute("ws-var");const N=(y=null,[l.TryGetValue(w,{get:()=>y,set:S=>{y=S}}),y]);N[0]&&N[1].AddAttribute(S=>x=>f(S,x),_)});const d=()=>{Lu("[ws-dom]",_=>{let y,w,N;const S=(y=null,[l.TryGetValue(_.getAttribute("ws-dom").toLowerCase(),{get:()=>y,set:x=>{y=x}}),y]);if(S[0]){const x=S[1];if(x instanceof Fs){const U=x.Value;_.removeAttribute("ws-dom"),w=_;const J=new MutationObserver((q,B)=>{I5(u5=>{u5.removedNodes.forEach(eo(K=>K[0]===w&&u5.addedNodes.length!==1?(U.SetFinal(null),B.disconnect()):null),null)},q)});_.parentElement!==null&&J.observe(_.parentElement,(N={},N.childList=!0,N)),U.Set(m(_)),we(q=>{if(q!=null&&q.$==1){const B=q.$0;w===B||(w.replaceWith(B),w=B)}else w.remove(),J.disconnect()},U.View)}}})};_5(e,"[ws-attr-holes]",_=>{const y=new RegExp(Se(),"g"),w=J5(_.getAttribute("ws-attr-holes"),[" "],1);_.removeAttribute("ws-attr-holes");for(let N=0,S=w.length-1;N<=S;N++)(()=>{let x;const U=C(w,N),J=_.getAttribute(U);let q=null,B=0;const u5=[];for(;q=y.exec(J),q!==null;){const X=it(J,m(B),m(y.lastIndex-C(q,0).length-1));B=y.lastIndex,u5.push([X,C(q,1)])}const K=it(J,m(B),null);y.lastIndex=0;const R=ds((X,z)=>(w5=>{const h5=w5[0],Rt=w5[1];return j5=>{let U5;const i5=j5[0],ee=j5[1],ve=(U5=null,[l.TryGetValue(Rt,{get:()=>U5,set:o5=>{U5=o5}}),U5]),P=ve[0]?ve[1].AsChoiceView:gs("");return P.$==1?[h5,V.Cons(i5==""?P.$0:H(o5=>o5+i5,P.$0),ee)]:[h5+P.$0+i5,ee]}})(X)(z),u5,[K,V.Empty]);if(R[1].$==1)if(R[1].$1.$==1)if(R[1].$1.$1.$==1)if(R[1].$1.$1.$1.$==0){const X=R[0];x=ie(U,F6((z,w5,h5)=>X+z+w5+h5,R[1].$0,R[1].$1.$0,R[1].$1.$1.$0))}else{const X=R[0];x=ie(U,H(z=>X+B5("",z),y6(R[1])))}else{const X=R[0];x=ie(U,L6((z,w5)=>X+z+w5,R[1].$0,R[1].$1.$0))}else if(R[0]=="")x=ie(U,R[1].$0);else{const X=R[0];x=ie(U,H(z=>X+z,R[1].$0))}else x=v.Create(U,R[0]);return f(_,x)})()});const $=o.length==0?m(()=>{d()}):m(_=>{d(),I5(y=>{y(_)},o)}),g=!E(c,null)&&c.length===1&&C(c,0)instanceof Node&&C(c,0)instanceof Element&&(i=C(c,0),!0)?m(i):null;return[yr({Els:c,Dirty:!0,Holes:r,Attrs:s,Render:$?$.$0:void 0,El:g?g.$0:void 0},["Render","El"]),Zt(Z5(),Y5,n)]}function Lu(e,t){Xl(e,i=>{i.closest("[ws-preserve]")==null&&t(i)})}function _5(e,t,i){zl(e,t,r=>{r.closest("[ws-preserve]")==null&&i(r)})}function Se(){return Vt.TextHoleRE}function pi(){return Vt.GlobalHoles}function ku(){return Vt.LocalTemplatesLoaded}function Vu(e){Vt.LocalTemplatesLoaded=e}function Ls(e){let t;const i=(t=null,[ye().TryGetValue(e,{get:()=>t,set:r=>{t=r}}),t]);if(i[0])return i[1];{const r=new S5("New_5");return ye().set_Item(e,r),r}}function ye(){return Vt.LoadedTemplates}let G5=I(e=>{var t;return t=class extends Q{constructor(n,s){super();a(this,"id");a(this,"vars");this.id=n,this.vars=s}static applyVarHole(n,s){s.ApplyVarHole(n)}static applyTypedVarHole(n,s,o){const l=n(s);l[0](o),we(l[1](o),l[2])}static Create(n){return new t("",n)}static GetInstance(n){return G5.instances.Item(n)}static GetOrAddHoleFor(n,s,o){let l;const u=G5.GetHolesFor(n),c=(l=null,[u.TryGetValue(s,{get:()=>l,set:f=>{l=f}}),l]);if(c[0])return c[1];{const f=o();return u.set_Item(s,f),f}}static GetHolesFor(n){let s;const o=(s=null,[G5.initialized.TryGetValue(n,{get:()=>s,set:l=>{s=l}}),s]);if(o[0])return o[1];{const l=new S5("New_5");return G5.initialized.set_Item(n,l),l}}static get Initialized(){return G5.initialized}get Id(){return this.id}InitInstance(n){const s=G5.GetHolesFor(n),o=this.vars;for(let u=0,c=o.length-1;u<=c;u++)(()=>{let f;const p=C(o,u),h=p[1],d=p[2],$=p[0];if(s.ContainsKey($))return null;if(h===0){const g=d==null?null:m(d.$0);let b=t5.Create_1(g==null?"":g.$0);f=new en($,b)}else if(h===1){const g=d==null?null:m(d.$0);let b=t5.Create_1(g==null?0:g.$0);f=new ti($,b)}else if(h===2){const g=d==null?null:m(d.$0);let b=t5.Create_1(g==null?!1:g.$0);f=new ei($,b)}else if(h===3){const g=d==null?null:m(d.$0);let b=t5.Create_1(g==null?-864e13:g.$0);f=new ni($,b)}else if(h===4){const g=d==null?null:m(d.$0);let b=t5.Create_1(g==null?[]:g.$0);f=new si($,b)}else if(h===5){const g=d==null?null:m(d.$0),b=globalThis.document.querySelector("[ws-dom="+$+"]");let _=m(g==null?b:g.$0),y=t5.Create_1(_);f=new Fs($,y)}else if(h===6){const g=d==null?null:m(d.$0);let b=t5.Create_1(g==null?[]:g.$0);f=new ri($,b)}else f=F("Invalid value type");return s.set_Item($,f)})();const l=new oi({$:0,$0:s},L5.Empty);return G5.instances.set_Item(n,l),l}$postinit(n){fi([])}$init(n){}$preinit(n){const s=this.InitInstance(n),o=globalThis.document.querySelectorAll("[ws-var^='"+n+"::']");for(let l=0,u=o.length-1;l<=u;l++){const c=o[l],f=c.getAttribute("ws-var"),p=s.Hole(it(f,m(n.length+2),null)),h=p.WithName(f);pi().set_Item(h.Name,h),G5.applyVarHole(c,p)}}},G5=e(t),a(t,"init"),a(t,"initialized"),a(t,"instances"),G5.initialized=new S5("New_5"),G5.instances=new S5("New_5"),t});const Ct=G5;function Gu(e,t,i){const r=new S5("New_5"),n=new et("New_3"),s=M(t);try{for(;s.MoveNext();){const o=s.Current,l=o.Name;n.SAdd(l),r.set_Item(l,o)}}finally{typeof s=="object"&&l5(s)&&s.Dispose()}return[Y(t,sn(o=>{const l=o[0],u=o[1],c=o[2];if(n.Contains(l))return null;{const f=u===0?Ct.GetOrAddHoleFor(e,l,()=>{const p=c==null?null:m(c.$0);let h=t5.Create_1(p==null?"":p.$0);return new en(l,h)}):u===1?Ct.GetOrAddHoleFor(e,l,()=>{const p=c==null?null:m(c.$0);let h=t5.Create_1(p==null?0:p.$0);return new ti(l,h)}):u===2?Ct.GetOrAddHoleFor(e,l,()=>{const p=c==null?null:m(c.$0);let h=t5.Create_1(p==null?!1:p.$0);return new ei(l,h)}):u===3?Ct.GetOrAddHoleFor(e,l,()=>{const p=c==null?null:m(c.$0);let h=t5.Create_1(p==null?-864e13:p.$0);return new ni(l,h)}):u===4?Ct.GetOrAddHoleFor(e,l,()=>new si(l,t5.Create_1([]))):u===5?Ct.GetOrAddHoleFor(e,l,()=>new Fs(l,t5.Create_1(m(globalThis.document.querySelector("[ws-dom="+l+"]"))))):u===6?Ct.GetOrAddHoleFor(e,l,()=>{const p=c==null?null:m(c.$0);let h=t5.Create_1(p==null?[]:p.$0);return new ri(l,h)}):F("Invalid value type");return r.set_Item(l,f),m(f)}},i)),{$:0,$0:r}]}function Ru(e,t,i,r){return new hi(t,n=>{const s=i();s.SetAnchorRoot(n),r({Vars:s,Anchors:s,Target:n,Event:null})})}function A5(e,t,i,r){return new ai(t,n=>s=>{const o=i();return o.SetAnchorRoot(n),r({Vars:o,Anchors:o,Target:n,Event:s})})}let Bn=I(e=>{var t;return G(j),t=class extends j{constructor(n,s){super();a(this,"name");a(this,"fillWith");this.name=n,this.fillWith=s}get Value(){return this.fillWith}ForTextView(){return m(this.fillWith)}get AsChoiceView(){return Ft(this.fillWith)}WithName(n){return new Bn(n,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Bn=e(t),t});const fr=Bn;let Du={$:1},Ou={$:0};function Mu(e,t,i,r,n,s,o,l){return{CanvasX:e,CanvasY:t,CurrentX:i,CurrentY:r,Direction:n,PenDown:s,Ctx:o,Console:l}}function Uu(e){return{$:5,$0:e}}function Wu(e){return{$:4,$0:e}}function nn(e){return{$:3,$0:e}}function st(e){return{$:2,$0:e}}function pt(e){return{$:1,$0:e}}let p5={$:0};function Hu(e){const t=D().Direction/180*3.141592653589793;D().PenDown?$i(D().CurrentX-e*Math.cos(t),D().CurrentY+e*Math.sin(t)):ks(D().CurrentX-e*Math.cos(t),D().CurrentY+e*Math.sin(t))}function qu(e){const t=D().Direction/180*3.141592653589793;D().PenDown?$i(D().CurrentX+e*Math.cos(t),D().CurrentY-e*Math.sin(t)):ks(D().CurrentX+e*Math.cos(t),D().CurrentY-e*Math.sin(t))}function Bu(e){D().Direction=D().Direction-e}function ju(e){D().Direction=D().Direction+e}function $i(e,t){D().Ctx.beginPath(),D().Ctx.moveTo(D().CurrentX,D().CurrentY),D().Ctx.lineTo(e,t),D().Ctx.stroke(),ks(e,t)}function ks(e,t){D().CurrentX=e,D().CurrentY=t}let jn=I(e=>{var t;return G(Error),t=class extends Error{constructor(){super(...arguments);a(this,"v");a(this,"Data1")}static New(n,s){return L(jn,{v:n,Data1:s})}},jn=e(t),t});const ht=jn;let Kn=I(e=>{var t;return G(Error),t=class extends Error{constructor(){super(...arguments);a(this,"Data0");a(this,"Data1")}static New(n,s){return L(Kn,{Data0:n,Data1:s})}},Kn=e(t),t});const wi=Kn;let Xn=I(e=>{var t;return G(Error),t=class extends Error{constructor(){super(...arguments);a(this,"Data0");a(this,"Data1")}static New(n,s){return L(Xn,{Data0:n,Data1:s})}},Xn=e(t),t});const mi=Xn;function zn(e,t){for(;;)if(t.$==5)t=t.$0;else{if(t.$==4)throw wi.New(t,e);if(t.$==0)throw mi.New(t,e);return t.$==1?String(t.$0):t.$==3?t.$0:String(t.$0)}}function gi(e,t,i){function r(n,s){for(;;)if(s.$==1){const o=s.$1,l=s.$0,u=e(n,l),c=u[0];if(u[1])return[c,!0];n=c,s=o}else return[n,!1]}return r(t,i)}let _i=I(e=>{var t;return t=class{},_i=e(t),a(t,"Core"),a(t,"State"),t.State=Mu(1e3,1e3,500,500,90,!0,null,null),t.Core=s5([[s5(["home"]),r=>()=>()=>(D().CurrentX=500,D().CurrentY=500,[[r,p5],!1])],[s5(["rt","right"]),r=>n=>s=>{let o;if(s.$==1&&s.$0.$==1&&s.$1.$==0&&(o=s.$0.$0,!0))Bu(o);else throw ht.New(s,n);return[[r,p5],!1]}],[s5(["lt","left"]),r=>n=>s=>{let o;if(s.$==1&&s.$0.$==1&&s.$1.$==0&&(o=s.$0.$0,!0))ju(o);else throw ht.New(s,n);return[[r,p5],!1]}],[s5(["fd","forward"]),r=>n=>s=>{let o;if(s.$==1&&s.$0.$==1&&s.$1.$==0&&(o=s.$0.$0,!0))qu(o);else throw ht.New(s,n);return[[r,p5],!1]}],[s5(["bk","back"]),r=>n=>s=>{let o;if(s.$==1&&s.$0.$==1&&s.$1.$==0&&(o=s.$0.$0,!0))Hu(o);else throw ht.New(s,n);return[[r,p5],!1]}],[s5(["pu","penup"]),r=>n=>s=>{if(s.$==0)D().PenDown=!1;else throw ht.New(s,n);return[[r,p5],!1]}],[s5(["pd","pendown"]),r=>n=>s=>{if(s.$==0)D().PenDown=!0;else throw ht.New(s,n);return[[r,p5],!1]}],[s5(["print"]),r=>n=>s=>(Co(o=>{const l=zn(n,o);D().Console!=null&&m5(D().Console.$0,l+`
`)},s),[[r,p5],!1])]]),t});const Ni=_i;function Ku(){return Ni.Core}function Xu(){D().CanvasX=1e3,D().CanvasY=1e3,D().CurrentX=500,D().CurrentY=500,D().Direction=90,D().PenDown=!0}function D(){return Ni.State}function zu(){return null}function Ut(e,t){return{fillSync:e,fillAsync:t}}class E5{constructor(){a(this,"pos_fname");a(this,"pos_lnum");a(this,"pos_orig_lnum");a(this,"pos_bol");a(this,"pos_cnum")}static FirstLine(t){return E5.New(t,1,1,0,0)}static get Empty(){return E5.New("",0,0,0,0)}ShiftColumnBy(t){return E5.New(this.pos_fname,this.pos_lnum,this.pos_orig_lnum,this.pos_bol,this.pos_cnum+t)}AsNewLinePos(){return this.NextLine}EndOfToken(t){return E5.New(this.pos_fname,this.pos_lnum,this.pos_orig_lnum,this.pos_bol,this.pos_cnum+t)}get NextLine(){return E5.New(this.pos_fname,this.pos_lnum+1,this.pos_orig_lnum+1,this.pos_bol,this.pos_cnum)}get Column(){return this.pos_cnum-this.pos_bol}get StartOfLineAbsoluteOffset(){return this.pos_bol}get StartOfLine(){return this.pos_bol}get AbsoluteOffset(){return this.pos_cnum}get Char(){return this.pos_cnum}get OriginalLine(){return this.pos_orig_lnum}get Line(){return this.pos_lnum}get FileName(){return this.pos_fname}static New(t,i,r,n,s){return L(E5,{pos_fname:t,pos_lnum:i,pos_orig_lnum:r,pos_bol:n,pos_cnum:s})}}let ae=I(e=>{var t;return t=class extends Q{constructor(n){super();a(this,"filler");a(this,"context");a(this,"buffer");a(this,"bufferMaxScanLength");a(this,"bufferScanStart");a(this,"bufferScanLength");a(this,"lexemeLength");a(this,"bufferAcceptAction");a(this,"eof");a(this,"startPos");a(this,"endPos");this.filler=n,this.context=new S5("New_4",1),this.buffer=[],this.bufferMaxScanLength=0,this.bufferScanStart=0,this.bufferScanLength=0,this.lexemeLength=0,this.bufferAcceptAction=0,this.eof=!1,this.startPos=E5.Empty,this.endPos=E5.Empty}static FromStream(n){let s,o;const l=m(p=>n.Read(p[0],p[1],p[2])),u=m(p=>zu(n,p[0],m(p[1]),m(p[2]))),c=d5(4096,0);if(l!=null&&l.$==1){const p=l.$0;s=m(h=>{const d=p([c,0,k(c)]);if(h.BufferScanPos+d>=k(h.buffer)){const $=d5(h.BufferScanPos+d,0);f5(h.buffer,h.bufferScanStart,$,h.bufferScanStart,h.bufferScanLength),h.buffer=$}f5(c,0,h.Buffer,h.BufferScanPos,d),h.BufferMaxScanLength=h.BufferScanLength+d})}else s=null;if(u!=null&&u.$==1){const p=u.$0;o=m(h=>T5(()=>ot(p([c,0,k(c)]),d=>{if(h.BufferScanPos+d>=k(h.buffer)){const $=d5(h.BufferScanPos+d,0);f5(h.buffer,h.bufferScanStart,$,h.bufferScanStart,h.bufferScanLength),h.buffer=$}return f5(c,0,h.Buffer,h.BufferScanPos,d),h.BufferMaxScanLength=h.BufferScanLength+d,$5()})))}else o=null;let f=Ut(s,o);return new t(f)}static FromBinaryReader(n){let s,o;const l=m(f=>n.Read(f[0],f[1],f[2])),u=d5(4096,0);if(l!=null&&l.$==1){const f=l.$0;s=m(p=>{const h=f([u,0,k(u)]);if(p.BufferScanPos+h>=k(p.buffer)){const d=d5(p.BufferScanPos+h,0);f5(p.buffer,p.bufferScanStart,d,p.bufferScanStart,p.bufferScanLength),p.buffer=d}f5(u,0,p.Buffer,p.BufferScanPos,h),p.BufferMaxScanLength=p.BufferScanLength+h})}else s=null;o=null;let c=Ut(s,o);return new t(c)}static FromTextReader(n){let s,o;const l=m(h=>n.Read(h[0],h[1],h[2])),u=(h,d,$)=>n.ReadAsync(h,d,$),c=m(h=>t6(u.apply(null,h))),f=d5(4096,null);if(l!=null&&l.$==1){const h=l.$0;s=m(d=>{const $=h([f,0,k(f)]);if(d.BufferScanPos+$>=k(d.buffer)){const g=d5(d.BufferScanPos+$,null);f5(d.buffer,d.bufferScanStart,g,d.bufferScanStart,d.bufferScanLength),d.buffer=g}f5(f,0,d.Buffer,d.BufferScanPos,$),d.BufferMaxScanLength=d.BufferScanLength+$})}else s=null;if(c!=null&&c.$==1){const h=c.$0;o=m(d=>T5(()=>ot(h([f,0,k(f)]),$=>{if(d.BufferScanPos+$>=k(d.buffer)){const g=d5(d.BufferScanPos+$,null);f5(d.buffer,d.bufferScanStart,g,d.bufferScanStart,d.bufferScanLength),d.buffer=g}return f5(f,0,d.Buffer,d.BufferScanPos,$),d.BufferMaxScanLength=d.BufferScanLength+$,$5()})))}else o=null;let p=Ut(s,o);return new t(p)}static FromString(n){return ae.FromArray(O6(n))}static FromChars(n){return ae.FromArray(n.slice())}static FromBytes(n){return ae.FromArray(n.slice())}static FromArray(n){const s=new t(Ut(m(()=>{}),m(()=>T5(()=>Yt(null)))));return s.Buffer=n,s.BufferMaxScanLength=k(n),s}static FromByteFunction(n){let s,o;const l=m(f=>{const p=f[2],h=d5(p,0),d=n(h,p);return f5(h,0,f[0],f[1],p),d}),u=d5(4096,0);if(l!=null&&l.$==1){const f=l.$0;s=m(p=>{const h=f([u,0,k(u)]);if(p.BufferScanPos+h>=k(p.buffer)){const d=d5(p.BufferScanPos+h,0);f5(p.buffer,p.bufferScanStart,d,p.bufferScanStart,p.bufferScanLength),p.buffer=d}f5(u,0,p.Buffer,p.BufferScanPos,h),p.BufferMaxScanLength=p.BufferScanLength+h})}else s=null;o=null;let c=Ut(s,o);return new t(c)}static FromCharFunction(n){let s,o;const l=m(f=>{const p=f[2],h=d5(p,null),d=n(h,p);return f5(h,0,f[0],f[1],p),d}),u=d5(4096,null);if(l!=null&&l.$==1){const f=l.$0;s=m(p=>{const h=f([u,0,k(u)]);if(p.BufferScanPos+h>=k(p.buffer)){const d=d5(p.BufferScanPos+h,null);f5(p.buffer,p.bufferScanStart,d,p.bufferScanStart,p.bufferScanLength),p.buffer=d}f5(u,0,p.Buffer,p.BufferScanPos,h),p.BufferMaxScanLength=p.BufferScanLength+h})}else s=null;o=null;let c=Ut(s,o);return new t(c)}static LexemeString(n){const s=n.Buffer,o=n.BufferScanStart;return s.slice(o,o+n.LexemeLength).join("")}discardInput(){f5(this.buffer,this.bufferScanStart,this.buffer,0,this.bufferScanLength),this.bufferScanStart=0,this.bufferMaxScanLength=this.bufferScanLength}extendBufferAsync(n,s){const o=this.filler.fillAsync;return o==null?Ke("attempt to read asynchronously from a synchronous lex buffer"):o.$0(n)}extendBufferSync(n,s){const o=this.filler.fillSync;o==null?Ke("attempt to read synchronously from an asynchronous lex buffer"):o.$0(n)}get BufferScanPos(){return this.bufferScanStart+this.bufferScanLength}DiscardInput(){this.discardInput()}set IsPastEndOfStream(n){this.eof=n}get IsPastEndOfStream(){return this.eof}get AsyncRefillBuffer(){return()=>this.extendBufferAsync(this,void 0)}get RefillBuffer(){return()=>{this.extendBufferSync(this,void 0)}}set BufferAcceptAction(n){this.bufferAcceptAction=n}get BufferAcceptAction(){return this.bufferAcceptAction}set BufferScanStart(n){this.bufferScanStart=n}get BufferScanStart(){return this.bufferScanStart}set BufferScanLength(n){this.bufferScanLength=n}get BufferScanLength(){return this.bufferScanLength}set BufferMaxScanLength(n){this.bufferMaxScanLength=n}get BufferMaxScanLength(){return this.bufferMaxScanLength}set Buffer(n){this.buffer=n}get Buffer(){return this.buffer}set LexemeLength(n){this.lexemeLength=n}get LexemeLength(){return this.lexemeLength}get BufferLocalStore(){return this.context}LexemeChar(n){return C(this.buffer,n+this.bufferScanStart)}get Lexeme(){return zo(this.buffer,this.bufferScanStart,this.lexemeLength)}set EndPos(n){this.endPos=n}get EndPos(){return this.endPos}set StartPos(n){this.startPos=n}get StartPos(){return this.startPos}EndOfScan(){return this.bufferAcceptAction<0&&F("unrecognized input"),this.StartPos=this.endPos,this.EndPos=this.endPos.EndOfToken(this.LexemeLength),this.bufferAcceptAction}},ae=e(t),t});const Si=ae;function dr(e){return{$:1,$0:e}}function Yu(e){return{$:0,$0:e}}let yi=I(e=>{var t;return t=class extends Q{constructor(n){super();a(this,"contents");a(this,"count");this.contents=Be(n,()=>{}),this.count=0}get IsEmpty(){return this.count===0}Push(n){this.Ensure(this.count+1),P5(this.contents,this.count,n),this.count=this.count+1}Top(n){return Ht(D5(F5(()=>{let s=this.contents;const o=0,l=this.count-n;let u=M5(o,l)===1?o:l,c=m(u),f=io(s,c,m(this.count-1));return a5(p=>p,f)})))}Peep(){return C(this.contents,this.count-1)}Pop(){this.count=this.count-1}get Count(){return this.count}Ensure(n){const s=this.contents.length;if(n>s){const o=this.contents,l=s*2;let u=M5(n,l)===1?n:l,c=Be(u,()=>{});this.contents=c,f5(o,0,this.contents,0,this.count)}}},yi=e(t),t});const pr=yi;let Ti=I(e=>{var t;return t=class extends Q{constructor(n,s){super();a(this,"elemTab");a(this,"offsetTab");a(this,"cache");this.elemTab=n,this.offsetTab=s,this.cache=new S5("New_4",2e3)}ReadAll(n){const s=n5(C(this.offsetTab,n)),o=s+1,l=n5(C(this.elemTab,s*2)),u=n5(C(this.elemTab,s*2+1));return[D5(F5(()=>a5(c=>[n5(C(this.elemTab,c*2)),n5(C(this.elemTab,c*2+1))],_t(o,o+l-1)))),u]}Read(n,s){let o=0;const l=n<<16|s;if(this.cache.TryGetValue(l,{get:()=>o,set:u=>{o=u}}))return o;{const u=n5(C(this.offsetTab,n)),c=u+1,f=this.readAssoc(c,c+n5(C(this.elemTab,u*2)),n5(C(this.elemTab,u*2+1)),s);return this.cache.set_Item(l,f),f}}readAssoc(n,s,o,l){for(;;){const u=(n+s)/2>>0;if(u===s)return o;{const c=n5(C(this.elemTab,u*2));if(l===c)return n5(C(this.elemTab,u*2+1));l<c?s=u:n=u+1}}}},Ti=e(t),t});const $r=Ti;let Ci=I(e=>{var t;return t=class extends Q{constructor(n,s){super();a(this,"elemTab");a(this,"offsetTab");this.elemTab=n,this.offsetTab=s}ReadAll(n){const s=n5(C(this.offsetTab,n)),o=s+1,l=n5(C(this.elemTab,s));return D5(F5(()=>a5(u=>n5(C(this.elemTab,u)),_t(o,o+l-1))))}},Ci=e(t),t});const Qu=Ci;let Yn=I(e=>{var t;return G(Error),t=class extends Error{static New(){return L(Yn,{})}},Yn=e(t),t});const wr=Yn;let Ii=I(e=>{var t;return t=class{},Ii=e(t),a(t,"parse_error_rich"),a(t,"actionMask"),a(t,"acceptFlag"),a(t,"errorFlag"),a(t,"reduceFlag"),a(t,"shiftFlag"),a(t,"anyMarker"),t.anyMarker=65535,t.shiftFlag=0,t.reduceFlag=16384,t.errorFlag=32768,t.acceptFlag=49152,t.actionMask=49152,t.parse_error_rich=null,t});const Gt=Ii;function It(e){return e&bi()}function ke(e){return e&~bi()}function bi(){return Gt.actionMask}function Zu(){return Gt.acceptFlag}function Ju(){return Gt.errorFlag}function pn(){return Gt.reduceFlag}function oe(){return Gt.shiftFlag}function tc(){return Gt.anyMarker}let Ei=I(e=>{var t;return t=class{constructor(r,n,s,o){a(this,"value");a(this,"startPos");a(this,"endPos");if(r=="New_1"){const l=n,u=s,c=o;this.value=l,this.startPos=u,this.endPos=c}r=="New"&&(this.value=null,this.startPos=null,this.endPos=null)}static New(){return new this("New")}static New_1(r,n,s){return new this("New_1",r,n,s)}},Ei=e(t),t});const Ve=Ei;let Qn=I(e=>{var t;return G(Error),t=class extends Error{constructor(){super(...arguments);a(this,"Data0")}static New(n){return L(Qn,{Data0:n})}},Qn=e(t),t});const Zn=Qn;function ec(e,t,i,r,n){return{Node:e,Left:t,Right:i,Height:r,Count:n}}function nc(e,t){const i=Ae(e,t)[0];return i==null?null:m(i.Node)}function Ai(e,t){return Ae(e,t)[0]!=null}function sc(e,t,i){const r=Ae(e,i),n=r[0],s=r[1];if(n==null){const o=t(null);return o==null?i:Q5(s,g5(o.$0,null,null))}else{const o=t(m(n.Node));if(o==null){if(n.Right==null)return Q5(s,n.Left);if(n.Left==null)return Q5(s,n.Right);{const l=e5(Y(tt(!1,n.Left),tt(!1,n.Right)));let u=Pt(l,0,l.length-1);return Q5(s,u)}}else return Q5(s,g5(o.$0,n.Left,n.Right))}}function vi(e,t){return rc((i,r)=>r,e,t)}function xi(e,t){const i=Ae(e,t),r=i[0],n=i[1];if(r==null)return t;if(r.Right==null)return Q5(n,r.Left);if(r.Left==null)return Q5(n,r.Right);{const s=e5(Y(tt(!1,r.Left),tt(!1,r.Right)));let o=Pt(s,0,s.length-1);return Q5(n,o)}}function rc(e,t,i){const r=Ae(t,i),n=r[0];return n==null?Q5(r[1],g5(t,null,null)):Q5(r[1],g5(e(n.Node,t),n.Left,n.Right))}function Q5(e,t){const i=n=>n==null?0:n.Height;let r=t;for(let n=0,s=k(e)-1;n<=s;n++){const o=C(e,n);if(o[0]){const l=o[1],u=o[2];if(i(r)>i(u)+1)if(i(r.Left)===i(r.Right)+1){const c=r.Left;r=g5(c.Node,g5(l,u,c.Left),g5(r.Node,c.Right,r.Right))}else r=g5(r.Node,g5(l,u,r.Left),r.Right);else r=g5(l,u,r)}else{const l=o[1],u=o[2];if(i(r)>i(u)+1)if(i(r.Right)===i(r.Left)+1){const c=r.Right;r=g5(c.Node,g5(r.Node,r.Left,c.Left),g5(l,c.Right,u))}else r=g5(r.Node,r.Left,g5(l,r.Right,u));else r=g5(l,r,u)}}return r}function Ae(e,t){let i=[],r=t,n=!0;for(;n;)if(r==null)n=!1;else{const s=M5(e,r.Node);s===0?n=!1:s===1?(i.unshift([!0,r.Node,r.Left]),r=r.Right):(i.unshift([!1,r.Node,r.Right]),r=r.Left)}return[r,i]}function de(e){const t=e5(Eo(e));return Lr(t),Pt(t,0,t.length-1)}function Pt(e,t,i){if(i-t+1<=0)return null;{const r=(t+i)/2>>0;return g5(C(e,r),Pt(e,t,r-1),Pt(e,r+1,i))}}function tt(e,t){function i(r,n){let s;for(;;){if(r==null)return n.$==1?m([n.$0[0],[n.$0[1],n.$1]]):null;e?(s=r,r=s.Right,n=V.Cons([s.Node,s.Left],n)):(s=r,r=s.Left,n=V.Cons([s.Node,s.Right],n))}}return Oo(r=>i(r[0],r[1]),[t,V.Empty])}function g5(e,t,i){const r=t==null?0:t.Height,n=i==null?0:i.Height;let o=1+(M5(r,n)===1?r:n);return ec(e,t,i,o,1+(t==null?0:t.Count)+(i==null?0:i.Count))}function mr(e,t){const i=e5(vo(e,t));let r=Pt(i,0,i.length-1);return new Pi("New_1",r)}let he=I(e=>{var i;return i=class extends Q{constructor(s,o){var n=(...t)=>{super(...t);a(this,"tree")};let l;if(s=="New"&&(l=o,s="New_1",o=de(l)),s=="New_1"){const u=o;n(),this.tree=u}}GetEnumerator(){return M(tt(!1,this.tree))}get Count(){const s=this.tree;return s==null?0:s.Count}Equals(s){return this.Count===s.Count&&Dr(E,this,s)}GetHashCode(){return-1741749453+ut(e5(this))}static op_Subtraction(s,o){return mr(l=>!o.Contains(l),s)}static op_Addition(s,o){return new i("New_1",de(Y(s,o)))}Remove_1(s){return new he("New_1",xi(s,this.tree))}get MinimumElement(){return _n(tt(!1,this.tree))}get MaximumElement(){return _n(tt(!0,this.tree))}IsSupersetOf(s){return je(o=>this.Contains(o),s)}IsSubsetOf(s){return je(o=>s.Contains(o),this)}IsProperSupersetOf(s){return this.IsSupersetOf(s)&&this.Count>s.Count}IsProperSubsetOf(s){return this.IsSubsetOf(s)&&this.Count<s.Count}get Tree(){return this.tree}get IsEmpty(){return this.tree==null}Contains(s){return Ai(s,this.tree)}Add_1(s){return new he("New_1",vi(s,this.tree))}sub(s){return mr(o=>!s.Contains(o),this)}add(s){return new he("New_1",de(Y(this,s)))}Remove(s){return F("Set values cannot be mutated.")}CopyTo(s,o){Te(e5(this),s,o)}Clear(){F("Set values cannot be mutated.")}Add(s){F("Set values cannot be mutated.")}get IsReadOnly(){return!0}CompareTo0(s){return Gr(M5,this,s)}static New(s){return new this("New",s)}static New_1(s){return new this("New_1",s)}},he=e(i),i});const Pi=he;let Fi=I(e=>{var t;return t=class extends Q{constructor(n,s,o,l,u,c,f){super();a(this,"stateStack");a(this,"parseState");a(this,"reduceTokens");a(this,"currentToken");a(this,"reducibleProductions");a(this,"shiftableTokens");a(this,"message");this.stateStack=n,this.parseState=s,this.reduceTokens=o,this.currentToken=l,this.reducibleProductions=u,this.shiftableTokens=c,this.message=f}get Message(){return this.message}get ShiftTokens(){return this.shiftableTokens}get ReducibleProductions(){return this.reducibleProductions}get ParseState(){return this.parseState}get CurrentToken(){return this.currentToken}get ReduceTokens(){return this.reduceTokens}get StateStack(){return this.stateStack}},Fi=e(t),t});const ic=Fi;function N5(e){if(e===null)return"null";{const t=typeof e;if(t=="string")return'"'+e+'"';if(t=="object"){if(e instanceof Array)return"[|"+B5("; ",O5(N5,e))+"|]";{const i=String(e);return i=="[object Object]"?"{"+B5("; ",O5(r=>r[0]+" = "+N5(r[1]),co(e)))+"}":i}}else return String(e)}}function Jn(e,t){return"["+B5("; ",a5(e,t))+"]"}function H5(e){return e??""}class A{constructor(){a(this,"Filename");a(this,"StartLine");a(this,"StartColumn");a(this,"EndLine");a(this,"EndColumn")}static union(t,i){return A.New(t.Filename,t.StartLine,t.StartColumn,i.EndLine,i.EndColumn)}static ofToken(t){const i=t.StartPos,r=t.EndPos;return A.New(i.FileName,i.Line,i.Column,r.Line,r.Column)}static Dummy(){return A.New("<dummy>",1,1,1,1)}get ToString(){return'"'+H5(this.Filename)+'" '+String(this.StartLine)+":"+String(this.StartColumn)+"-"+String(this.EndLine)+":"+String(this.EndColumn)}static New(t,i,r,n,s){return L(A,{Filename:t,StartLine:i,StartColumn:r,EndLine:n,EndColumn:s})}}function oc(e,t){return{$:8,$0:e,$1:t}}function $n(e,t,i){return{$:7,$0:e,$1:t,$2:i}}function lc(e,t){return{$:6,$0:e,$1:t}}function uc(e,t,i){return{$:5,$0:e,$1:t,$2:i}}function cc(e,t,i){return{$:4,$0:e,$1:t,$2:i}}function ac(e,t,i,r){return{$:3,$0:e,$1:t,$2:i,$3:r}}function hc(e,t,i){return{$:2,$0:e,$1:t,$2:i}}function fc(e,t,i){return{$:1,$0:e,$1:t,$2:i}}function dc(e,t,i,r){return{$:0,$0:e,$1:t,$2:i,$3:r}}class W{static NotEq(t,i,r){return L(W,{$:15,$0:t,$1:i,$2:r})}static Eq(t,i,r){return L(W,{$:14,$0:t,$1:i,$2:r})}static Le(t,i,r){return L(W,{$:13,$0:t,$1:i,$2:r})}static Ge(t,i,r){return L(W,{$:12,$0:t,$1:i,$2:r})}static Lt(t,i,r){return L(W,{$:11,$0:t,$1:i,$2:r})}static Gt(t,i,r){return L(W,{$:10,$0:t,$1:i,$2:r})}static Div(t,i,r){return L(W,{$:9,$0:t,$1:i,$2:r})}static Mul(t,i,r){return L(W,{$:8,$0:t,$1:i,$2:r})}static Sub(t,i,r){return L(W,{$:7,$0:t,$1:i,$2:r})}static Add(t,i,r){return L(W,{$:6,$0:t,$1:i,$2:r})}static List(t,i){return L(W,{$:5,$0:t,$1:i})}static FunCall(t,i,r){return L(W,{$:4,$0:t,$1:i,$2:r})}static Text(t,i){return L(W,{$:3,$0:t,$1:i})}static Word(t,i){return L(W,{$:2,$0:t,$1:i})}static Number(t,i){return L(W,{$:1,$0:t,$1:i})}static Var(t,i){return L(W,{$:0,$0:t,$1:i})}get Pos(){return this.$==1?this.$1:this.$==2?this.$1:this.$==3?this.$1:this.$==4?this.$2:this.$==6?this.$2:this.$==7?this.$2:this.$==8?this.$2:this.$==9?this.$2:this.$==10?this.$2:this.$==11?this.$2:this.$==12?this.$2:this.$==13?this.$2:this.$==14?this.$2:this.$==15?this.$2:this.$==5?this.$1:this.$1}}function pc(e,t,i,r,n,s,o,l,u,c,f,p,h,d,$,g){return{reductions:e,endOfInputTag:t,tagOfToken:i,dataOfToken:r,actionTableElements:n,actionTableRowOffsets:s,reductionSymbolCounts:o,immediateActions:l,gotos:u,sparseGotoTableRowOffsets:c,stateToProdIdxsTableElements:f,stateToProdIdxsTableRowOffsets:p,productionToNonTerminalTable:h,parseError:d,numTerminals:$,tagOfErrorTerminal:g}}function $c(){return Gt.parse_error_rich}let Li=I(e=>{var t;return t=class{},Li=e(t),a(t,"tables"),a(t,"_fsyacc_reductions"),a(t,"_fsyacc_immediateActions"),a(t,"_fsyacc_productionToNonTerminalTable"),a(t,"_fsyacc_reductionSymbolCounts"),a(t,"_fsyacc_actionTableRowOffsets"),a(t,"_fsyacc_actionTableElements"),a(t,"_fsyacc_action_rows"),a(t,"_fsyacc_stateToProdIdxsTableRowOffsets"),a(t,"_fsyacc_stateToProdIdxsTableElements"),a(t,"_fsyacc_sparseGotoTableRowOffsets"),a(t,"_fsyacc_gotos"),a(t,"_fsyacc_tagOfErrorTerminal"),a(t,"_fsyacc_endOfInputTag"),t._fsyacc_endOfInputTag=31,t._fsyacc_tagOfErrorTerminal=29,t._fsyacc_gotos=[0,65535,0,65535,1,65535,0,1,4,65535,0,40,9,40,39,41,42,40,1,65535,42,43,3,65535,0,4,9,10,42,38,3,65535,0,39,9,39,42,39,4,65535,13,14,16,17,19,20,20,21,23,65535,2,49,12,49,15,49,18,49,23,49,26,49,30,49,32,49,34,49,50,49,52,49,56,49,71,49,72,49,73,49,74,49,75,49,76,49,77,49,78,49,79,49,80,49,82,49,23,65535,2,3,12,13,15,16,18,19,23,24,26,27,30,31,32,33,34,69,50,51,52,69,56,69,71,59,72,60,73,61,74,62,75,63,76,64,77,65,78,66,79,67,80,68,82,70,1,65535,56,57,3,65535,34,36,52,54,56,81,3,65535,34,82,52,82,56,82,1,65535,8,9,1,65535,8,83,1,65535,8,84],t._fsyacc_sparseGotoTableRowOffsets=[0,1,2,4,9,11,15,19,24,48,72,74,78,82,84,86],t._fsyacc_stateToProdIdxsTableElements=[1,0,1,0,1,1,11,1,30,31,32,33,34,35,36,37,38,39,1,2,1,2,1,3,1,4,1,4,1,4,1,4,1,4,1,5,11,5,30,31,32,33,34,35,36,37,38,39,1,5,1,6,11,6,30,31,32,33,34,35,36,37,38,39,1,6,1,7,11,7,30,31,32,33,34,35,36,37,38,39,1,7,1,7,1,8,1,8,11,8,30,31,32,33,34,35,36,37,38,39,1,9,1,9,11,9,30,31,32,33,34,35,36,37,38,39,1,10,1,10,1,11,11,11,30,31,32,33,34,35,36,37,38,39,3,12,13,14,11,12,30,31,32,33,34,35,36,37,38,39,2,13,14,1,13,1,14,1,14,1,16,2,17,19,1,18,1,19,1,20,1,20,1,20,1,21,1,22,1,23,1,24,1,25,3,26,27,28,11,26,30,31,32,33,34,35,36,37,38,39,2,27,28,1,27,1,28,1,28,1,29,1,29,1,29,11,30,30,31,32,33,34,35,36,37,38,39,11,30,31,31,32,33,34,35,36,37,38,39,11,30,31,32,32,33,34,35,36,37,38,39,11,30,31,32,33,33,34,35,36,37,38,39,11,30,31,32,33,34,34,35,36,37,38,39,11,30,31,32,33,34,35,35,36,37,38,39,11,30,31,32,33,34,35,36,36,37,38,39,11,30,31,32,33,34,35,36,37,37,38,39,11,30,31,32,33,34,35,36,37,38,38,39,11,30,31,32,33,34,35,36,37,38,39,39,11,30,31,32,33,34,35,36,37,38,39,43,11,30,31,32,33,34,35,36,37,38,39,44,1,30,1,31,1,32,1,33,1,34,1,35,1,36,1,37,1,38,1,39,1,41,2,42,44,1,46,2,47,49,1,48,1,49],t._fsyacc_stateToProdIdxsTableRowOffsets=[0,2,4,6,18,20,22,24,26,28,30,32,34,36,48,50,52,64,66,68,80,82,84,86,88,100,102,104,116,118,120,122,134,138,150,153,155,157,159,161,164,166,168,170,172,174,176,178,180,182,184,188,200,203,205,207,209,211,213,215,227,239,251,263,275,287,299,311,323,335,347,359,361,363,365,367,369,371,373,375,377,379,381,384,386,389,391],t._fsyacc_action_rows=87,t._fsyacc_actionTableElements=[10,32768,0,6,15,30,17,28,18,25,19,22,20,18,21,15,22,12,23,7,25,32,0,49152,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,10,49152,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,1,32768,0,5,0,16386,0,16387,1,32768,25,8,1,16429,24,85,9,32768,15,30,17,28,18,25,19,22,20,18,21,15,22,12,23,7,25,32,1,32768,16,11,0,16388,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,11,32768,2,42,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,0,16389,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,11,32768,2,42,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,0,16390,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,11,32768,2,42,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,1,32768,2,42,0,16391,1,32768,27,23,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,10,16392,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,1,32768,27,26,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,10,16393,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,1,32768,27,29,0,16394,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,10,16395,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,7,32768,2,56,4,34,24,45,25,50,26,48,27,47,28,46,10,16396,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,7,32768,2,56,3,35,24,45,25,50,26,48,27,47,28,46,0,16397,1,32768,3,37,0,16398,0,16400,9,16401,15,30,17,28,18,25,19,22,20,18,21,15,22,12,23,7,25,32,0,16402,0,16403,9,16399,15,30,17,28,18,25,19,22,20,18,21,15,22,12,23,7,25,32,1,32768,1,44,0,16404,0,16405,0,16406,0,16407,0,16408,0,16409,7,32768,2,56,4,52,24,45,25,50,26,48,27,47,28,46,10,16410,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,7,32768,2,56,3,53,24,45,25,50,26,48,27,47,28,46,0,16411,1,32768,3,55,0,16412,6,16424,2,56,24,45,25,50,26,48,27,47,28,46,1,32768,1,58,0,16413,2,16414,11,74,12,73,2,16415,11,74,12,73,0,16416,0,16417,4,16418,11,74,12,73,13,72,14,71,4,16419,11,74,12,73,13,72,14,71,4,16420,11,74,12,73,13,72,14,71,4,16421,11,74,12,73,13,72,14,71,4,16422,11,74,12,73,13,72,14,71,4,16423,11,74,12,73,13,72,14,71,10,16427,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,10,16428,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,0,16425,6,16426,2,56,24,45,25,50,26,48,27,47,28,46,0,16430,1,16431,24,86,0,16432,0,16433],t._fsyacc_actionTableRowOffsets=[0,11,12,19,30,32,33,34,36,38,48,50,51,58,70,71,78,90,91,98,110,112,113,115,122,133,135,142,153,155,156,163,174,182,193,201,202,204,205,206,216,217,218,228,230,231,232,233,234,235,236,244,255,263,264,266,267,274,276,277,280,283,284,285,290,295,300,305,310,315,326,337,344,351,358,365,372,379,386,393,400,407,408,415,416,418,419],t._fsyacc_reductionSymbolCounts=[1,1,2,1,5,3,3,4,3,3,2,2,2,3,4,0,1,1,1,2,3,1,1,1,1,1,2,3,4,3,3,3,3,3,3,3,3,3,3,3,0,1,1,1,2,0,1,1,1,2],t._fsyacc_productionToNonTerminalTable=[0,1,2,2,3,3,3,3,3,3,3,3,3,3,3,4,4,5,6,6,7,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,11,12,12,13,13,14,15,15],t._fsyacc_immediateActions=[65535,49152,65535,65535,65535,16386,16387,65535,65535,65535,65535,16388,65535,65535,16389,65535,65535,16390,65535,65535,65535,16391,65535,65535,65535,65535,65535,65535,65535,16394,65535,65535,65535,65535,65535,16397,65535,16398,16400,65535,16402,16403,65535,65535,16404,16405,16406,16407,16408,16409,65535,65535,65535,16411,65535,16412,65535,65535,16413,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,16425,65535,16430,65535,16432,16433],t._fsyacc_reductions=Tr(()=>[r=>{throw Zn.New(r.FSharp_Text_Parsing_IParseState$GetInput(1))},r=>{throw Zn.New(r.FSharp_Text_Parsing_IParseState$GetInput(1))},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);return r.FSharp_Text_Parsing_IParseState$GetInput(2),n[0]},r=>(r.FSharp_Text_Parsing_IParseState$GetInput(1),V.Empty),r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1),s=r.FSharp_Text_Parsing_IParseState$GetInput(2),o=r.FSharp_Text_Parsing_IParseState$GetInput(3),l=r.FSharp_Text_Parsing_IParseState$GetInput(4),u=A.union(n,r.FSharp_Text_Parsing_IParseState$GetInput(5));return[dc(s,o,l[0],u),u]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1),s=r.FSharp_Text_Parsing_IParseState$GetInput(2),o=r.FSharp_Text_Parsing_IParseState$GetInput(3),l=A.union(n,o[1]);return[fc(s[0],o[0],l),l]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1),s=r.FSharp_Text_Parsing_IParseState$GetInput(2),o=r.FSharp_Text_Parsing_IParseState$GetInput(3),l=A.union(n,o[1]);return[hc(s[0],o[0],l),l]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1),s=r.FSharp_Text_Parsing_IParseState$GetInput(2),o=r.FSharp_Text_Parsing_IParseState$GetInput(3),l=r.FSharp_Text_Parsing_IParseState$GetInput(4),u=A.union(n,l[1]);return[ac(s[0],o[0],l[0],u),u]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1),s=r.FSharp_Text_Parsing_IParseState$GetInput(2),o=r.FSharp_Text_Parsing_IParseState$GetInput(3),l=A.union(n,o[0].Pos);return[cc(s,o[0],l),l]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1),s=r.FSharp_Text_Parsing_IParseState$GetInput(2),o=r.FSharp_Text_Parsing_IParseState$GetInput(3),l=A.union(n,o[0].Pos);return[uc(s,o[0],l),l]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1),s=r.FSharp_Text_Parsing_IParseState$GetInput(2),o=A.union(n,s[1]);return[lc(s,o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1),s=r.FSharp_Text_Parsing_IParseState$GetInput(2),o=A.union(n,s[1]);return[oc(s[0],o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1),s=r.FSharp_Text_Parsing_IParseState$GetInput(2),o=A.union(n[1],s[1]);return[$n(n,s5([s[0]]),o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);r.FSharp_Text_Parsing_IParseState$GetInput(2);const s=r.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(n[1],s);return[$n(n,V.Empty,o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);r.FSharp_Text_Parsing_IParseState$GetInput(2);const s=r.FSharp_Text_Parsing_IParseState$GetInput(3),o=r.FSharp_Text_Parsing_IParseState$GetInput(4),l=A.union(n[1],o);return[$n(n,s[0],l),l]},()=>V.Empty,r=>r.FSharp_Text_Parsing_IParseState$GetInput(1)[0],r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);return[Ht(n[0]),n[1]]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);return[s5([n[0]]),n[1]]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1),s=r.FSharp_Text_Parsing_IParseState$GetInput(2);return[V.Cons(s[0],n[0]),A.union(n[1],s[1])]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);return[r.FSharp_Text_Parsing_IParseState$GetInput(2),A.union(n,r.FSharp_Text_Parsing_IParseState$GetInput(3))]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);return[W.Var(n[0],n[1]),n[1]]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);return[W.Number(n[0],n[1]),n[1]]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);return[W.Word(n[0],n[1]),n[1]]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);return[W.Text(n[0],n[1]),n[1]]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);return[n[0],n[1]]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1),s=r.FSharp_Text_Parsing_IParseState$GetInput(2),o=A.union(n[1],s[1]);return[W.FunCall(n,s5([s[0]]),o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);r.FSharp_Text_Parsing_IParseState$GetInput(2);const s=r.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(n[1],s);return[W.FunCall(n,V.Empty,o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);r.FSharp_Text_Parsing_IParseState$GetInput(2);const s=r.FSharp_Text_Parsing_IParseState$GetInput(3),o=r.FSharp_Text_Parsing_IParseState$GetInput(4),l=A.union(n[1],o);return[W.FunCall(n,s[0],l),l]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1),s=r.FSharp_Text_Parsing_IParseState$GetInput(2),o=A.union(n,r.FSharp_Text_Parsing_IParseState$GetInput(3));return[W.List(s,o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);r.FSharp_Text_Parsing_IParseState$GetInput(2);const s=r.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(n[1],s[1]);return[W.Add(n[0],s[0],o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);r.FSharp_Text_Parsing_IParseState$GetInput(2);const s=r.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(n[1],s[1]);return[W.Sub(n[0],s[0],o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);r.FSharp_Text_Parsing_IParseState$GetInput(2);const s=r.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(n[1],s[1]);return[W.Mul(n[0],s[0],o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);r.FSharp_Text_Parsing_IParseState$GetInput(2);const s=r.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(n[1],s[1]);return[W.Div(n[0],s[0],o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);r.FSharp_Text_Parsing_IParseState$GetInput(2);const s=r.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(n[1],s[1]);return[W.Le(n[0],s[0],o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);r.FSharp_Text_Parsing_IParseState$GetInput(2);const s=r.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(n[1],s[1]);return[W.Lt(n[0],s[0],o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);r.FSharp_Text_Parsing_IParseState$GetInput(2);const s=r.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(n[1],s[1]);return[W.Ge(n[0],s[0],o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);r.FSharp_Text_Parsing_IParseState$GetInput(2);const s=r.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(n[1],s[1]);return[W.Gt(n[0],s[0],o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);r.FSharp_Text_Parsing_IParseState$GetInput(2);const s=r.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(n[1],s[1]);return[W.Eq(n[0],s[0],o),o]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);r.FSharp_Text_Parsing_IParseState$GetInput(2);const s=r.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(n[1],s[1]);return[W.NotEq(n[0],s[0],o),o]},()=>V.Empty,r=>r.FSharp_Text_Parsing_IParseState$GetInput(1)[0],r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);return[Ht(n[0]),n[1]]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);return[s5([n[0]]),n[1]]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1),s=r.FSharp_Text_Parsing_IParseState$GetInput(2);return[V.Cons(s[0],n[0]),A.union(n[1],s[1])]},()=>V.Empty,r=>r.FSharp_Text_Parsing_IParseState$GetInput(1)[0],r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);return[Ht(n[0]),n[1]]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1);return[s5([n]),n[1]]},r=>{const n=r.FSharp_Text_Parsing_IParseState$GetInput(1),s=r.FSharp_Text_Parsing_IParseState$GetInput(2);return[V.Cons(s,n[0]),A.union(n[1],s[1])]}]),t.tables=pc(_c().f(),Pc(),Fc,vc,Cc(),Tc(),yc(),Nc(),Ac(),Ec(),bc(),Ic(),Sc(),r=>{const n=$c();n==null?r.Message:n.$0(r)},32,xc()),t});const V5=Li;function wc(e,t){return mc(e,t,0)}function mc(e,t,i){const r=gc(),n=new S5("New_5");n.set_Item("LexBuffer",t);const s=new pr(100);s.Push(i);const o=new pr(100);let l=!1,u=null,c=null,f=null,p=!1,h=0,d=!1,$=20;const g=d5(100,null),b=d5(100,null),_=d5(100,null),y=d5(2,null),w=r.reductions,N=new $r(r.actionTableElements,r.actionTableRowOffsets),S=new $r(r.gotos,r.sparseGotoTableRowOffsets),x=new Qu(r.stateToProdIdxsTableElements,r.stateToProdIdxsTableRowOffsets),U={FSharp_Text_Parsing_IParseState$InputRange(q){return[C(g,q-1),C(b,q-1)]},FSharp_Text_Parsing_IParseState$InputStartPosition(q){return C(g,q-1)},FSharp_Text_Parsing_IParseState$InputEndPosition(q){return C(b,q-1)},FSharp_Text_Parsing_IParseState$GetInput(q){return C(_,q-1)},get FSharp_Text_Parsing_IParseState$ResultRange(){return[C(y,0),C(y,1)]},get FSharp_Text_Parsing_IParseState$ParserLocalStore(){return n},FSharp_Text_Parsing_IParseState$RaiseError(){throw wr.New()}};function J(q){for(;;){let B;s.IsEmpty&&F("parse error");const u5=s.Peep(),K=N.Read(u5,r.tagOfErrorTerminal);if(It(K)===oe())if(q!=null&&q.$==1){const R=q.$0;B=It(N.Read(ke(K),r.tagOfToken(R)))===oe()}else B=!0;else B=!1;if(B){const R=ke(K);return o.Push(new Ve("New_1",null,t.StartPos,t.EndPos)),s.Push(R)}else o.IsEmpty&&F("parse error"),o.Pop(),s.Pop(),q=q}}for(;!p;)(()=>{if(s.IsEmpty){p=!0;return}else{const q=s.Peep(),B=n5(C(r.immediateActions,q)),u5=B!==tc()?B:(l||(t.IsPastEndOfStream?$>0?(l=!0,$=$-1,d=!0):l=!1:(u=e(t),f=t.StartPos,c=t.EndPos,l=!0)),N.Read(q,l?r.tagOfToken(u):r.endOfInputTag)),K=It(u5);if(K===oe()){h>0&&(h=h-1);const R=ke(u5);l||F("shift on end of input!"),o.Push(new Ve("New_1",r.dataOfToken(u),f,c)),s.Push(R),l=!1;return}else if(K===pn()){const R=ke(u5),X=n5(C(r.reductionSymbolCounts,R));P5(y,0,E5.Empty),P5(y,1,E5.Empty);for(let z=0,w5=X-1;z<=w5;z++){o.IsEmpty&&F("empty symbol stack");const h5=o.Peep();o.Pop(),s.Pop(),P5(_,X-z-1,h5.value),P5(g,X-z-1,h5.startPos),P5(b,X-z-1,h5.endPos),E(C(y,1),E5.Empty)&&P5(y,1,h5.endPos),E(h5.startPos,E5.Empty)||P5(y,0,h5.startPos)}try{o.Push(new Ve("New_1",C(w,R)(U),C(y,0),C(y,1)));const z=s.Peep();return s.Push(S.Read(n5(C(r.productionToNonTerminalTable,R)),z))}catch(z){if(z instanceof Zn)return p=!0,o.Push(new Ve("New_1",z.Data0,C(y,0),C(y,1)));if(z instanceof wr){J(null),h=3;return}else throw z}}else if(K===Ju())if(h>0){d&&$<10&&J(l?m(u):null),l||F("parse error: unexpected end of file"),l=!1,h=3;return}else{const R=l?m(u):null,X=N.ReadAll(q),z=X[1],w5=X[0],h5=new Pi("New_1",de(D5(F5(()=>bt(i5=>[i5[0]],w5))))),Rt=D5(F5(()=>Y(bt(i5=>It(i5[1])===oe()?[i5[0]]:[],w5),F5(()=>It(z)===oe()?bt(i5=>h5.Contains(i5)?[]:[i5],_t(0,r.numTerminals-1)):[])))),j5=s.Top(12),U5=D5(F5(()=>a5(i5=>x.ReadAll(i5),j5)));r.parseError(new ic(j5,U,D5(F5(()=>Y(bt(i5=>It(i5[1])===pn()?[i5[0]]:[],w5),F5(()=>It(z)===pn()?bt(i5=>h5.Contains(i5)?[]:[i5],_t(0,r.numTerminals-1)):[])))),R,U5,Rt,"syntax error")),J(null),h=3;return}else return K===Zu()?void(p=!0):null}})();return o.Peep().value}function gc(){return V5.tables}function _c(){return V5._fsyacc_reductions}function Nc(){return V5._fsyacc_immediateActions}function Sc(){return V5._fsyacc_productionToNonTerminalTable}function yc(){return V5._fsyacc_reductionSymbolCounts}function Tc(){return V5._fsyacc_actionTableRowOffsets}function Cc(){return V5._fsyacc_actionTableElements}function Ic(){return V5._fsyacc_stateToProdIdxsTableRowOffsets}function bc(){return V5._fsyacc_stateToProdIdxsTableElements}function Ec(){return V5._fsyacc_sparseGotoTableRowOffsets}function Ac(){return V5._fsyacc_gotos}function vc(e){return e.$==1||e.$==2||e.$==3||e.$==4||e.$==5||e.$==6||e.$==7||e.$==8||e.$==9||e.$==10||e.$==11||e.$==12||e.$==13||e.$==14||e.$==15||e.$==16||e.$==17||e.$==18||e.$==19||e.$==20||e.$==21||e.$==22||e.$==23||e.$==24||e.$==25||e.$==26||e.$==27||e.$==28,e.$0}function xc(){return V5._fsyacc_tagOfErrorTerminal}function Pc(){return V5._fsyacc_endOfInputTag}function Fc(e){return e.$==1?1:e.$==2?2:e.$==3?3:e.$==4?4:e.$==5?5:e.$==6?6:e.$==7?7:e.$==8?8:e.$==9?9:e.$==10?10:e.$==11?11:e.$==12?12:e.$==13?13:e.$==14?14:e.$==15?15:e.$==16?16:e.$==17?17:e.$==18?18:e.$==19?19:e.$==20?20:e.$==21?21:e.$==22?22:e.$==23?23:e.$==24?24:e.$==25?25:e.$==26?26:e.$==27?27:e.$==28?28:0}function Lc(e){return{$:28,$0:e}}function kc(e){return{$:27,$0:e}}function Vc(e){return{$:26,$0:e}}function Gc(e){return{$:25,$0:e}}function Rc(e){return{$:24,$0:e}}function Dc(e){return{$:23,$0:e}}function Oc(e){return{$:22,$0:e}}function Mc(e){return{$:21,$0:e}}function Uc(e){return{$:20,$0:e}}function Wc(e){return{$:19,$0:e}}function Hc(e){return{$:18,$0:e}}function qc(e){return{$:17,$0:e}}function Bc(e){return{$:16,$0:e}}function jc(e){return{$:15,$0:e}}function Kc(e){return{$:14,$0:e}}function Xc(e){return{$:13,$0:e}}function zc(e){return{$:12,$0:e}}function Yc(e){return{$:11,$0:e}}function Qc(e){return{$:10,$0:e}}function Zc(e){return{$:9,$0:e}}function Jc(e){return{$:8,$0:e}}function ta(e){return{$:7,$0:e}}function ea(e){return{$:6,$0:e}}function na(e){return{$:5,$0:e}}function sa(e){return{$:4,$0:e}}function ra(e){return{$:3,$0:e}}function ia(e){return{$:2,$0:e}}function oa(e){return{$:1,$0:e}}function la(e){return{$:0,$0:e}}let ts=I(e=>{var t;return G(Error),t=class extends Error{constructor(){super(...arguments);a(this,"Data0");a(this,"Data1")}static New(n,s){return L(ts,{Data0:n,Data1:s})}},ts=e(t),t});const ki=ts;function gr(e,t){e.LexemeLength=e.BufferScanLength,e.BufferAcceptAction=t}function _r(e,t,i,r,n,s,o){if(i.BufferScanLength===i.BufferMaxScanLength){const l=n5(C(C(e,s),o));return l===t?n():(i.IsPastEndOfStream&&F("End of file on lexing stream"),i.IsPastEndOfStream=!0,r(i,l))}else return r(i,s)}function Nr(e){e.BufferScanStart=e.BufferScanStart+e.LexemeLength,e.BufferMaxScanLength=e.BufferMaxScanLength-e.LexemeLength,e.BufferScanLength=0,e.LexemeLength=0,e.BufferAcceptAction=-1}let Vi=I(e=>{var t;return t=class extends Q{static GetUnicodeCategory(r){return 0}},Vi=e(t),t});const ua=Vi;let Gi=I(e=>{var t;return t=class extends Q{constructor(n,s){super();a(this,"trans");a(this,"accept");a(this,"sentinel");a(this,"numLowUnicodeChars");a(this,"numSpecificUnicodeChars");a(this,"eofPos");this.trans=n,this.accept=s,this.sentinel=255*256+255;const o=30;this.numLowUnicodeChars=128,this.numSpecificUnicodeChars=(k(C(this.trans,0))-1-this.numLowUnicodeChars-o)/2>>0,this.eofPos=this.numLowUnicodeChars+2*this.numSpecificUnicodeChars+o}static Create(n,s){return new t(n,s)}scanUntilSentinel(n,s){for(;;){const o=n5(C(this.accept,s));if(o!==this.sentinel&&gr(n,o),n.BufferScanLength===n.BufferMaxScanLength)return n.DiscardInput(),n.RefillBuffer(),_r(this.trans,this.sentinel,n,(l,u)=>this.scanUntilSentinel(l,u),(l=>()=>l.EndOfScan())(n),s,this.eofPos);{const l=C(n.Buffer,n.BufferScanPos),u=this.lookupUnicodeCharacters(s,l);if(u===this.sentinel)return n.EndOfScan();n.BufferScanLength=n.BufferScanLength+1,s=u}}}lookupUnicodeCharacters(n,s){const o=this,l=s.charCodeAt();if(l<this.numLowUnicodeChars)return n5(C(C(this.trans,n),l));{let f=function(p){for(;;){if(p>=o.numSpecificUnicodeChars)return n5(C(C(o.trans,n),o.numLowUnicodeChars+o.numSpecificUnicodeChars*2+n5(Number(ua.GetUnicodeCategory(s)))));if(String.fromCharCode(n5(C(C(o.trans,n),c+p*2)))===s)return n5(C(C(o.trans,n),c+p*2+1));p=p+1}};var u=f;const c=this.numLowUnicodeChars;return f(0)}}AsyncInterpret(n,s){const o=this;function l(c){const f=c[0],p=c[1];return T5(()=>{const h=n5(C(o.accept,p));return n6((h!==o.sentinel&&gr(f,h),$5()),T5(()=>{if(f.BufferScanLength===f.BufferMaxScanLength)return f.DiscardInput(),f.RefillBuffer(),_r(o.trans,o.sentinel,f,(d,$)=>l([d,$]),u,p,o.eofPos);{const d=o.lookupUnicodeCharacters(p,C(f.Buffer,f.BufferScanPos));return d===o.sentinel?u():(f.BufferScanLength=f.BufferScanLength+1,l([f,d]))}}))})}function u(){return T5(()=>Yt(s.EndOfScan()))}return Nr(s),l([s,n])}Interpret(n,s){return Nr(s),this.scanUntilSentinel(s,n)}},Gi=e(t),t});const ca=Gi;let Ri=I(e=>{var t;return t=class{},Ri=e(t),a(t,"_fslex_tables"),a(t,"actions"),a(t,"trans"),t.trans=[[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,4,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,4,65535,65535,65535,4,65535,4,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[19,19,19,19,19,19,19,19,19,13,14,19,19,15,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,13,19,9,19,19,19,19,18,10,10,10,10,10,10,19,10,6,6,6,6,6,6,6,6,6,6,8,16,11,10,12,19,19,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,10,19,10,19,19,19,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,17],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,32,65535,33,33,33,33,33,33,33,33,33,33,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,31,65535,31,31,31,31,31,31,31,31,31,31,65535,65535,65535,65535,65535,65535,65535,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,65535,65535,65535,65535,31,65535,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,65535,65535,65535,65535,65535,65535,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,65535,65535,65535,65535,65535,65535,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,23,23,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,23,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,22,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[21,21,21,21,21,21,21,21,21,21,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[21,21,21,21,21,21,21,21,21,21,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,26,65535,26,26,26,26,26,26,26,26,26,26,65535,65535,65535,65535,65535,65535,65535,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,65535,65535,65535,65535,26,65535,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,26,65535,26,26,26,26,26,26,26,26,26,26,65535,65535,65535,65535,65535,65535,65535,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,65535,65535,65535,65535,26,65535,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,26,65535,26,26,26,26,26,26,26,26,26,26,65535,65535,65535,65535,65535,65535,65535,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,65535,65535,65535,65535,26,65535,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,29,65535,29,29,29,29,29,29,29,29,29,29,65535,65535,65535,65535,65535,65535,65535,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,65535,65535,65535,65535,29,65535,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,29,65535,29,29,29,29,29,29,29,29,29,29,65535,65535,65535,65535,65535,65535,65535,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,65535,65535,65535,65535,29,65535,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,29,65535,29,29,29,29,29,29,29,29,29,29,65535,65535,65535,65535,65535,65535,65535,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,65535,65535,65535,65535,29,65535,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,31,65535,31,31,31,31,31,31,31,31,31,31,65535,65535,65535,65535,65535,65535,65535,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,65535,65535,65535,65535,31,65535,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,31,65535,31,31,31,31,31,31,31,31,31,31,65535,65535,65535,65535,65535,65535,65535,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,65535,65535,65535,65535,31,65535,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,34,34,34,34,34,34,34,34,34,34,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,32,65535,33,33,33,33,33,33,33,33,33,33,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,35,35,35,35,35,35,35,35,35,35,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,35,35,35,35,35,35,35,35,35,35,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535]],t.actions=[65535,2,1,2,0,65535,0,1,10,10,4,4,4,5,6,10,10,8,9,10,7,65535,6,4,3,3,3,2,2,2,1,1,65535,0,0,0],t._fslex_tables=ca.Create(da(),fa()),t});const Vs=Ri;function aa(e,t,i){for(;;){const r=Di().Interpret(0,i);if(r===0){const n=ft(i),s=n=="\\'"?'"':n=="\\n"?`
`:n=="\\r"?"\r":n=="\\t"?"	":"",o=(u=>c=>u+c)(t)(s);e=A.union(e,A.ofToken(i)),t=o}else{if(r===1)return[t,A.union(e,A.ofToken(i))];if(r===2){const n=ft(i);n==`
`&&es(i),e=A.union(e,A.ofToken(i)),t=t+n}else return F("string_literal")}}}function ha(e){for(;;){const t=Di().Interpret(5,e);if(t===0)return ma(e,ft(e));if(t===1)return wa(e,ft(e));if(t===2)return pa(e,ft(e));if(t===3)return $a(e,ft(e));if(t===4)return ga(e,ft(e));if(t===5)e=e;else if(t===6)es(e),e=e;else if(t===7)es(e),e=e;else{if(t===8)return la(A.ofToken(e));if(t===9){const i=aa(A.ofToken(e),"",e);return Vc([i[0],i[1]])}else{if(t===10)throw ki.New(ft(e),A.ofToken(e));return F("main")}}}}function Di(){return Vs._fslex_tables}function fa(){return Vs.actions}function da(){return Vs.trans}function pa(e,t){return Rc([t.substring(1),A.ofToken(e)])}function $a(e,t){return kc([t.substring(1),A.ofToken(e)])}function wa(e,t){return t.toLowerCase()=="to"?Dc(A.ofToken(e)):t.toLowerCase()=="repeat"?Oc(A.ofToken(e)):t.toLowerCase()=="if"?Mc(A.ofToken(e)):t.toLowerCase()=="ifelse"?Uc(A.ofToken(e)):t.toLowerCase()=="make"?Wc(A.ofToken(e)):t.toLowerCase()=="makelocal"?Hc(A.ofToken(e)):t.toLowerCase()=="local"?qc(A.ofToken(e)):t.toLowerCase()=="end"?Bc(A.ofToken(e)):t.toLowerCase()=="output"?jc(A.ofToken(e)):Gc([t,A.ofToken(e)])}function ma(e,t){return Lc([Number(t),A.ofToken(e)])}function ga(e,t){return t=="("?sa(A.ofToken(e)):t==")"?ra(A.ofToken(e)):t=="["?ia(A.ofToken(e)):t=="]"?oa(A.ofToken(e)):t=="+"?Kc(A.ofToken(e)):t=="-"?Xc(A.ofToken(e)):t=="*"?zc(A.ofToken(e)):t=="/"?Yc(A.ofToken(e)):t=="="?Qc(A.ofToken(e)):t=="<>"?Zc(A.ofToken(e)):t=="<"?ea(A.ofToken(e)):t=="<="?na(A.ofToken(e)):t==">"?Jc(A.ofToken(e)):t==">="?ta(A.ofToken(e)):F("Invalid special character or operator")}function es(e){let t,i;e.StartPos=(t=e.StartPos,t.NextLine),e.EndPos=(i=e.EndPos,i.NextLine)}function ft(e){return Si.LexemeString(e)}function _a(e){const t=Si.FromString(e),i=E5.New("...",1,1,0,1);t.EndPos=i,t.StartPos=i;try{return Yu(wc(ha,t))}catch(r){return r instanceof ki?dr([r.Data0,r.Data1]):dr([H5(r.message)+" - "+H5(t.Lexeme.join(""))+`
`,A.ofToken(t)])}}function Na(e){return"{"+("GlobalVariables = "+N5(e.GlobalVariables))+"; "+("LocalVariables = "+N5(e.LocalVariables))+"; "+("Functions = "+N5(e.Functions))+"; "+("BuiltIns = "+N5(e.BuiltIns))+"}"}function W5(e){return"{"+("Filename = "+N5(e.Filename))+"; "+("StartLine = "+N5(e.StartLine))+"; "+("StartColumn = "+N5(e.StartColumn))+"; "+("EndLine = "+N5(e.EndLine))+"; "+("EndColumn = "+N5(e.EndColumn))+"}"}function X5(e){return e.$==5?"Explicit "+X5(e.$0):e.$==4?"List "+Jn(t=>X5(t),e.$0):e.$==3?"Text "+N5(e.$0):e.$==2?"Boolean "+N5(e.$0):e.$==1?"Number "+N5(e.$0):"Nothing"}class z5{constructor(){a(this,"Key");a(this,"Value")}Equals(t){return E(this.Key,t.Key)}GetHashCode(){return ut(this.Key)}CompareTo0(t){return M5(this.Key,t.Key)}static New(t,i){return L(z5,{Key:t,Value:i})}}function Sa(e){const t=e5(a5(i=>z5.New(i[0],i[1]),Rr(i=>i[0],Mo(e))));return Lr(t),Pt(t,0,t.length-1)}let $t=I(e=>{var i;return i=class extends Q{constructor(s,o){var n=(...t)=>{super(...t);a(this,"tree")};let l;if(s=="New"&&(l=o,s="New_1",o=Sa(l)),s=="New_1"){const u=o;n(),this.tree=u}}GetEnumerator(){return M(a5(s=>({K:s.Key,V:s.Value}),tt(!1,this.tree)))}get Count(){const s=this.tree;return s==null?0:s.Count}Equals(s){return this.Count===s.Count&&Dr(E,this,s)}GetHashCode(){return ut(e5(this))}get Values(){return jt(e5(a5(s=>s.Value,tt(!1,this.Tree))))}get Keys(){return jt(e5(a5(s=>s.Key,tt(!1,this.Tree))))}TryFind(s){const o=nc(z5.New(s,void 0),this.tree);return o==null?null:m(o.$0.Value)}Remove_1(s){return new $t("New_1",xi(z5.New(s,void 0),this.tree))}get_Item(s){const o=this.TryFind(s);if(o==null)throw new vr("New");return o.$0}get IsEmpty(){return this.tree==null}TryGetValue(s,o){const l=this.TryFind(s);return l!=null&&l.$==1&&(o.set(l.$0),!0)}ContainsKey(s){return Ai(z5.New(s,void 0),this.tree)}Change(s,o){return new $t("New_1",sc(z5.New(s,void 0),l=>{const u=o(l==null?null:m(l.$0.Value));return u==null?null:m(z5.New(s,u.$0))},this.tree))}Add_1(s,o){return new $t("New_1",vi(z5.New(s,o),this.tree))}get Tree(){return this.tree}Remove(s){return F("Map values cannot be mutated.")}CopyTo(s,o){Te(e5(this),s,o)}Contains(s){let o;return o=void 0,this.TryGetValue(s.K,{get:()=>o,set:l=>{o=l}})&&E(o,s.V)}Clear(){F("Map values cannot be mutated.")}Add(s){F("Map values cannot be mutated.")}get IsReadOnly(){return!0}CompareTo0(s){return Gr(M5,this,s)}static New(s){return new this("New",s)}static New_1(s){return new this("New_1",s)}},$t=e(i),i});function ya(e){return new $t("New_1",de(a5(t=>z5.New(t[0],t[1]),e)))}let Oi=I(e=>{var t;return t=class extends Q{NextBytes(r){for(let n=0,s=k(r)-1;n<=s;n++)P5(r,n,Math.floor(Math.random()*256))}Next(r,n){return r>n?F("'minValue' cannot be greater than maxValue."):r+Math.floor(Math.random()*(n-r))}Next_1(r){return r<0?F("'maxValue' must be greater than zero."):Math.floor(Math.random()*r)}Next_2(){return Math.floor(Math.random()*2147483648)}},Oi=e(t),t});const Ta=Oi;let ns=I(e=>{var t;return G(Error),t=class extends Error{constructor(){super(...arguments);a(this,"f");a(this,"args");a(this,"Data2")}static New(n,s,o){return L(ns,{f:n,args:s,Data2:o})}},ns=e(t),t});const Me=ns;let Mi=I(e=>{var t;return t=class{},Mi=e(t),a(t,"Core"),a(t,"rnd"),t.rnd=new Ta,t.Core=s5([["debug_environment",r=>()=>()=>((n=>s=>n("DEBUG ENV = "+Na(s)))(n=>{console.log(n)})(r),[[r,p5],!1])],["difference",r=>n=>s=>{let o;if(s.$==1&&s.$0.$==1&&s.$1.$==1&&s.$1.$0.$==1&&s.$1.$1.$==0&&(o=[s.$0.$0,s.$1.$0.$0],!0))return[[r,pt(o[0]-o[1])],!1];throw Me.New("difference",s,n)}],["random",r=>n=>s=>{let o;if(s.$==1&&s.$0.$==1&&s.$1.$==0&&(o=s.$0.$0,!0))return[[r,pt(Ia().Next_1(n5(o)))],!1];throw Me.New("random",s,n)}],["sentence",r=>n=>s=>[[r,nn(B5(" ",a5(o=>zn(n,o),s)))],!1]],["stop",r=>n=>s=>{if(s.$==0)return[[r,p5],!0];throw Me.New("stop",s,n)}],["word",r=>n=>s=>[[r,nn(B5("",a5(o=>zn(n,o),s)))],!1]]]),t});const Ui=Mi;function Ca(){return Ui.Core}function Ia(){return Ui.rnd}class rt{constructor(){a(this,"GlobalVariables");a(this,"LocalVariables");a(this,"Functions");a(this,"BuiltIns")}static Create(){return rt.New(new $t("New",[]),new $t("New",[]),new $t("New",[]),ya(e5(Ca())))}PreserveGlobalStateFrom(t){return rt.New(t.GlobalVariables,this.LocalVariables,this.Functions,this.BuiltIns)}AddLocalVariable(t,i){return rt.New(this.GlobalVariables,this.LocalVariables.Add_1(t,i),this.Functions,this.BuiltIns)}AddGlobalVariable(t,i){return rt.New(this.GlobalVariables.Add_1(t,i),this.LocalVariables,this.Functions,this.BuiltIns)}AddFunction(t,i,r){return rt.New(this.GlobalVariables,this.LocalVariables,this.Functions.Add_1(t,[i,r]),this.BuiltIns)}static New(t,i,r,n){return L(rt,{GlobalVariables:t,LocalVariables:i,Functions:r,BuiltIns:n})}}let ss=I(e=>{var t;return G(Error),t=class extends Error{constructor(){super(...arguments);a(this,"f");a(this,"v1");a(this,"v2");a(this,"Data3")}static New(n,s,o,l){return L(ss,{f:n,v1:s,v2:o,Data3:l})}},ss=e(t),t});const K5=ss;let rs=I(e=>{var t;return G(Error),t=class extends Error{constructor(){super(...arguments);a(this,"f");a(this,"v");a(this,"Data2")}static New(n,s,o){return L(rs,{f:n,v:s,Data2:o})}},rs=e(t),t});const ba=rs;let is=I(e=>{var t;return G(Error),t=class extends Error{constructor(){super(...arguments);a(this,"v");a(this,"Data1")}static New(n,s){return L(is,{v:n,Data1:s})}},is=e(t),t});const Wi=is;let os=I(e=>{var t;return G(Error),t=class extends Error{constructor(){super(...arguments);a(this,"v");a(this,"Data1")}static New(n,s){return L(os,{v:n,Data1:s})}},os=e(t),t});const Hi=os;let ls=I(e=>{var t;return G(Error),t=class extends Error{constructor(){super(...arguments);a(this,"f");a(this,"Data1");a(this,"Data2")}static New(n,s,o){return L(ls,{f:n,Data1:s,Data2:o})}},ls=e(t),t});const qi=ls;let us=I(e=>{var t;return G(Error),t=class extends Error{constructor(){super(...arguments);a(this,"f");a(this,"Data1")}static New(n,s){return L(us,{f:n,Data1:s})}},us=e(t),t});const Bi=us;let cs=I(e=>{var t;return G(Error),t=class extends Error{constructor(){super(...arguments);a(this,"v");a(this,"Data1")}static New(n,s){return L(cs,{v:n,Data1:s})}},cs=e(t),t});const as=cs;function Z(e,t){let i,r,n,s,o,l,u,c,f;if(t.$==1)return[e,pt(t.$0)];if(t.$==2)return[e,nn(t.$0)];if(t.$==3)return[e,nn(t.$0)];if(t.$==4){const h=ji(e,[t.$0[0],t.$0[1]],t.$1,t.$2);return[h[0][0],h[0][1]]}else if(t.$==5){const h=Kt((d,$)=>(g=>{const b=g[0],_=g[1];return y=>{const w=Z(b,y);return[w[0],V.Cons(w[1],_)]}})(d)($),[e,V.Empty],t.$0);return[h[0],Wu(Ht(h[1]))]}else if(t.$==6){const h=Z(e,t.$0),d=h[1],$=Z(h[0],t.$1),g=$[1];if(d.$==1&&g.$==1&&(i=[d.$0,g.$0],!0))return[$[0],pt(i[0]+i[1])];throw K5.New("(+)",d,g,t.$2)}else if(t.$==7){const h=Z(e,t.$0),d=h[1],$=Z(h[0],t.$1),g=$[1];if(d.$==1&&g.$==1&&(r=[d.$0,g.$0],!0))return[$[0],pt(r[0]-r[1])];throw K5.New("(-)",d,g,t.$2)}else if(t.$==8){const h=Z(e,t.$0),d=h[1],$=Z(h[0],t.$1),g=$[1];if(d.$==1&&g.$==1&&(n=[d.$0,g.$0],!0))return[$[0],pt(n[0]*n[1])];throw K5.New("(*)",d,g,t.$2)}else if(t.$==9){const h=Z(e,t.$0),d=h[1],$=Z(h[0],t.$1),g=$[1];if(d.$==1&&g.$==1&&(s=[d.$0,g.$0],!0))return[$[0],pt(s[0]/s[1])];throw K5.New("(/)",d,g,t.$2)}else if(t.$==14){const h=Z(e,t.$0),d=h[1],$=Z(h[0],t.$1),g=$[1],b=$[0];switch(d.$==1?g.$==1?(o=[d.$0,g.$0],0):4:d.$==2?g.$==2?(o=[d.$0,g.$0],1):4:d.$==3?g.$==3?(o=[d.$0,g.$0],2):4:d.$==4&&g.$==4?(o=[d.$0,g.$0],3):4){case 0:return[b,st(o[0]===o[1])];case 1:return[b,st(o[0]==o[1])];case 2:return[b,st(o[0]==o[1])];case 3:let _=function(y,w){for(;;){const N=y,S=w;if(N.$==1)if(S.$==1)if(E(N.$0,S.$0))y=N.$1,w=S.$1;else return!1;else return!1;else return S.$==0}};var p=_;return[b,st(_(o[0],o[1]))];case 4:throw K5.New("(=|<>)",d,g,t.$2)}}else if(t.$==15){const h=t.$2,d=Z(e,W.Eq(t.$0,t.$1,h)),$=d[1];if($.$==2)return[d[0],st(!$.$0)];throw ba.New("(<>)",$,h)}else if(t.$==10){const h=Z(e,t.$0),d=h[1],$=Z(h[0],t.$1),g=$[1];if(d.$==1&&g.$==1&&(l=[d.$0,g.$0],!0))return[$[0],st(l[0]>l[1])];throw K5.New("(>)",d,g,t.$2)}else if(t.$==12){const h=Z(e,t.$0),d=h[1],$=Z(h[0],t.$1),g=$[1];if(d.$==1&&g.$==1&&(u=[d.$0,g.$0],!0))return[$[0],st(u[0]>=u[1])];throw K5.New("(>=)",d,g,t.$2)}else if(t.$==11){const h=Z(e,t.$0),d=h[1],$=Z(h[0],t.$1),g=$[1];if(d.$==1&&g.$==1&&(c=[d.$0,g.$0],!0))return[$[0],st(c[0]<c[1])];throw K5.New("(<)",d,g,t.$2)}else if(t.$==13){const h=Z(e,t.$0),d=h[1],$=Z(h[0],t.$1),g=$[1];if(d.$==1&&g.$==1&&(f=[d.$0,g.$0],!0))return[$[0],st(f[0]<=f[1])];throw K5.New("(<=)",d,g,t.$2)}else{const h=t.$0,d=t.$1,$=e.GlobalVariables.TryFind(h.toLowerCase());if($==null){const g=e.LocalVariables.TryFind(h.toLowerCase());if(g==null)throw Wi.New(h,d);if(g.$0==null)throw Hi.New(h,d);return[e,g.$0.$0]}else return[e,$.$0]}}function ji(e,t,i,r){let n,s;const o=t[1],l=t[0];if(e.Functions.ContainsKey(l.toLowerCase())){const u=e.Functions.get_Item(l.toLowerCase()),c=u[0],f=gn(i);if(f!==gn(c))throw qi.New(l,f,r);const p=hn(To((d,$,g)=>{const b=Z(d,g);return b[0].AddLocalVariable($.toLowerCase(),m(b[1]))},e,c,i),u[1]),h=p[0][1];return h.$==5?n=h.$0:n=h,[[e.PreserveGlobalStateFrom(p[0][0]),n],!1]}else if(e.BuiltIns.ContainsKey(l.toLowerCase())){const u=e.BuiltIns.get_Item(l.toLowerCase()),c=Kt((d,$)=>(g=>{const b=g[0],_=g[1];return y=>{const w=Z(b,y);return[w[0],V.Cons(w[1],_)]}})(d)($),[e,V.Empty],i),f=[c[0],Ht(c[1])],p=u(f[0])(o)(f[1]),h=p[0][1];return h.$==5?s=h.$0:s=h,[[p[0][0],s],p[1]]}else throw Bi.New(l,o)}function Ea(e,t){if(t.$==1){const i=t.$1,r=Z(e,t.$0),n=r[1];if(n.$==1)return gi((s,o)=>(l=>{const u=l[0];return c=>hn(u.AddLocalVariable("repcount",m(pt(c))),i)})(s)(o),[r[0],p5],D5(_t(1,n5(n.$0))));throw ht.New(s5([n]),t.$2)}else if(t.$==2){const i=Z(e,t.$0),r=i[1],n=i[0];if(r.$==2)return r.$0?wn(n,t.$1):[[n,p5],!1];throw as.New(r,t.$2)}else if(t.$==3){const i=Z(e,t.$0),r=i[1],n=i[0];if(r.$==2)return r.$0?wn(n,t.$1):wn(n,t.$2);throw as.New(r,t.$3)}else if(t.$==4){const i=t.$0[0],r=Z(e,t.$1),n=r[1],s=r[0];return s.LocalVariables.ContainsKey(i.toLowerCase())?[[s.AddLocalVariable(i.toLowerCase(),m(n)),p5],!1]:[[s.AddGlobalVariable(i.toLowerCase(),n),p5],!1]}else if(t.$==5){const i=Z(e,t.$1);return[[i[0].AddLocalVariable(t.$0[0].toLowerCase(),m(i[1])),p5],!1]}else{if(t.$==6)return[[e.AddLocalVariable(t.$0[0].toLowerCase(),null),p5],!1];if(t.$==7)return ji(e,[t.$0[0],t.$0[1]],t.$1,t.$2);if(t.$==8){const i=Z(e,t.$0);return[[i[0],Uu(i[1])],!1]}else return[[e.AddFunction(t.$0[0].toLowerCase(),pe(i=>i[0],t.$1),t.$2),p5],!1]}}function wn(e,t){const i=hn(e,t),r=i[0][1];return r.$==5?[[i[0][0],r.$0],i[1]]:[[i[0][0],p5],i[1]]}function hn(e,t){return gi((i,r)=>(n=>{const s=n[0];return o=>Ea(s,o)})(i)(r),[e,p5],t)}let Ki=I(e=>{var t;return t=class{},Ki=e(t),a(t,"Main"),a(t,"EditorCaretPosition"),a(t,"CurrentExampleSelected"),a(t,"Examples"),a(t,"ThemeIsDark"),a(t,"Code"),a(t,"ZOOM_INCREMENT"),(()=>{t.ZOOM_INCREMENT=.1,t.Code="intellilogo-code",t.ThemeIsDark="intellilogo-theme-isdark",t.Examples=t5.Create_1([]),t.CurrentExampleSelected=t5.Create_1(null),t.EditorCaretPosition=t5.Create_1([1,1]),xa();const r=t5.Create_1(1),n=t5.Create_1(null),s=t5.Create_1(!1),o=t5.Create_1(""),l=t5.Create_1(`Welcome to IntelliLogo!
`),u=globalThis.localStorage,c=P=>{P?globalThis.document.documentElement.classList.contains("dark")||globalThis.document.documentElement.classList.add("dark"):globalThis.document.documentElement.classList.contains("dark")&&globalThis.document.documentElement.classList.remove("dark"),u.setItem(Ks(),String(P))},f=u.getItem(Xs());Ys(f)||(m5(l,`Previous coding session restored.
`),o.Set(f));const p=u.getItem(Ks());Ys(p)||(p.toLowerCase()=="true"?c(!0):c(!1));const h=(P,o5)=>{va(o,l,s,j.Value(P.Hole("examples")).Get(),o5.Anchor("ExamplesNode")),De().Set(m(j.Value(P.Hole("examples")).Get()))},d=P=>{De().Set(null),s.Set(!1),j.Value(P.Hole("examples")).Set(""),o.Set(""),l.Set("")},$=P=>{Mt(T5(()=>se(null,r,c5=>(P.Anchor("Canvas").style.width=String(1e3*c5)+"px",P.Anchor("Canvas").style.height=String(1e3*c5)+"px",P.Anchor("Canvas").style.transform="scale("+String(c5)+")",P.Anchor("Canvas").style.transformOrigin="center",$5()))),null)},g=L5.BindView(P=>L5.Concat(O5(o5=>L5.Element("option",[v.Create("value",o5.filename)],[L5.TextNode(o5.name)]),P)),zi().View),b=H(P=>String(P[0]),hs().View),_=H(P=>String(P[1]),hs().View),y=new wu("New_1"),w=(y.h.push(new en("editor",o)),y),N=(w.h.push(Ru(w.k,"oar",()=>w.i,P=>{P.Anchors.Anchor("EditorNode").focus()})),w),S=(N.h.push(A5(N.k,"editoronclick",()=>N.i,P=>{Re(P.Target)})),N),x=(S.h.push(A5(S.k,"editoroninput",()=>S.i,P=>{Re(P.Target)})),S),U=(x.h.push(A5(x.k,"editoronkeyup",()=>x.i,P=>{Re(P.Target)})),x),J=(U.h.push(A5(U.k,"editoronscroll",()=>U.i,P=>{Re(P.Target)})),U),q=(J.h.push(A5(J.k,"editoronkeydown",()=>J.i,P=>{if(s.Set(!0),P.Event.key=="Tab"){const o5=P.Target;P.Event.preventDefault();const c5=o5.selectionStart,Dt=o5.selectionEnd;o5.value=p3(o5.value,0,c5)+"  "+o5.value.substring(Dt),o5.selectionStart=c5+2,o5.selectionEnd=c5+2}})),J),B=(q.h.push(new fr("editorcol",_)),q),u5=(B.h.push(new fr("editorrow",b)),B),K=(u5.h.push(new ci("exampleoptions",g)),u5),R=(K.h.push(A5(K.k,"examplechanged",()=>K.i,P=>{s.Get()?(n.Set(m(Ou)),Ge("popupOverlay","flex")):h(P.Vars,P.Anchors)})),K),X=(R.h.push(A5(R.k,"acceptabandoningchanges",()=>R.i,P=>{Mt(T5(()=>(Ge("popupOverlay","none"),se(null,n,c5=>c5==null?$5():c5.$0.$==1?(d(P.Vars,P.Anchors),$5()):(h(P.Vars,P.Anchors),$5())))),null)})),R),z=(X.h.push(A5(X.k,"cancelabandoningchanges",()=>X.i,P=>{Mt(T5(()=>(Ge("popupOverlay","none"),se(null,n,c5=>(c5==null||c5.$0.$==1||De().Get()!=null&&j.Value(P.Vars.Hole("examples")).Set(De().Get().$0),$5())))),null)})),X),w5=(z.h.push(A5(z.k,"newfile",()=>z.i,P=>{s.Get()?(n.Set(m(Du)),Ge("popupOverlay","flex")):d(P.Vars,P.Anchors)})),z),h5=(w5.h.push(A5(w5.k,"zoomin",()=>w5.i,P=>{Mt(T5(()=>se(null,r,c5=>(r.Set(c5+.1),$(P.Anchors),$5()))),null)})),w5),Rt=(h5.h.push(A5(h5.k,"zoomout",()=>h5.i,P=>{Mt(T5(()=>se(null,r,c5=>(r.Set(c5-.1),$(P.Anchors),$5()))),null)})),h5),j5=(Rt.h.push(new en("console",l)),Rt),U5=(j5.h.push(A5(j5.k,"themetoggle",()=>j5.i,()=>{Mt(T5(()=>(c(!globalThis.document.documentElement.classList.contains("dark")),$5())),null)})),j5),i5=(U5.h.push(A5(U5.k,"onrun",()=>U5.i,P=>{Xu();const o5=P.Anchors.Anchor("Canvas").getContext("2d");D().Ctx=o5,D().Console=m(l);const c5=o.Get();u.setItem(Xs(),c5);const Dt=_a(c5);if(Dt.$==1)m5(l,"Parse error before "+H5(Dt.$0[0])+" at "+W5(Dt.$0[1])+`
`);else{l.Set(""),D().Ctx.clearRect(0,0,D().CanvasX,D().CanvasY);const xe=rt.Create();try{const O=hn(rt.New(xe.GlobalVariables,xe.LocalVariables,xe.Functions,Kt((ne,Gs)=>{const Yi=Gs[1];return Kt((Qi,Zi)=>Qi.Add_1(Zi,Yi),ne,Gs[0])},xe.BuiltIns,Ku())),Dt.$0);O[1]&&m5(l,`Program stopped.
`),m5(l,"Result="+X5(O[0][1])+`
`)}catch(O){O instanceof K5?m5(l,"Type mismatch in "+H5(O.f)+", got "+X5(O.v1)+" and "+X5(O.v2)+" at "+W5(O.Data3)):O instanceof Me?m5(l,"Unexpected argument(s) to "+H5(O.f)+" at "+Jn(ne=>X5(ne),O.args)+": "+W5(O.Data2)):O instanceof ht?m5(l,"Number expected at "+W5(O.Data1)+", but got "+Jn(ne=>X5(ne),O.v)):O instanceof as?m5(l,"Boolean expected at "+W5(O.Data1)+", but got "+X5(O.v)):O instanceof qi?m5(l,H5(O.f)+" doesn't like "+String(O.Data1)+" inputs at "+W5(O.Data2)):O instanceof Bi?m5(l,"I don't know how to "+H5(O.f)+" at "+W5(O.Data1)):O instanceof Wi?m5(l,"Undefined variable "+H5(O.v)+" at "+W5(O.Data1)):O instanceof Hi?m5(l,"Uninitialized local variable "+H5(O.v)+" at "+W5(O.Data1)):O instanceof wi?m5(l,"Unexpected value (list) in string converstion "+X5(O.Data0)+" at "+W5(O.Data1)):O instanceof mi?m5(l,"Unexpected value (uninitialized) in string converstion "+X5(O.Data0)+" at "+W5(O.Data1)):m5(l,"Uncaught error: "+H5(O.message)+" - "+N5(O))}}})),U5),ee=Gu(i5.k,i5.h,[["examples",0,m("")],["editor",0,null],["console",0,null]]);let ve=i5.i=new oi(ee[1],fi(ee[0]));t.Main=ve})(),t});const te=Ki;function Xi(e,t,i,r){const n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=()=>{if(n.readyState===XMLHttpRequest.DONE)if(n.status===200)try{return i(e?n.responseText:JSON.parse(n.responseText))}catch(s){return r("Parsing error: "+String(s.message))}else return r("HTTP error: "+String(n.statusText));else return null},n.send()}function Aa(){return te.Main}function va(e,t,i,r,n){n.classList.add("animate-progressbar"),Xi(!0,"/examples/"+String(r),s=>{e.Set(s),t.Set(""),i.Set(!1),n.classList.remove("animate-progressbar")},s=>{m5(t,"Error: "+N5(s)+`
`),n.classList.remove("animate-progressbar")})}function Ge(e,t){globalThis.document.getElementById(e).style.display=t}function Re(e){const t=e.selectionStart,i=p3(e.value,0,t),r=[Kt((n,s)=>s===`
`?n+1:n,1,i),t-i.lastIndexOf(`
`)];hs().Set(r)}function hs(){return te.EditorCaretPosition}function xa(){Xi(!1,"/examples/config.json",e=>{zi().Set(e.examples)},e=>{(t=>i=>t("Error: "+N5(i)))(t=>{console.log(t)})(e)})}function De(){return te.CurrentExampleSelected}function zi(){return te.Examples}Aa();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".splitter");let t=!1;const i=function(s){s.preventDefault(),t=!0,document.addEventListener("mousemove",r),document.addEventListener("mouseup",n),document.addEventListener("touchmove",r,{passive:!1}),document.addEventListener("touchend",n)},r=function(s){if(!t)return;let o=s.clientX||s.touches[0].clientX;const l=e.parentNode.getBoundingClientRect(),u=o-l.left,c=l.right-o;e.previousElementSibling.style.width=`${u}px`,e.nextElementSibling.style.width=`${c}px`},n=function(s){t&&(t=!1,document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",n),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",n))};e.addEventListener("mousedown",i),e.addEventListener("touchstart",i,{passive:!1})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".splitter-v");let t=!1;e.addEventListener("mousedown",function(n){n.preventDefault(),t=!0,document.addEventListener("mousemove",i),document.addEventListener("mouseup",r)});function i(n){if(!t)return;const o=e.parentNode.getBoundingClientRect(),l=n.clientY-o.top,u=l,c=o.height-l-e.offsetHeight;e.previousElementSibling.style.flexGrow=0,e.previousElementSibling.style.height=`${u}px`,e.nextElementSibling.style.flexGrow=0,e.nextElementSibling.style.height=`${c}px`}function r(){t&&(document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",r),t=!1)}});
