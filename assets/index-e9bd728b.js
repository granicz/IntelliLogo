var Wi=Object.defineProperty;var Hi=(e,t,i)=>t in e?Wi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var a=(e,t,i)=>(Hi(e,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=i(r);fetch(r.href,n)}})();function L(e,t){return Object.assign(Object.create(e.prototype),t)}const fs=Symbol("force");function R(e){e[fs]}function I(e){var t;function i(){return t||(t=e(r=>t=r)),t}return new Proxy(Function(),{get(r,n){return n==fs&&i(),i()[n]},set(r,n,o){return i()[n]=o,!0},construct(r,n,o){return Reflect.construct(i(),n,o)}})}function ds(e,t){for(var i=0;i<t.length;i++){var s=t[i];e[s]===void 0&&delete e[s]}return e}function pt(e){return e===void 0?null:{$:1,$0:e}}function $t(e,t,i){i?e[t]=i.$0:delete e[t]}function qi(e){return function(...t){return e(t)}}function qt(e){return Object.defineProperty(e,"resizable",{enumerable:!1,writable:!1,configurable:!1,value:!0}),e}let Y=class{Equals(t){return this===t}GetHashCode(){return-1}};function Bi(e,t,i){return{c:e,v:t,f:i}}function ps(e){return Bi(!1,e,ji)}function ji(){const e=this.v();return this.c=!0,this.v=e,this.f=Ki,e}function Ki(){return this.v}let x5=I(e=>{var t;return t=class extends Y{constructor(r,n,o,l){super();a(this,"s");a(this,"c");a(this,"n");a(this,"d");a(this,"e");this.s=r,this.c=n,this.n=o,this.d=l,this.e=0}Dispose(){this.d&&this.d(this)}get Current(){return this.e===1?this.c:this.e===0?F("Enumeration has not started. Call MoveNext."):F("Enumeration already finished.")}get Current0(){return this.Current}MoveNext(){const r=this.n(this);return this.e=r?1:2,r}},x5=e(t),t});function et(e,t,i){if(t==null)if(i!=null&&i.$==1){const s=i.$0;return s<0?"":e.slice(0,s+1)}else return"";else{if(i==null)return e.slice(t.$0);{const s=i.$0;return s<0?"":e.slice(t.$0,s+1)}}}function Xi(e,t,i){if(t==null)if(i!=null&&i.$==1){const s=i.$0;return s<0?[]:e.slice(0,s+1)}else return[];else{if(i==null)return e.slice(t.$0);{const s=i.$0;return s<0?[]:e.slice(t.$0,s+1)}}}function N(e){return{$:1,$0:e}}function c5(e){return"Dispose"in e}let $s=I(e=>{var t;return t=class extends Y{constructor(r){super();a(this,"d");this.d=r}GetEnumerator(){return U(h5(r=>r.K,this.d))}get IsReadOnly(){return!0}get Count(){return this.d.count}Contains(r){return this.d.ContainsKey(r)}CopyTo(r,n){_e(n5(this),r,n)}},$s=e(t),t});const zi=$s;let ws=I(e=>{var t;return t=class extends Y{constructor(r){super();a(this,"d");this.d=r}GetEnumerator(){return U(h5(r=>r.V,this.d))}get IsReadOnly(){return!0}get Count(){return this.d.count}Contains(r){return this.d.ContainsValue(r)}CopyTo(r,n){_e(n5(this),r,n)}},ws=e(t),t});const Yi=ws;function Qi(e){let t=[];for(var i in e)t.push(e[i]);return t}function Ji(e){let t=[];for(var i in e)t.push([i,e[i]]);return t}let ms=I(e=>{var t;return R(Error),t=class extends Error{static New(s,r){return new this("New",s,r)}static New_1(){return new this("New_1")}static New_2(s){return new this("New_2",s)}constructor(s,r,n){s=="New_1"&&(s="New_2",r="Value does not fall within the expected range.");let o,l;if(s=="New"&&(o=r,l=n,s="New_2",r=l+`
Parameter name: `+o),s=="New_2"){const u=r;super(u)}}},ms=e(t),t});const gs=ms;let Ns=I(e=>{var t;return R(Error),t=class extends Error{static New(){return new this("New")}static New_1(s){return new this("New_1",s)}constructor(s,r){if(s=="New"&&(s="New_1",r="The given key was not present in the dictionary."),s=="New_1"){const n=r;super(n)}}},Ns=e(t),t});const _s=Ns;function Ge(e,t){return e.CGetHashCode(t)}function Re(e){return(t,i)=>e.CEquals(t,i)}function Zi(){throw new gs("New_2","An item with the same key has already been added.")}function to(){throw new _s("New")}let Ss=I(e=>{var i;return i=class extends Y{constructor(n,o,l,u){var r=(...t)=>{super(...t);a(this,"equals");a(this,"hash");a(this,"count");a(this,"data")};n=="New_4"&&(n="New_5");let c;n=="New_2"&&(c=l,n="New_3",o=c),n=="New_5"&&(n="New_6",o=[],l=E,u=st);let d;n=="New_3"&&(d=o,n="New_6",o=[],l=Re(d),u=$=>Ge(d,$));let p;n=="New_1"&&(p=o,n="New_6",o=p,l=E,u=st);let h,f;if(n=="New"&&(h=o,f=l,n="New_6",o=h,l=Re(f),u=$=>Ge(f,$)),n=="New_6"){const $=o,m=l,b=u;r(),this.equals=m,this.hash=b,this.count=0,this.data=[];const g=U($);try{for(;g.MoveNext();){const y=g.Current;this.set(y.K,y.V)}}finally{typeof g=="object"&&c5(g)&&g.Dispose()}}}get Keys(){return new zi(this)}get Values(){return new Yi(this)}RemoveKey(n){return this.remove(n)}GetEnumerator(){return Mo(lo(Qi(this.data)))}set_Item(n,o){this.set(n,o)}Item(n){return this.get(n)}DAdd(n,o){this.add(n,o)}remove(n){const o=this.hash(n),l=this.data[o];if(l==null)return!1;{const u=bt(c=>!this.equals.apply(null,[ot(c)[0],n]),l);return k(u)<l.length&&(this.count=this.count-1,this.data[o]=u,!0)}}add(n,o){const l=this.hash(n),u=this.data[l];u==null?(this.count=this.count+1,this.data[l]=new Array({K:n,V:o})):(an(c=>this.equals.apply(null,[ot(c)[0],n]),u)&&Zi(),this.count=this.count+1,u.push({K:n,V:o}))}set(n,o){const l=this.hash(n),u=this.data[l];if(u==null)this.count=this.count+1,this.data[l]=new Array({K:n,V:o});else{const c=Ts(d=>this.equals.apply(null,[ot(d)[0],n]),u);c==null?(this.count=this.count+1,u.push({K:n,V:o})):u[c.$0]={K:n,V:o}}}get(n){const o=this.data[this.hash(n)];return o==null?to():io(l=>{const u=ot(l);return this.equals.apply(null,[u[0],n])?N(u[1]):null},o)}TryGetValue(n,o){const l=this.data[this.hash(n)];if(l==null)return!1;{const u=ys(c=>{const d=ot(c);return this.equals.apply(null,[d[0],n])?N(d[1]):null},l);return u!=null&&u.$==1&&(o.set(u.$0),!0)}}ContainsValue(n){return lr(o=>E(ot(o)[1],n),this)}ContainsKey(n){const o=this.data[this.hash(n)];return o==null?!1:an(l=>this.equals.apply(null,[ot(l)[0],n]),o)}Clear(){this.data=[],this.count=0}get IsFixedSize(){return!1}Remove(n){let o;const l=(o=void 0,[this.TryGetValue(n.K,{get:()=>o,set:u=>{o=u}}),o]);return l[0]&&E(l[1],n.V)&&this.RemoveKey(n.K)}CopyTo(n,o){_e(n5(this),n,o)}Contains(n){let o;const l=(o=void 0,[this.TryGetValue(n.K,{get:()=>o,set:u=>{o=u}}),o]);return l[0]&&E(l[1],n.V)}Add(n){this.DAdd(n.K,n.V)}get Count(){return this.count}get IsReadOnly(){return!1}static New(n,o){return new this("New",n,o)}static New_1(n){return new this("New_1",n)}static New_2(n,o){return new this("New_2",n,o)}static New_3(n){return new this("New_3",n)}static New_4(n){return new this("New_4",n)}static New_5(){return new this("New_5")}static New_6(n,o,l){return new this("New_6",n,o,l)}},Ss=e(i),i});const N5=Ss;function Rt(e){let t=[];for(var i in e)t.push.apply(t,e[i]);return t}let se=I(e=>{var i;return i=class extends Y{constructor(n,o,l,u){var r=(...t)=>{super(...t);a(this,"equals");a(this,"hash");a(this,"data");a(this,"count")};n=="New_3"&&(n="New_4",o=[],l=E,u=st);let c;n=="New_2"&&(c=o,n="New_4",o=c,l=E,u=st);let d;n=="New_1"&&(d=o,n="New_4",o=[],l=Re(d),u=f=>Ge(d,f));let p,h;if(n=="New"&&(p=o,h=l,n="New_4",o=p,l=Re(h),u=f=>Ge(h,f)),n=="New_4"){const f=o,$=l,m=u;r(),this.equals=$,this.hash=m,this.data=[],this.count=0;const b=U(f);try{for(;b.MoveNext();)this.add(b.Current)}finally{typeof b=="object"&&c5(b)&&b.Dispose()}}}GetEnumerator(){return U(Rt(this.data))}get Count(){return this.count}CopyTo(n,o){const l=Rt(this.data);for(let u=0,c=l.length-1;u<=c;u++)E5(n,u+o,l[u])}SAdd(n){return this.add(n)}add(n){const o=this.hash(n),l=this.data[o];return l==null?(this.data[o]=[n],this.count=this.count+1,!0):this.arrContains(n,l)?!1:(l.push(n),this.count=this.count+1,!0)}arrRemove(n,o){let l=!0,u=0;const c=o.length;for(;l&&u<c;)this.equals.apply(null,[o[u],n])?(o.splice(u,1),l=!1):u=u+1;return!l}arrContains(n,o){let l=!0,u=0;const c=o.length;for(;l&&u<c;)this.equals.apply(null,[o[u],n])?l=!1:u=u+1;return!l}UnionWith(n){const o=U(n);try{for(;o.MoveNext();)this.SAdd(o.Current)}finally{typeof o=="object"&&c5(o)&&o.Dispose()}}SymmetricExceptWith(n){const o=U(n);try{for(;o.MoveNext();){const l=o.Current;this.Contains(l)?this.Remove(l):this.SAdd(l)}}finally{typeof o=="object"&&c5(o)&&o.Dispose()}}SetEquals(n){const o=new se("New_4",n,this.equals,this.hash);return this.Count===o.Count&&this.IsSupersetOf(o)}RemoveWhere(n){const o=Rt(this.data);let l=0;for(let u=0,c=o.length-1;u<=c;u++){const d=o[u];n(d)&&this.Remove(d)&&(l=l+1)}return l}Remove(n){const o=this.data[this.hash(n)];return o==null?!1:this.arrRemove(n,o)&&(this.count=this.count-1,!0)}Overlaps(n){return lr(o=>this.Contains(o),n)}IsSupersetOf(n){return Ue(o=>this.Contains(o),n)}IsSubsetOf(n){const o=new se("New_4",n,this.equals,this.hash);return sr(l=>o.Contains(l),Rt(this.data))}IsProperSupersetOf(n){const o=n5(n);return this.count>k(o)&&this.IsSupersetOf(o)}IsProperSubsetOf(n){const o=n5(n);return this.count<k(o)&&this.IsSubsetOf(o)}IntersectWith(n){const o=new se("New_4",n,this.equals,this.hash),l=Rt(this.data);for(let u=0,c=l.length-1;u<=c;u++){const d=l[u];o.Contains(d)||this.Remove(d)}}ExceptWith(n){const o=U(n);try{for(;o.MoveNext();)this.Remove(o.Current)}finally{typeof o=="object"&&c5(o)&&o.Dispose()}}CopyTo_1(n,o,l){const u=Rt(this.data);for(let c=0,d=l-1;c<=d;c++)E5(n,c+o,u[c])}Contains(n){const o=this.data[this.hash(n)];return o==null?!1:this.arrContains(n,o)}Clear(){this.data=[],this.count=0}Add(n){this.SAdd(n)}get IsReadOnly(){return!1}static New(n,o){return new this("New",n,o)}static New_1(n){return new this("New_1",n)}static New_2(n){return new this("New_2",n)}static New_3(){return new this("New_3")}static New_4(n,o,l){return new this("New_4",n,o,l)}},se=e(i),i});const Q5=se;function eo(){return F("The input must be non-negative.")}function De(){return F("The input sequence has an insufficient number of elements.")}function Ar(e,t){let i=t;for(let s=1,r=e;s<=r;s++)i.$==0?F("Input list too short."):i=i.$1;return i}function no(e,t){for(let i=0,s=t.length-1;i<=s;i++)t[i]=e(i,t[i]);return t}function ro(e,t){for(let i=0,s=t.length-1;i<=s;i++)t[i]=e(t[i])}function so(e,t){let i=!0,s=0;for(;i&&s<k(t);)E(t[s],e)?i=!1:s=s+1;return!i}function ys(e,t){let i=null,s=0;for(;s<t.length&&i==null;){const r=e(t[s]);r!=null&&r.$==1&&(i=r),s=s+1}return i}function Ts(e,t){let i=null,s=0;for(;s<t.length&&i==null;)e(t[s])&&(i=N(s)),s=s+1;return i}function Cs(e){ro(t=>t[0],no((t,i)=>[i,t],e).sort(R5))}function io(e,t){const i=ys(e,t);return i==null?F("KeyNotFoundException"):i.$0}function n5(e){if(e instanceof Array)return e.slice();if(e instanceof V)return Me(e);{const t=[],i=U(e);try{for(;i.MoveNext();)t.push(i.Current);return t}finally{typeof i=="object"&&c5(i)&&i.Dispose()}}}function Me(e){const t=[];let i=e;for(;i.$!=0;)t.push(Is(i)),i=or(i);return t}function G5(e,t){const i=new Array(t.length);for(let s=0,r=t.length-1;s<=r;s++)i[s]=e(t[s]);return i}function y5(e,t){for(let i=0,s=t.length-1;i<=s;i++)e(t[i])}function Oe(e,t){e<0&&F("Negative size given.");const i=new Array(e);for(let s=0,r=e-1;s<=r;s++)i[s]=t(s);return i}function sr(e,t){let i=!0,s=0;for(;i&&s<k(t);)e(t[s])?s=s+1:i=!1;return i}function ir(e,t,i){let s=i;const r=t.length;for(let n=1,o=r;n<=o;n++)s=e(t[r-n],s);return s}function oo(e,t,i,s){uo(i,s);let r=t;for(let n=0,o=i.length-1;n<=o;n++)r=e(r,i[n],s[n]);return r}function bt(e,t){const i=[];for(let s=0,r=t.length-1;s<=r;s++)e(t[s])&&i.push(t[s]);return i}function an(e,t){let i=!1,s=0;for(;!i&&s<k(t);)e(t[s])?i=!0:s=s+1;return i}function p5(e,t){const i=new Array(e);for(let s=0,r=e-1;s<=r;s++)i[s]=t;return i}function lo(e){return Array.prototype.concat.apply([],n5(e))}function Je(e,t){const i=[];for(let s=0,r=t.length-1;s<=r;s++){const n=e(t[s]);n==null||i.push(n.$0)}return i}function d5(e,t,i,s,r){pn(e,t,r),pn(i,s,r);for(let n=0,o=r-1;n<=o;n++)i[s+n]=e[t+n]}function uo(e,t){e.length!==t.length&&F("The arrays have different lengths.")}function co(e,t){let i,s,r;if(e.$==0)return t;if(t.$==0)return e;{const n=L(V,{$:1});for(i=n,s=e,r=!0;r;)if(i.$0=s.$0,s=s.$1,s.$==0)r=!1;else{const o=L(V,{$:1});i=(i.$1=o,o)}return i.$1=t,n}}function vr(e,t){let i=!1,s=t;for(;!i&&s.$==1;)i=e(s.$0),s=s.$1;return i}function ao(e,t){let i,s,r,n;if(t.$==0)return t;for(i=V.Empty,s=i,r=t,n=!0;n;){if(e(r.$0)){if(i.$==0)i=L(V,{$:1}),s=i;else{const l=L(V,{$:1});s=(s.$1=l,l)}const o=r.$0;s.$=1,s.$0=o}r=r.$1,r.$==0&&(n=!1)}return i.$!=0&&(s.$1=V.Empty),i}function ho(e,t,i,s){return oo(e,t,Me(i),Me(s))}function Is(e){return e.$==1?e.$0:bs()}function fo(e,t){let i=t;for(;i.$==1;)e(Is(i)),i=or(i)}function hn(e){let t=e,i=0;for(;t.$==1;)t=or(t),i=i+1;return i}function he(e,t){let i,s,r;if(t.$==0)return t;{const n=L(V,{$:1});for(i=n,s=t,r=!0;r;)if(i.$0=e(s.$0),s=s.$1,s.$==0)r=!1;else{const o=L(V,{$:1});i=(i.$1=o,o)}return i.$1=V.Empty,n}}function Pr(e,t){let i,s,r,n;if(t.$==0)return t;{const o=L(V,{$:1});for(i=o,s=t,r=0,n=!0;n;)if(i.$0=e(r,s.$0),s=s.$1,s.$==0)n=!1;else{const l=L(V,{$:1});i=(i.$1=l,l),r=r+1}return i.$1=V.Empty,o}}function s5(e){let t=V.Empty;for(let i=k(e)-1,s=0;i>=s;i--)t=V.Cons(C(e,i),t);return t}function V5(e){if(e instanceof V)return e;if(e instanceof Array)return s5(e);{const t=U(e);try{let i,s=t.MoveNext();if(s){const r=L(V,{$:1});for(i=r;s;)if(i.$0=t.Current,t.MoveNext()){const n=L(V,{$:1});i=(i.$1=n,n)}else s=!1;return i.$1=V.Empty,r}else return V.Empty}finally{typeof t=="object"&&c5(t)&&t.Dispose()}}}function Ut(e){let t=V.Empty,i=e;for(;i.$==1;)t=V.Cons(i.$0,t),i=i.$1;return t}function or(e){return e.$==1?e.$1:bs()}function po(e,t){let i=!1,s=t;for(;!i&&s.$==1;)i=E(e,s.$0),s=s.$1;return i}function bs(){return F("The input list was empty.")}const ct=class ct{static Cons(t,i){return L(ct,{$:1,$0:t,$1:i})}GetSlice(t,i){try{if(t!=null&&t.$==1)if(i!=null&&i.$==1){const s=t.$0,r=i.$0;return r<0?ct.Empty:V5(dn(r-s+1,Ar(s,this)))}else return Ar(t.$0,this);else if(i!=null&&i.$==1){const s=i.$0;return s<0?ct.Empty:V5(dn(s+1,this))}else return this}catch{return ct.Empty}}get_Item(t){return Io(t,this)}get Length(){return hn(this)}GetEnumerator(){return new x5(this,null,t=>{const i=t.s;return i.$==0?!1:(t.c=i.$0,t.s=i.$1,!0)},void 0)}};a(ct,"Empty",L(ct,{$:0}));let V=ct;function z(e,t){return{GetEnumerator:()=>{const i=U(e),s=[!0];return new x5(i,null,r=>{if(r.s.MoveNext())return r.c=r.s.Current,!0;{const n=r.s;return E(n,null)||n.Dispose(),r.s=null,s[0]&&(s[0]=!1,r.s=U(t),r.s.MoveNext()?(r.c=r.s.Current,!0):(r.s.Dispose(),r.s=null,!1))}},r=>{const n=r.s;E(n,null)||n.Dispose()})}}}function Tt(e,t){return $o(h5(e,t))}function Es(e,t,i){const s=U(t);try{const r=U(i);try{let n=0,o=!0;for(;o&&n===0;)s.MoveNext()?n=r.MoveNext()?e(s.Current,r.Current):1:r.MoveNext()?n=-1:o=!1;return n}finally{typeof r=="object"&&c5(r)&&r.Dispose()}}finally{typeof s=="object"&&c5(s)&&s.Dispose()}}function $o(e){return{GetEnumerator:()=>{const t=U(e);function i(s){for(;;){const r=s.s;if(E(r,null))if(t.MoveNext())s.s=U(t.Current),s=s;else return t.Dispose(),!1;else{if(r.MoveNext())return s.c=r.Current,!0;s.Dispose(),s.s=null,s=s}}}return new x5(null,null,i,s=>{const r=s.s;E(r,null)||r.Dispose(),E(t,null)||t.Dispose()})}}}function v5(e){return{GetEnumerator:()=>U(e())}}function wo(e){return As(t=>t,e)}function As(e,t){return{GetEnumerator:()=>{const i=U(t),s=new Q5("New_3");return new x5(null,null,r=>{let n,o;if(i.MoveNext()){for(n=i.Current,o=s.SAdd(e(n));!o&&i.MoveNext();)n=i.Current,o=s.SAdd(e(n));return o&&(r.c=n,!0)}else return!1},()=>{i.Dispose()})}}}function lr(e,t){const i=U(t);try{let s=!1;for(;!s&&i.MoveNext();)s=e(i.Current);return s}finally{typeof i=="object"&&c5(i)&&i.Dispose()}}function mo(e,t,i){const s=U(t);try{const r=U(i);try{let n=!1;for(;!n&&s.MoveNext()&&r.MoveNext();)n=e(s.Current,r.Current);return n}finally{typeof r=="object"&&c5(r)&&r.Dispose()}}finally{typeof s=="object"&&c5(s)&&s.Dispose()}}function go(e,t){return{GetEnumerator:()=>{const i=U(t);return new x5(null,null,s=>{let r=i.MoveNext(),n,o=!1;for(;r;)n=i.Current,e(n)?(s.c=n,o=!0,r=!1):i.MoveNext()||(r=!1);return o},()=>{i.Dispose()})}}}function No(e,t){const i=bo(e,t);return i==null?F("KeyNotFoundException"):i.$0}function _o(e,t){const i=Eo(e,t);return i==null?F("KeyNotFoundException"):i.$0}function Bt(e,t,i){let s=t;const r=U(i);try{for(;r.MoveNext();)s=e(s,r.Current);return s}finally{typeof r=="object"&&c5(r)&&r.Dispose()}}function Ue(e,t){return!lr(i=>!e(i),t)}function vs(e,t,i){return!mo((s,r)=>!e(s,r),t,i)}function fn(e){const t=U(e);try{return t.MoveNext()?t.Current:De()}finally{typeof t=="object"&&c5(t)&&t.Dispose()}}function So(e,t){return dn(e,Ps(t))}function Ps(e){return{GetEnumerator:()=>new x5(0,null,t=>(t.c=e(t.s),t.s=t.s+1,!0),void 0)}}function yo(e,t){const i=U(t);try{for(;i.MoveNext();)e(i.Current)}finally{typeof i=="object"&&c5(i)&&i.Dispose()}}function h5(e,t){return{GetEnumerator:()=>{const i=U(t);return new x5(null,null,s=>i.MoveNext()&&(s.c=e(i.Current),!0),()=>{i.Dispose()})}}}function xr(e,t){return To(e,Ps(i=>i),t)}function To(e,t,i){return{GetEnumerator:()=>{const s=U(t),r=U(i);return new x5(null,null,n=>s.MoveNext()&&r.MoveNext()&&(n.c=e(s.Current,r.Current),!0),()=>{s.Dispose(),r.Dispose()})}}}function Co(e){const t=U(e);try{t.MoveNext()||Po();let i=t.Current;for(;t.MoveNext();){const s=t.Current;R5(s,i)===1&&(i=s)}return i}finally{typeof t=="object"&&c5(t)&&t.Dispose()}}function Io(e,t){e<0&&F("negative index requested");let i=-1;const s=U(t);try{for(;i<e;)s.MoveNext()||De(),i=i+1;return s.Current}finally{typeof s=="object"&&c5(s)&&s.Dispose()}}function dn(e,t){return e<0&&eo(),{GetEnumerator:()=>{const i=[U(t)];return new x5(0,null,s=>{if(s.s=s.s+1,s.s>e)return!1;{const r=i[0];return E(r,null)?De():r.MoveNext()?(s.c=r.Current,s.s===e&&(r.Dispose(),i[0]=null),!0):(r.Dispose(),i[0]=null,De())}},()=>{const s=i[0];E(s,null)||s.Dispose()})}}}function bo(e,t){const i=U(t);try{let s=null;for(;s==null&&i.MoveNext();){const r=i.Current;e(r)&&(s=N(r))}return s}finally{typeof i=="object"&&c5(i)&&i.Dispose()}}function Eo(e,t){const i=U(t);try{let s=!0,r=0;for(;s&&i.MoveNext();)e(i.Current)?s=!1:r=r+1;return s?null:N(r)}finally{typeof i=="object"&&c5(i)&&i.Dispose()}}function Ao(e,t){return{GetEnumerator:()=>new x5(t,null,i=>{const s=e(i.s);return s==null?!1:(i.c=s.$0[0],i.s=s.$0[1],!0)},void 0)}}function vo(e){return v5(()=>n5(e).slice().reverse())}function Po(){return F("The input sequence was empty.")}let xs=I(e=>{var t;return R(Error),t=class extends Error{static New(s){return new this("New",s)}static New_1(){return new this("New_1")}static New_2(s,r){return new this("New_2",s,r)}constructor(s,r,n){s=="New_1"&&(s="New",r="Operation is not valid due to the current state of the object.");let o;if(s=="New"&&(o=r,s="New_2",r=o,n=null),s=="New_2"){const l=r,u=n;super(l),this.inner=u}}},xs=e(t),t});const xo=xs;function wt(e,t){const i=1+t-e;return i<=0?[]:So(i,s=>s+e)}function ot(e){return[e.K,e.V]}function r5(e){const t=Fo(e);return t>=2147483648?t-4294967296:t}function Fo(e){return(e<0?Math.ceil(e):Math.floor(e))>>>0}function We(e){throw new xo("New",e)}function F(e){throw new Error(e)}function st(e){const t=typeof e;return t=="function"?0:t=="boolean"?e?1:0:t=="number"?e:t=="string"?Fs(e):t=="object"?e==null?0:e instanceof Array?ko(e):Lo(e):0}function Lo(e){if("GetHashCode"in e)return e.GetHashCode();{const i=[0];for(var t in e)(s=>(i[0]=He(He(i[0],Fs(s)),st(e[s])),!1))(t);return i[0]}}function Fs(e){let t;if(e===null)return 0;t=5381;for(let i=0,s=e.length-1;i<=s;i++)t=He(t,e[i].charCodeAt());return t}function ko(e){let t=-34948909;for(let i=0,s=k(e)-1;i<=s;i++)t=He(t,st(C(e,i)));return t}function He(e,t){return(e<<5)+e+t}function E(e,t){if(e===t)return!0;{const r=typeof e;if(r=="object"){if(e==null||t===null||t===void 0||!E(typeof t,"object"))return!1;if("Equals"in e)return e.Equals(t);if("Equals"in t)return!1;if(e instanceof Array&&t instanceof Array)return Fr(e,t);if(e instanceof Date&&t instanceof Date)return Vo(e,t);{const n=[!0];for(var i in e)if((o=>(n[0]=!e.hasOwnProperty(o)||t.hasOwnProperty(o)&&E(e[o],t[o]),!n[0]))(i))break;if(n[0]){for(var s in t)if((o=>(n[0]=!t.hasOwnProperty(o)||e.hasOwnProperty(o),!n[0]))(s))break}return n[0]}}else return r=="function"&&("$Func"in e?e.$Func===t.$Func&&e.$Target===t.$Target:"$Invokes"in e&&"$Invokes"in t&&Fr(e.$Invokes,t.$Invokes))}}function Vo(e,t){return e.getTime()===t.getTime()}function Fr(e,t){let i,s;if(k(e)===k(t)){for(i=!0,s=0;i&&s<k(e);)E(C(e,s),C(t,s))||(i=!1),s=s+1;return i}else return!1}function R5(e,t){if(e===t)return 0;{const r=typeof e;switch(r=="function"?1:r=="boolean"||r=="number"||r=="string"?2:r=="object"?3:0){case 0:return typeof t>"u"?0:-1;case 1:return F("Cannot compare function values.");case 2:return e<t?-1:1;case 3:if(e===null)return-1;if(t===null)return 1;if("CompareTo"in e)return e.CompareTo(t);if("CompareTo0"in e)return e.CompareTo0(t);if(e instanceof Array&&t instanceof Array)return Ro(e,t);if(e instanceof Date&&t instanceof Date)return Go(e,t);{const n=[0];for(var i in e)if((o=>e.hasOwnProperty(o)?t.hasOwnProperty(o)?(n[0]=R5(e[o],t[o]),n[0]!==0):(n[0]=1,!0):!1)(i))break;if(n[0]===0){for(var s in t)if((o=>t.hasOwnProperty(o)?!e.hasOwnProperty(o)&&(n[0]=-1,!0):!1)(s))break}return n[0]}}}}function Go(e,t){return R5(e.getTime(),t.getTime())}function Ro(e,t){let i,s;if(k(e)<k(t))return-1;if(k(e)>k(t))return 1;for(i=0,s=0;i===0&&s<k(e);)i=R5(C(e,s),C(t,s)),s=s+1;return i}I(e=>{var t;return R(Error),t=class extends Error{static New(){return new this("New")}static New_1(s){return new this("New_1",s)}constructor(s,r){if(s=="New"&&(s="New_1",r="Index was outside the bounds of the array."),s=="New_1"){const n=r;super(n)}}},e(t),t});function k(e){return e.dims===2?e.length*e.length:e.length}function Do(e,t,i){return pn(e,t,i),e.slice(t,t+i)}function C(e,t){return Ls(e,t),e[t]}function E5(e,t,i){Ls(e,t),e[t]=i}function pn(e,t,i){(i<0||t<0||e.length<t+i)&&F("Index was outside the bounds of the array.")}function Ls(e,t){(t<0||t>=e.length)&&F("Index was outside the bounds of the array.")}I(e=>{var t;return R(Error),t=class extends Error{static New(s,r){return new this("New",s,r)}static New_1(s){return new this("New_1",s)}static New_2(){return new this("New_2")}constructor(s,r,n){let o;if(s=="New_1"&&(o=r,s="New",r=o,n="Value cannot be null."),s=="New_2"&&super("Value cannot be null."),s=="New"){const l=r,u=n;super(u+`
Parameter name: `+l)}}},e(t),t});I(e=>{var t;return R(Error),t=class extends Error{static New(s,r){return new this("New",s,r)}static New_1(s){return new this("New_1",s)}static New_2(){return new this("New_2")}constructor(s,r,n){let o;if(s=="New_1"&&(o=r,s="New",r=o,n="Specified argument was out of the range of valid values."),s=="New_2"&&super("Specified argument was out of the range of valid values."),s=="New"){const l=r,u=n;super(u+`
Parameter name: `+l)}}},e(t),t});function _e(e,t,i){if(k(e)+i<k(t))throw new gs("New_2","array");d5(e,0,t,i,k(e))}function Mo(e){return e instanceof Array?Vs(e):E(typeof e,"string")?ks(e):"GetEnumerator0"in e?e.GetEnumerator0():e.GetEnumerator()}function U(e){return e instanceof Array?Vs(e):E(typeof e,"string")?ks(e):e.GetEnumerator()}function ks(e){return new x5(0,null,t=>{const i=t.s;return i<e.length&&(t.c=e[i],t.s=i+1,!0)},void 0)}function Vs(e){return new x5(0,null,t=>{const i=t.s;return i<k(e)&&(t.c=C(e,i),t.s=i+1,!0)},void 0)}function ur(e,t){return{k:e,ct:t}}function Gs(e){return{$:2,$0:e}}function cr(e){return{$:1,$0:e}}function Ze(e){return{$:0,$0:e}}I(e=>{var t;return R(Error),t=class extends Error{static New(){return new this("New")}static New_1(s){return new this("New_1",s)}constructor(s,r){if(s=="New"&&(s="New_1",r="The operation has timed out."),s=="New_1"){const n=r;super(n)}}},e(t),t});let Rs=I(e=>{var i;return R(Error),i=class extends Error{constructor(n,o,l){var r=(...t)=>{super(...t);a(this,"innerExceptions")};let u;n=="New_3"&&(u=o,n="New_4",o="One or more errors occurred.",l=u);let c;n=="New_2"&&(c=o,n="New_4",o="One or more errors occurred.",l=n5(c));let d,p;n=="New_1"&&(d=o,p=l,n="New_4",o=d,l=n5(p));let h,f;if(n=="New"&&(h=o,f=l,n="New_4",o=h,l=[f]),n=="New_4"){const $=o,m=l;r($),this.innerExceptions=m}}static New(n,o){return new this("New",n,o)}static New_1(n,o){return new this("New_1",n,o)}static New_2(n){return new this("New_2",n)}static New_3(n){return new this("New_3",n)}static New_4(n,o){return new this("New_4",n,o)}},Rs=e(i),i});const k5=Rs;let Ds=I(e=>{var t;return R(Error),t=class extends Error{static New(){return new this("New")}static New_1(s){return new this("New_1",s)}constructor(s,r){if(s=="New"&&(s="New_1",r="A task was canceled."),s=="New_1"){const n=r;super(n)}}},Ds=e(t),t});const Lr=Ds;let Ms=I(e=>{var i;return R(Error),i=class extends Error{constructor(n,o,l,u){var r=(...t)=>{super(...t);a(this,"ct")};let c;if(n=="New"&&(c=o,n="New_1",o="The operation was canceled.",l=null,u=c),n=="New_1"){const d=o,p=l,h=u;r(d),this.inner=p,this.ct=h}}static New(n){return new this("New",n)}static New_1(n,o,l){return new this("New_1",n,o,l)}},Ms=e(i),i});const ar=Ms;let ie=I(e=>{var i;return i=class extends Y{constructor(n,o,l,u,c){var r=(...t)=>{super(...t);a(this,"action");a(this,"token");a(this,"status");a(this,"continuations");a(this,"exc")};let d;n=="New_3"&&(d=o,n="New_4",o=d,l=_5(),u=0,c=null);let p,h;n=="New_2"&&(p=o,h=l,n="New_4",o=p,l=h,u=0,c=null);let f,$;n=="New_1"&&(f=o,$=l,n="New_4",o=()=>f($),l=_5(),u=0,c=null);let m,b,g;if(n=="New"&&(m=o,b=l,g=u,n="New_4",o=()=>m(b),l=g,u=0,c=null),n=="New_4"){const y=o,w=l,_=u,S=c;r(),this.action=y,this.token=w,this.status=_,this.continuations=[],this.exc=S}}static Yield(){return new i("New_3",()=>null)}static WhenAll(n){const o=k(n),l=[0],u=new Array(o),c=new oe;for(let d=0,p=o-1;d<=p;d++)(h=>{C(n,d).ContinueWith_1(f=>f.IsFaulted?void c.TrySetException_1(f.Exception):f.IsCanceled?void c.TrySetCanceled_1():(l[0]++,u[h]=f.Result,l[0]===o?c.SetResult(u):null),_5())})(d);return c.Task}static WhenAll_1(n){const o=k(n),l=[0],u=new oe;for(let c=0,d=o-1;c<=d;c++)C(n,c).ContinueWith_1(p=>p.IsFaulted?void u.TrySetException_1(p.Exception):p.IsCanceled?void u.TrySetCanceled_1():(l[0]++,l[0]===o?void u.TrySetResult():null),_5());return u.Task}static WhenAny(n){const o=new oe;for(let l=0,u=n.length-1;l<=u;l++)C(n,l).ContinueWith(c=>{o.TrySetResult(c)},_5());return o.Task}static WhenAny_1(n){const o=new oe;for(let l=0,u=n.length-1;l<=u;l++)C(n,l).ContinueWith_1(c=>{o.TrySetResult(c)},_5());return o.Task}static Delay(n,o){return Gr(Vr(n),N(o))}static Delay_1(n){return Gr(Vr(n),null)}static Run(n,o){const l=n();return o.c?ie.FromCanceled(o):(l.Status===0&&l.Start(),l)}static Run_1(n,o){const l=new Mt("New_4",n,o,0,null,void 0);return l.Start(),l}static Run_2(n,o){const l=n();return o.c?ie.FromCanceled_1(o):(l.Status===0&&l.Start(),l)}static Run_3(n,o){const l=new i("New_4",n,o,0,null);return l.Start(),l}static FromResult(n){return new Mt("New_4",null,_5(),5,null,n)}static FromException(n){return new Mt("New_4",null,_5(),7,new k5("New_3",[n]),null)}static FromException_1(n){return new i("New_4",null,_5(),7,new k5("New_3",[n]))}static FromCanceled(n){return new Mt("New_4",null,n,6,new k5("New_3",[new Lr("New")]),null)}static FromCanceled_1(n){return new i("New_4",null,n,6,new k5("New_3",[new Lr("New")]))}Start(){this.status===0?(this.status=2,D5().Fork(()=>{this.status=3;try{this.Execute(),this.status=5}catch(n){let o;(n instanceof ar&&E(n.ct,this.token)?(o=n,!0):(o=n,!1))?(console.log("Task cancellation caught:",o),this.exc=new k5("New_3",[o]),this.status=6):(console.log("Task error caught:",o),this.exc=new k5("New_3",[o]),this.status=7)}this.RunContinuations()})):We("Task not in initial state")}StartContinuation(){this.status===1&&(this.status=2,D5().Fork(()=>{if(this.status===2){this.status=3;try{this.Execute(),this.status=5}catch(n){this.exc=new k5("New_3",[n]),this.status=7}this.RunContinuations()}}))}ContinueWith(n,o){const l=new Mt("New_4",()=>n(this),o,1,null,void 0);return this.IsCompleted?l.StartContinuation():this.continuations.push(l),l}ContinueWith_1(n,o){const l=new ie("New_4",()=>n(this),o,1,null);return this.IsCompleted?l.StartContinuation():this.continuations.push(l),l}RunContinuations(){const n=this.continuations;for(let o=0,l=n.length-1;o<=l;o++)C(n,o).StartContinuation()}OnCompleted(n){this.IsCompleted?n():(this.Status===0&&this.Start(),this.ContinueWith_1(()=>n(),_5()))}get Status(){return this.status}get IsFaulted(){return this.status===7}get IsCompleted(){return this.status===5||this.status===7||this.status===6}get IsCanceled(){return this.status===6}get Exception(){return this.exc}Execute(){this.action()}static New(n,o,l){return new this("New",n,o,l)}static New_1(n,o){return new this("New_1",n,o)}static New_2(n,o){return new this("New_2",n,o)}static New_3(n){return new this("New_3",n)}static New_4(n,o,l,u){return new this("New_4",n,o,l,u)}},ie=e(i),i});const kr=ie;let Os=I(e=>{var i;return R(kr),i=class extends kr{constructor(n,o,l,u,c,d){var r=(...t)=>{super(...t);a(this,"func");a(this,"result")};let p;n=="New_3"&&(p=o,n="New_4",o=p,l=_5(),u=0,c=null,d=void 0);let h,f;n=="New_2"&&(h=o,f=l,n="New_4",o=h,l=f,u=0,c=null,d=void 0);let $,m;n=="New_1"&&($=o,m=l,n="New_4",o=()=>$(m),l=_5(),u=0,c=null,d=void 0);let b,g,y;if(n=="New"&&(b=o,g=l,y=u,n="New_4",o=()=>b(g),l=y,u=0,c=null,d=void 0),n=="New_4"){const w=o,_=l,S=u,x=c,W=d;r("New_4",null,_,S,x),this.func=w,this.result=W}}get Result(){switch(this.Status){case 5:return this.result;case 7:case 6:throw this.Exception;default:return We("Task has not been completed, has no Result")}}Execute(){this.result=this.func()}static New(n,o,l){return new this("New",n,o,l)}static New_1(n,o){return new this("New_1",n,o)}static New_2(n,o){return new this("New_2",n,o)}static New_3(n){return new this("New_3",n)}static New_4(n,o,l,u,c){return new this("New_4",n,o,l,u,c)}},Os=e(i),i});const Mt=Os;let Us=I(e=>{var t;return t=class extends Y{constructor(){super();a(this,"task");this.task=new Mt("New_4",null,_5(),1,null,void 0)}TrySetResult(r){return!this.task.IsCompleted&&(this.task.status=5,this.task.result=r,this.task.RunContinuations(),!0)}TrySetException(r){return this.TrySetException_1(new k5("New_2",r))}TrySetException_1(r){return!this.task.IsCompleted&&(this.task.status=7,this.task.exc=new k5("New_3",[r]),this.task.RunContinuations(),!0)}TrySetCanceled(r){return!this.task.IsCompleted&&(this.task.status=6,this.task.token=r,this.task.RunContinuations(),!0)}TrySetCanceled_1(){return!this.task.IsCompleted&&(this.task.status=6,this.task.RunContinuations(),!0)}SetResult(r){this.task.IsCompleted&&F("Task already completed."),this.task.status=5,this.task.result=r,this.task.RunContinuations()}SetException(r){this.SetException_1(new k5("New_2",r))}SetException_1(r){this.task.IsCompleted&&F("Task already completed."),this.task.status=7,this.task.exc=new k5("New_3",[r]),this.task.RunContinuations()}SetCanceled(){this.task.IsCompleted&&F("Task already completed."),this.task.status=6,this.task.RunContinuations()}get Task(){return this.task}},Us=e(t),t});const oe=Us;function Oo(e,t){return{c:e,r:t}}let Ws=I(e=>{var t;return t=class extends Y{constructor(){super();a(this,"idle");a(this,"robin");this.idle=!0,this.robin=[]}tick(){const r=Date.now();let n=!0;for(;n;)this.robin.length===0?(this.idle=!0,n=!1):(this.robin.shift()(),Date.now()-r>40&&(setTimeout(()=>{this.tick()},0),n=!1))}Fork(r){this.robin.push(r),this.idle&&(this.idle=!1,setTimeout(()=>{this.tick()},0))}},Ws=e(t),t});const Uo=Ws;let $n=I(e=>{var t;return t=class extends Y{constructor(){super();a(this,"init");a(this,"c");a(this,"pending");a(this,"r");this.c=!1,this.pending=null,this.r=[],this.init=1}static CreateLinkedTokenSource(r,n){return $n.CreateLinkedTokenSource_1([r,n])}static CreateLinkedTokenSource_1(r){const n=new t;return y5(o=>{Ks(o,()=>{n.Cancel_1()})},r),n}CancelAfter(r){if(!this.c){const n=this.pending;n==null||clearTimeout(n.$0),this.pending=N(setTimeout(()=>{this.Cancel_1()},r))}}Cancel(r){r?this.c||(this.c=!0,y5(n=>{n()},this.r)):this.Cancel_1()}Cancel_1(){if(!this.c){this.c=!0;const r=Je(n=>{try{return n(),null}catch(o){return N(o)}},this.r);if(k(r)>0)throw new k5("New_3",r)}}},$n=e(t),t});const Wo=$n;let Hs=I(e=>{var t;return t=class{},Hs=e(t),a(t,"GetCT"),a(t,"Zero"),a(t,"defCTS"),a(t,"scheduler"),a(t,"noneCT"),t.noneCT=Oo(!1,[]),t.scheduler=new Uo,t.defCTS=[new Wo],t.Zero=Xt(),t.GetCT=s=>{s.k(Ze(s.ct))},t});const tn=Hs;function hr(e){return{$:0,$0:e}}function Pt(e){return{$:1,$0:e}}function Vr(e){return t=>{let i,s;i=void 0,s=void 0,i=setTimeout(()=>{s.Dispose(),D5().Fork(()=>{t.k(Ze(null))})},e),s=Ks(t.ct,()=>{clearTimeout(i),D5().Fork(()=>{Bs(t)})})}}function Gr(e,t){const i=new oe;return D5().Fork(()=>{qs(e,s=>{i.SetResult(s)},s=>{i.SetException_1(s)},()=>{i.SetCanceled()},t)}),i.Task}function Ho(e){return fr((t,i,s)=>{e.Status===0&&e.Start(),e.ContinueWith_1(r=>r.IsCanceled?s(new ar("New",_5())):r.IsFaulted?i(r.Exception):t(r.Result),_5())})}function qo(e,t){const i=js()[0],s=t==null?i:t.$0;D5().Fork(()=>{s.c||e(ur(r=>{r.$==1&&Bo(r.$0)},s))})}function Bo(e){console.log("WebSharper: Uncaught asynchronous exception",e)}function qs(e,t,i,s,r){const n=js()[0],o=r==null?n:r.$0;o.c||e(ur(l=>{l.$==1?i(l.$0):l.$==2?s(l.$0):t(l.$0)},o))}function fr(e){return t=>{const i=[!1],s=r=>{i[0]?F("A continuation provided by Async.FromContinuations was invoked multiple times"):(i[0]=!0,D5().Fork(r))};e(r=>{s(()=>{t.k(Ze(r))})},r=>{s(()=>{t.k(cr(r))})},r=>{s(()=>{t.k(Gs(r))})})}}function nt(e){return t=>{try{e()(t)}catch(i){t.k(cr(i))}}}function jo(e,t){return ft(e,()=>t)}function ft(e,t){return Ko(i=>{e(ur(s=>{if(s.$==0){const r=s.$0;D5().Fork(()=>{try{t(r)(i)}catch(n){i.k(cr(n))}})}else D5().Fork(()=>{i.k(s)})},i.ct))})}function Et(){return tn.Zero}function Xt(e){return t=>{t.k(Ze(e))}}function Ko(e){return t=>{t.ct.c?Bs(t):e(t)}}function Bs(e){e.k(Gs(new ar("New",e.ct)))}function js(){return tn.defCTS}function D5(){return tn.scheduler}function Ks(e,t){if(e===_5())return{Dispose(){return null}};{const i=e.r.push(t)-1;return{Dispose(){return E5(e.r,i,()=>{})}}}}function _5(){return tn.noneCT}function J5(e,t){return{$:3,$0:e,$1:t}}function fe(e,t){return{$:2,$0:e,$1:t}}function mt(e){return{$:0,$0:e}}function Xo(e){return console.log("WebSharper UI: Uncaught asynchronous exception",e)}function zo(e,t){qs(e,t,i=>{Xo(i)},()=>{},null)}function jt(e){let t;const i=e.s;if(!(i==null||(!(i!=null&&i.$==2||i!=null&&i.$==3)||(t=i.$1,!1)))){e.s=null;for(let s=0,r=k(t)-1;s<=r;s++){const n=C(t,s);typeof n=="object"?(o=>{jt(o)})(n):n()}}}function Yo(e){e.splice(0,k(e))}function Qo(e,t){const i={s:J5([],[])};return S5(t,s=>{zo(e(s),r=>{dr(i,t,r)})},i),i}function Jo(e,t,i,s){const r=t.s,n=i.s,o=s.s;if(r!=null&&r.$==0)return n!=null&&n.$==0?o!=null&&o.$==0?{s:mt(e(r.$0,n.$0,o.$0))}:s6(e,r.$0,n.$0,s):o!=null&&o.$==0?r6(e,r.$0,o.$0,i):n6(e,r.$0,i,s);if(n!=null&&n.$==0)return o!=null&&o.$==0?e6(e,n.$0,o.$0,t):t6(e,n.$0,t,s);if(o!=null&&o.$==0)return Zo(e,o.$0,t,i);{const l={s:J5([],[])},u=()=>{const c=l.s;if(!(c!=null&&c.$==0||c!=null&&c.$==2)){const d=It(t),p=It(i),h=It(s);d!=null&&d.$==1&&p!=null&&p.$==1&&h!=null&&h.$==1&&(d.$0[1]&&p.$0[1]&&h.$0[1]?Ft(l,e(d.$0[0],p.$0[0],h.$0[0])):xt(l,e(d.$0[0],p.$0[0],h.$0[0])))}};return S5(t,u,l),S5(i,u,l),S5(s,u,l),l}}function Zo(e,t,i,s){return en((r,n)=>e(r,n,t),i,s)}function t6(e,t,i,s){return en((r,n)=>e(r,t,n),i,s)}function e6(e,t,i,s){return zt(r=>e(r,t,i),s)}function n6(e,t,i,s){return en((r,n)=>e(t,r,n),i,s)}function r6(e,t,i,s){return zt(r=>e(t,r,i),s)}function s6(e,t,i,s){return zt(r=>e(t,i,r),s)}function i6(e,t){const i=e.s,s=t.s;if(i!=null&&i.$==0)return s!=null&&s.$==0?{s:mt(null)}:t;if(s!=null&&s.$==0)return e;{const r={s:J5([],[])},n=()=>{const o=r.s;if(!(o!=null&&o.$==0||o!=null&&o.$==2)){const l=It(e),u=It(t);l!=null&&l.$==1&&u!=null&&u.$==1&&(l.$0[1]&&u.$0[1]?Ft(r,null):xt(r,null))}};return S5(e,n,r),S5(t,n,r),r}}function en(e,t,i){const s=t.s,r=i.s;if(s!=null&&s.$==0)return r!=null&&r.$==0?{s:mt(e(s.$0,r.$0))}:l6(e,s.$0,i);if(r!=null&&r.$==0)return o6(e,r.$0,t);{const n={s:J5([],[])},o=()=>{const l=n.s;if(!(l!=null&&l.$==0||l!=null&&l.$==2)){const u=It(t),c=It(i);u!=null&&u.$==1&&c!=null&&c.$==1&&(u.$0[1]&&c.$0[1]?Ft(n,e(u.$0[0],c.$0[0])):xt(n,e(u.$0[0],c.$0[0])))}};return S5(t,o,n),S5(i,o,n),n}}function o6(e,t,i){return zt(s=>e(s,t),i)}function l6(e,t,i){return zt(s=>e(t,s),i)}function u6(e){const t=e.s;if(t==null)return e;if(t!=null&&t.$==2){const i={s:fe(t.$0,[])};return zs(e,i),i}else if(t!=null&&t.$==3){const i={s:J5([],[])};return S5(e,s=>{dr(i,e,s)},i),i}else return e}function zt(e,t){const i=t.s;if(i!=null&&i.$==0)return{s:mt(e(i.$0))};{const s={s:J5([],[])};return S5(t,r=>{dr(s,t,e(r))},s),s}}function c6(e){const t=n5(e);if(t.length==0)return{s:mt([])};{const i={s:J5([],[])},s=[k(t)-1],r=()=>{if(s[0]===0){const n=G5(o=>{const l=o.s;return l!=null&&l.$==0||l!=null&&l.$==2?l.$0:F("value not found by View.Sequence")},t);sr(o=>{const l=o.s;return l!=null&&l.$==0},t)?Ft(i,n):xt(i,n)}else s[0]=s[0]-1};return y5(n=>{S5(n,r,i)},t),i}}function a6(e){const t={s:J5([],[])};return S5(e,i=>{const s=i();S5(s,r=>{let n;const o=s.s;if(o!=null&&o.$==0){const l=e.s;n=l!=null&&l.$==0}else n=!1;n?Ft(t,r):xt(t,r)},t),zs(e,s)},t),t}function h6(e){const t={s:J5([],[])};return S5(e,i=>{const s=i();S5(s,r=>{let n;const o=s.s;if(o!=null&&o.$==0){const l=e.s;n=l!=null&&l.$==0}else n=!1;n?Ft(t,r):xt(t,r)},t)},t),t}function It(e){const t=e.s;return t!=null&&t.$==0?N([t.$0,!0]):t!=null&&t.$==2?N([t.$0,!1]):null}function Xs(e,t){const i=e.s;i==null?t():(i!=null&&i.$==2||i!=null&&i.$==3)&&i.$1.push(t)}function zs(e,t){const i=e.s;i==null?jt(t):(i!=null&&i.$==2||i!=null&&i.$==3)&&qe(i.$1,t)}function Ys(e,t,i){const s=e.s;s==null?i():s!=null&&s.$==2?(s.$1.push(i),t(s.$0)):s!=null&&s.$==3?(s.$0.push(t),s.$1.push(i)):t(s.$0)}function S5(e,t,i){const s=e.s;s==null?jt(i):s!=null&&s.$==2?(qe(s.$1,i),t(s.$0)):s!=null&&s.$==3?(s.$0.push(t),qe(s.$1,i)):t(s.$0)}function qe(e,t){if(e.push(t),e.length%20===0){const i=e.slice(0);Yo(e);for(let s=0,r=k(i)-1;s<=r;s++){const n=C(i,s);typeof n=="object"?(o=>{o.s&&e.push(o)})(n):(o=>{e.push(o)})(n)}}}function dr(e,t,i){const s=t.s;s!=null&&s.$==0?Ft(e,i):xt(e,i)}function xt(e,t){const i=e.s;if(i!=null&&i.$==3){e.s=fe(t,i.$1);const s=i.$0;for(let r=0,n=k(s)-1;r<=n;r++)C(s,r)(t)}}function Ft(e,t){const i=e.s;if(i!=null&&i.$==3){e.s=mt(t);const s=i.$0;for(let r=0,n=k(s)-1;r<=n;r++)C(s,r)(t)}}function Qs(e,t){for(let i=0,s=t.length-1;i<=s;i++)t[i]=e(t[i]);return t}function Se(e){if(e instanceof Array)return e;if(e instanceof V)return Me(e);if(e===null)return[];{const t=[],i=U(e);try{for(;i.MoveNext();)t.push(i.Current);return t}finally{typeof i=="object"&&c5(i)&&i.Dispose()}}}function Js(e,t,i,s){const r=k(s);function n(o){return l=>{switch(l<=0?0:l===1&&o>=0&&o<r?1:2){case 0:return t;case 1:return e(C(s,o));case 2:const u=l/2>>0;return i(n(o)(u),n(o+u)(l-u))}}}return n(0)(r)}function Yt(e,t,i){const s=k(i);function r(n){return o=>{switch(o<=0?0:o===1&&n>=0&&n<s?1:2){case 0:return e;case 1:return C(i,n);case 2:const l=o/2>>0;return t(r(n)(l),r(n+l)(o-l))}}}return r(0)(s)}function de(e,t){function i(){Ys(t(),e,()=>{D5().Fork(i)})}D5().Fork(i)}function X5(e){const t={s:mt(e)};return()=>t}function f6(e){return gt(()=>c6(h5(t=>t(),e)))}function d6(e,t){return p6(K(e,t))}function p6(e){return gt(()=>a6(e()))}function $6(e,t){return w6(K(e,t))}function w6(e){return gt(()=>h6(e()))}function m6(e,t){const i=()=>e;return pr(s=>s,(s,r)=>i()(r),t)}function pr(e,t,i){const s=[new N5("New_5")];return K(r=>{const n=s[0],o=new N5("New_5"),l=Qs(u=>{let c;const d=e(u);if(n.ContainsKey(d)){const p=n.Item(d);c=(l5.Set(p.r,u),p)}else c=g6(p=>t(d,p),u);return o.set_Item(d,c),c.e},n5(r));return s[0]=o,l},i)}function g6(e,t){const i=l5.Create_1(t),s=i.View;return{e:e(s),r:i,w:s}}function N6(e,t){return Zs(i=>i,e,t)}function Zs(e,t,i){const s=[new N5("New_5")];return K(r=>{const n=s[0],o=new N5("New_5"),l=Qs(u=>{const c=e(u),d=n.ContainsKey(c)?n.Item(c):t(u);return o.set_Item(c,d),d},n5(r));return s[0]=o,l},i)}function t3(e,t){const i=[!1];function s(){Ys(t(),r=>{i[0]||(i[0]=!0,e(r))},()=>{i[0]||s()})}s()}function _6(e,t){return gt(()=>Qo(e,t()))}function S6(e,t,i,s){return gt(()=>Jo(e,t(),i(),s()))}function j5(e,t){return gt(()=>i6(e(),t()))}function y6(e,t,i){return gt(()=>en(e,t(),i()))}function K(e,t){return gt(()=>zt(e,t()))}function gt(e){const t={c:null,o:e};return()=>{let i=t.c;if(i===null){i=t.o(),t.c=i;const s=i.s;return s!=null&&s.$==0?t.o=null:Xs(i,()=>{t.c=null}),i}else return i}}let e3=I(e=>{var t;return t=class{},e3=e(t),a(t,"counter"),t.counter=0,t});const n3=e3;function wn(){return r3(Be()+1),"uid"+String(Be())}function dt(){return r3(Be()+1),Be()}function Be(){return n3.counter}function r3(e){n3.counter=e}let s3=I(e=>{var t;return t=class extends Y{},s3=e(t),t});const pe=s3;function T6(e,t,i){return he(s=>{if(e(s)){const r=t(s);return r==null?s:r.$0}else return s},i)}function Rr(e,t,i){return he(s=>e(s)?t(s):s,i)}let i3=I(e=>{var t;return R(pe),t=class extends pe{constructor(r,n,o){super();a(this,"isConst");a(this,"current");a(this,"snap");a(this,"view");a(this,"id");this.isConst=r,this.current=o,this.snap=n,this.view=()=>this.snap,this.id=dt()}get Id(){return"uinref"+String(this.id)}get View(){return this.view}UpdateMaybe(r){const n=r(this.Get());n!=null&&n.$==1&&this.Set(n.$0)}Update(r){this.Set(r(this.Get()))}SetFinal(r){this.isConst?(n=>n("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(n=>{console.log(n)}):(jt(this.snap),this.isConst=!0,this.current=r,this.snap={s:mt(r)})}Set(r){this.isConst?(n=>n("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(n=>{console.log(n)}):(jt(this.snap),this.current=r,this.snap={s:fe(r,[])})}Get(){return this.current}},i3=e(t),t});const sn=i3;let ke=I(e=>{var t;return t=class extends Y{static MapLens(s,r,n){return pr(s,(o,l)=>{const u=wn(),c=d=>E(s(d),o);return r(new class extends pe{constructor(){super()}Get(){return No(c,n.Get())}Set(d){const p=()=>d;return n.Update(h=>Rr(c,p,h))}SetFinal(d){return this.Set(d)}Update(d){return n.Update(p=>Rr(c,d,p))}UpdateMaybe(d){return n.Update(p=>T6(c,d,p))}get View(){return l}get Id(){return u}})},n.View)}static Lens(s,r,n){const o=wn(),l=K(r,s.View);return new class extends pe{constructor(){super()}Get(){return r(s.Get())}Set(u){return s.Update(c=>n(c,u))}SetFinal(u){return this.Set(u)}Update(u){return s.Update(c=>n(c,u(r(c))))}UpdateMaybe(u){return s.UpdateMaybe(c=>{const d=u(r(c));return d==null?null:N(n(c,d.$0))})}get View(){return l}get Id(){return o}}}static Update(s,r){ke.Set(s,r(s.Get()))}static SetFinal(s,r){s.SetFinal(r)}static Set(s,r){s.Set(r)}static CreateWaiting(){return new sn(!1,{s:J5([],[])},null)}static Create(){return new sn(!1,{s:fe(null,[])},null)}static CreateLogged(s,r){globalThis.UINVars||(globalThis.UINVars=[]);const n=ke.Create_1(r);return globalThis.UINVars.push([s,n]),n}static Create_1(s){return new sn(!1,{s:fe(s,[])},s)}},ke=e(t),t});const l5=ke;function C6(){return Jt.Theme}function Dr(){return Jt.Code}function I6(e){return e.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&")}function Mr(e,t){return e.split(t)}function mn(e,t){return e.substring(0,t.length)==t}function o3(e,t,i){return e.substr(t,i)}function Or(e){return e==null||e==""}function M5(e,t){return n5(t).join(e)}function b6(e,t){return Ue(e,E6(t))}function E6(e){return e??""}function z5(e,t,i){return A6(e,new RegExp("["+I6(t.join(""))+"]"),i)}function A6(e,t,i){return i===1?bt(s=>s!=="",Mr(e,t)):Mr(e,t)}function v6(e){return Oe(e.length,t=>e[t])}function w5(e,t){e.Set(e.Get()+t)}let l3=I(e=>{var t;return t=class{},l3=e(t),a(t,"Empty"),t.Empty={$:0},t});const P6=l3;function u3(e){const t=[];function i(s){for(;;){if(s.$==1)return t.push(s.$0);if(s.$==2){const r=s.$1,n=s.$0;i(n),s=r}else return s.$==3?y5(r=>{t.push(r)},s.$0):null}}return i(e),t.slice(0)}function c3(e){return{$:1,$0:e}}function x6(e){const t=Se(e);return Yt(h3(),a3,t)}function a3(e,t){return e.$==0?t:t.$==0?e:{$:2,$0:e,$1:t}}function h3(){return P6.Empty}function F6(){return p3.CubicInOut}let f3=I(e=>{var t;return t=class extends Y{constructor(r){super();a(this,"transformTime");this.transformTime=r}static get CubicInOut(){return F6()}static Custom(r){return new t(r)}TransformTime(r){return this.transformTime(r)}},f3=e(t),t});const L6=f3;let d3=I(e=>{var t;return t=class{},d3=e(t),a(t,"UseAnimations"),a(t,"CubicInOut"),t.CubicInOut=L6.Custom(s=>{const r=s*s;return 3*r-2*(r*s)}),t.UseAnimations=!0,t});const p3=d3;function k6(){return p3.UseAnimations}function V6(e){return G6(Je(t=>t.$==1?N(t.$0):null,u3(e.$0)))}function G6(e){const t=Se(e),i=k(t);if(i===0)return $3();if(i===1)return C(t,0);{const s=Co(h5(n=>n.Duration,t)),r=G5(n=>R6(s,n),t);return $r(s,n=>{y5(o=>{o.Compute(n)},r)})}}function R6(e,t){const i=t.Compute,s=t.Duration,r=ps(()=>t.Compute(t.Duration));return{Compute:n=>n>=s?r.f():i(n),Duration:e}}function $3(e){return $r(0,()=>e)}function $r(e,t){return{Compute:t,Duration:e}}function D6(e){y5(t=>{t.$==0&&t.$0()},u3(e.$0))}function M6(e){return e.$0}function ye(e){return{$:0,$0:e}}function Wt(){return ye(h3())}function on(e,t){return w3(ye(c3({$:0,$0:e})),t)}function O6(e,t){const i=t.Duration;if(i===0)return Et();{const s=r=>{function n(o){return l=>{const u=l-o;return t.Compute(u),e(),u<=i?void requestAnimationFrame(c=>{n(o)(c)}):r()}}requestAnimationFrame(o=>{n(o)(o)})};return fr((r,n,o)=>s.apply(null,[r,n,o]))}}function Ur(e){return nt(()=>ft(O6(()=>{},V6(e)),()=>(D6(e),Xt(null))))}function Ee(e){return ye(c3({$:1,$0:e}))}function Ae(e,t){const i=t.Compute;return $r(t.Duration,s=>e(i(s)))}function Nt(e){return $3(e)}function nn(e){return ye(x6(h5(M6,e)))}function w3(e,t){return ye(a3(e.$0,t.$0))}function gn(){return k6()}let m3=I(e=>{var t;return t=class extends Y{constructor(r,n){super();a(this,"push");a(this,"value");a(this,"dirty");a(this,"updates");this.push=n,this.value=void 0,this.dirty=!1,this.updates=K(o=>{this.value=o,this.dirty=!0},r)}get NChanged(){return this.updates}NSync(r){this.dirty&&(this.push(r)(this.value),this.dirty=!1)}NGetExitAnim(r){return Wt()}NGetEnterAnim(r){return Wt()}NGetChangeAnim(r){return Wt()}},m3=e(t),t});const U6=m3;let Wr=I(e=>{var i;return i=class extends Y{constructor(n,o,l,u,c){var r=(...t)=>{super(...t);a(this,"change");a(this,"enter");a(this,"exit");a(this,"flags")};n=="New_2"&&(n="New_3",o=($,m)=>Nt(m),l=Nt,u=Nt,c=0);let d;n=="New_1"&&(d=o,n="New_3",o=d,l=Nt,u=Nt,c=1);let p,h,f;if(n=="New"&&(p=o,h=l,f=u,n="New_3",o=p,l=E(h,null)?Nt:h,u=E(f,null)?Nt:f,c=1|(E(h,null)?0:2)|(E(f,null)?0:4)),n=="New_3"){const $=o,m=l,b=u,g=c;r(),this.change=$,this.enter=m,this.exit=b,this.flags=g}}Copy(n,o,l,u){const c=n==null?f=>$=>this.TChange(f,$):n.$0,d=this.TEnter,p=this.TExit,h=this.TFlags;return new Wr("New_3",(f,$)=>c(f)($),o==null?d:o.$0,l==null?p:l.$0,u==null?h:u.$0)}get TFlags(){return this.flags}get TExit(){return this.exit}get TEnter(){return this.enter}TChange(n,o){return this.change(n,o)}static New(n,o,l){return new this("New",n,o,l)}static New_1(n){return new this("New_1",n)}static New_2(){return new this("New_2")}static New_3(n,o,l,u){return new this("New_3",n,o,l,u)}},Wr=e(i),i});function W6(e,t){return e.TExit(t)}function H6(e,t){return e.TEnter(t)}function Hr(e,t,i){return e.TChange(t,i)}I(e=>{var t;return t=class extends Y{constructor(r,n,o){super();a(this,"tr");a(this,"push");a(this,"logical");a(this,"visible");a(this,"dirty");a(this,"updates");this.tr=r,this.push=o,this.logical=null,this.visible=null,this.dirty=!0,this.updates=K(l=>{this.logical=N(l),this.dirty=!0},n)}sync(r){if(this.dirty){const n=this.logical;n==null||this.push(r)(n.$0),this.visible=this.logical,this.dirty=!1}}pushVisible(r,n){this.visible=N(n),this.dirty=!0,this.push(r)(n)}get NChanged(){return this.updates}NSync(r){}NGetExitAnim(r){const n=this.visible;let o=n!=null&&n.$==1?Ee(Ae(l=>{this.pushVisible(r,l)},W6(this.tr,n.$0))):Wt();return on(()=>{this.dirty=!0,this.visible=null},o)}NGetEnterAnim(r){let n,o;const l=this.visible,u=this.logical;switch(l==null?u!=null&&u.$==1?(n=u.$0,1):2:u!=null&&u.$==1&&this.dirty?(n=[u.$0,l.$0],0):2){case 0:o=Ee(Ae(c=>{this.pushVisible(r,c)},Hr(this.tr,n[1],n[0])));break;case 1:o=Ee(Ae(c=>{this.pushVisible(r,c)},H6(this.tr,n)));break;case 2:o=Wt();break}return on(()=>{this.sync(r)},o)}NGetChangeAnim(r){let n;const o=this.visible,l=this.logical;let u=o!=null&&o.$==1&&l!=null&&l.$==1&&this.dirty&&(n=[l.$0,o.$0],!0)?Ee(Ae(c=>{this.pushVisible(r,c)},Hr(this.tr,n[1],n[0]))):Wt();return on(()=>{this.sync(r)},u)}},e(t),t});function q6(){return i5.FloatApplyChecked}function B6(){return i5.FloatGetChecked}function j6(){return i5.FloatSetChecked}function g3(){return i5.FloatApplyUnchecked}function K6(){return i5.FloatGetUnchecked}function X6(){return i5.FloatSetUnchecked}function z6(){return i5.IntApplyChecked}function Y6(){return i5.IntGetChecked}function Q6(){return i5.IntSetChecked}function J6(){return i5.IntApplyUnchecked}function Z6(){return i5.IntGetUnchecked}function tl(){return i5.IntSetUnchecked}function N3(){return i5.FileApplyUnchecked}function el(){return i5.FileGetUnchecked}function nl(){return i5.FileSetUnchecked}function _3(){return i5.DateTimeApplyUnchecked}function rl(){return i5.DateTimeGetUnchecked}function sl(){return i5.DateTimeSetUnchecked}function S3(){return i5.StringListApply}function il(){return i5.StringListGet}function ol(){return i5.StringListSet}function y3(){return i5.StringApply}function ll(){return i5.StringGet}function ul(){return i5.StringSet}function T3(){return i5.BoolCheckedApply}function cl(e,t,i){let s;return s=null,[r=>{r.addEventListener("change",()=>{i.UpdateMaybe(n=>{let o;return s=e(r),s!=null&&s.$==1&&s.$0!==n&&(o=[s,s.$0],!0)?o[0]:null})})},r=>{const n=t(r);return o=>o==null?null:n(o.$0)},K(r=>s!=null&&s.$==1&&E(s.$0,r)&&(s.$0,!0)?null:N(r),i.View)]}function _t(e,t,i){let s;return s=null,[r=>{const n=()=>{i.UpdateMaybe(o=>{let l;return s=e(r),s!=null&&s.$==1&&!E(s.$0,o)&&(l=[s,s.$0],!0)?l[0]:null})};r.addEventListener("change",n),r.addEventListener("input",n),r.addEventListener("keypress",n)},r=>{const n=t(r);return o=>o==null?null:n(o.$0)},K(r=>s!=null&&s.$==1&&E(s.$0,r)&&(s.$0,!0)?null:N(r),i.View)]}function al(e){return e.match(new RegExp("\\s"))!==null}function ee(e){return b6(al,e)}function hl(e){const t=Date.parse(e);return isNaN(t)?null:N(t)}class b5{static Valid(t,i){return L(b5,{$:0,$0:t,$1:i})}static Invalid(t){return L(b5,{$:1,$0:t})}static Blank(t){return L(b5,{$:2,$0:t})}static Make(t){let i;return b5.Valid(t,(i=t,String(i)))}get Input(){return this.$==1?this.$0:this.$==2?this.$0:this.$1}}I(e=>{var t;return R(Error),t=class extends Error{static New(){return new this("New")}static New_1(s){return new this("New_1",s)}constructor(s,r){if(s=="New"&&(s="New_1",r="One of the identified items was in an invalid format."),s=="New_1"){const n=r;super(n)}}},e(t),t});I(e=>{var t;return R(Error),t=class extends Error{static New(){return new this("New")}static New_1(s){return new this("New_1",s)}constructor(s,r){if(s=="New"&&(s="New_1",r="Arithmetic operation resulted in an overflow."),s=="New_1"){const n=r;super(n)}}},e(t),t});function fl(e,t,i,s){const r=+e,n=r===r-r%1&&r>=t&&r<=i;return n&&s.set(r),n}function dl(e,t){return fl(e,-2147483648,2147483647,t)}let C3=I(e=>{var t;return t=class{},C3=e(t),a(t,"FloatApplyChecked"),a(t,"FloatGetChecked"),a(t,"FloatSetChecked"),a(t,"FloatApplyUnchecked"),a(t,"FloatGetUnchecked"),a(t,"FloatSetUnchecked"),a(t,"IntApplyChecked"),a(t,"IntGetChecked"),a(t,"IntSetChecked"),a(t,"IntApplyUnchecked"),a(t,"IntGetUnchecked"),a(t,"IntSetUnchecked"),a(t,"FileApplyUnchecked"),a(t,"FileGetUnchecked"),a(t,"FileSetUnchecked"),a(t,"DateTimeApplyUnchecked"),a(t,"DateTimeGetUnchecked"),a(t,"DateTimeSetUnchecked"),a(t,"StringListApply"),a(t,"StringListGet"),a(t,"StringListSet"),a(t,"StringApply"),a(t,"StringGet"),a(t,"StringSet"),a(t,"BoolCheckedApply"),a(t,"EmptyAttr"),(()=>{t.EmptyAttr=null,t.BoolCheckedApply=w=>[_=>{_.addEventListener("change",()=>w.Get()!=_.checked?w.Set(_.checked):null)},_=>S=>S!=null&&S.$==1?void(_.checked=S.$0):null,K(N,w.View)],t.StringSet=w=>_=>{w.value=_},t.StringGet=w=>N(w.value);const s=ll(),r=ul();t.StringApply=w=>_t(s,r,w),t.StringListSet=w=>_=>{const S=w.options;for(let x=0,W=S.length-1;x<=W;x++)(()=>{const o5=S.item(x);o5.selected=so(o5.value,_)})()},t.StringListGet=w=>{const _=w.selectedOptions;return N(n5(v5(()=>Tt(S=>[_.item(S).value],wt(0,_.length-1)))))};const n=il(),o=ol();t.StringListApply=w=>_t(n,o,w),t.DateTimeSetUnchecked=w=>_=>{w.value=new Date(_).toLocaleString()},t.DateTimeGetUnchecked=w=>{let _,S;const x=w.value;if(ee(x))return N(-864e13);{_=0;const W=hl(x);return S=[W!=null&&W.$==1&&(_=W.$0,!0),_],S[0]?N(S[1]):null}};const l=rl(),u=sl();t.DateTimeApplyUnchecked=w=>_t(l,u,w),t.FileSetUnchecked=()=>()=>null,t.FileGetUnchecked=w=>{const _=w.files;return N(n5(v5(()=>h5(S=>_.item(S),wt(0,_.length-1)))))};const c=el(),d=nl();t.FileApplyUnchecked=w=>cl(c,d,w),t.IntSetUnchecked=w=>_=>{w.value=String(_)},t.IntGetUnchecked=w=>{const _=w.value;if(ee(_))return N(0);{const S=+_;return S!==S>>0?null:N(S)}};const p=Z6(),h=tl();t.IntApplyUnchecked=w=>_t(p,h,w),t.IntSetChecked=w=>_=>{const S=_.Input;return w.value!=S?void(w.value=S):null},t.IntGetChecked=w=>{let _,S;const x=w.value;if(ee(x))_=!w.checkValidity||w.checkValidity()?b5.Blank(x):b5.Invalid(x);else{const W=(S=0,[dl(x,{get:()=>S,set:o5=>{S=o5}}),S]);_=W[0]?b5.Valid(W[1],x):b5.Invalid(x)}return N(_)};const f=Y6(),$=Q6();t.IntApplyChecked=w=>_t(f,$,w),t.FloatSetUnchecked=w=>_=>{w.value=String(_)},t.FloatGetUnchecked=w=>{const _=w.value;if(ee(_))return N(0);{const S=+_;return isNaN(S)?null:N(S)}};const m=K6(),b=X6();t.FloatApplyUnchecked=w=>_t(m,b,w),t.FloatSetChecked=w=>_=>{const S=_.Input;return w.value!=S?void(w.value=S):null},t.FloatGetChecked=w=>{let _;const S=w.value;if(ee(S))_=!w.checkValidity||w.checkValidity()?b5.Blank(S):b5.Invalid(S);else{const x=+S;_=isNaN(x)?b5.Invalid(S):b5.Valid(x,S)}return N(_)};const g=B6(),y=j6();t.FloatApplyChecked=w=>_t(g,y,w)})(),t});const i5=C3;function I3(e,t,i,s){const r={DynElem:e,DynFlags:t,DynNodes:i};return $t(r,"OnAfterRender",s),r}function $e(e){return v.A3(e)}function wr(e,t){return v.A1(new U6(e,t))}function Ct(){return i5.EmptyAttr}function pl(e,t){if(e===null)return t;if(t===null)return e;{const i=v.A2(e,t);return gl(i,_n(e)|_n(t)),i}}function $l(e){return mr(e,(t,i)=>t.NGetChangeAnim(i))}function wl(e){return mr(e,(t,i)=>t.NGetExitAnim(i))}function ml(e){return mr(e,(t,i)=>t.NGetEnterAnim(i))}function mr(e,t){return nn(G5(i=>t(i,e.DynElem),e.DynNodes))}function Nn(e){return Js(t=>t.NChanged,X5(),j5,e.DynNodes)}function ce(e){return I3(e,0,[],null)}function gr(e,t){const i=[],s=[];function r(l){for(;;)if(l!==null){if(l!=null&&l.$==1)return i.push(l.$0);if(l!=null&&l.$==2){const u=l.$1,c=l.$0;r(c),l=u}else return l!=null&&l.$==3?l.$0(e):l!=null&&l.$==4?s.push(l.$0):null}else return null}r(t);const n=i.slice(0);return I3(e,_n(t),n,s.length===0?null:N(l=>{yo(u=>{u(l)},s)}))}function b3(e,t){y5(i=>{i.NSync(e)},t.DynNodes)}function gl(e,t){e.flags=t}function _n(e){return e!==null&&e.hasOwnProperty("flags")?e.flags:0}function Nl(e){return(e.DynFlags&2)===2}function _l(e){return(e.DynFlags&1)===1}function Sl(e){return(e.DynFlags&4)===4}class v{static A1(t){return L(v,{$:1,$0:t})}static A2(t,i){return L(v,{$:2,$0:t,$1:i})}static A3(t){return L(v,{$:3,$0:t})}static A4(t){return L(v,{$:4,$0:t})}static Handler(t,i){return v.HandlerImpl(t,i)}static HandlerImpl(t,i){return $e(s=>{s.addEventListener(t,r=>i(s)(r),!1)})}static OnAfterRenderImpl(t){return v.A4(t)}static Concat(t){const i=Se(t);return Yt(Ct(),v.Append,i)}static Append(t,i){return pl(t,i)}static Create(t,i){return $e(s=>{s.setAttribute(t,i)})}}function Nr(e){return{$:6,$0:e}}function qr(e){return{$:5,$0:e}}function yl(e){return{$:4,$0:e}}function Tl(e){return{$:2,$0:e}}function E3(e){return{$:1,$0:e}}function je(e,t){return{$:0,$0:e,$1:t}}function Cl(e,t){return new Q5("New_2",bt(e,Kt(t)))}function Il(e,t){const i=new Q5("New_2",Kt(e));return i.IntersectWith(Kt(t)),i}function bl(e,t){const i=new Q5("New_2",Kt(t));return i.ExceptWith(Kt(e)),i}function Kt(e){const t=p5(e.Count,void 0);return e.CopyTo(t,0),t}function Te(e){return{$:0,$0:e}}function _r(e){return Kt(e.$0)}function A3(){return Te(new Q5("New_3"))}function El(e,t){return Te(Il(e.$0,t.$0))}function v3(e,t){return Te(bl(e.$0,t.$0))}function P3(e){const t=[];function i(n,o){for(;;)switch(n){case 0:if(o!=null&&o.$==0){const l=o.$1,u=o.$0;i(0,u),o=l}else if(o!=null&&o.$==1)o=o.$0,n=1;else if(o!=null&&o.$==2)o=o.$0.Current;else if(o!=null&&o.$==6){const l=o.$0.Holes;return(u=>c=>{y5(u,c)})(r)(l)}else return null;break;case 1:t.push(o),o=o.Children,n=0;break}}function s(n){return i(0,n)}function r(n){return i(1,n)}return s(e),Te(new Q5("New_2",t))}function Sr(e,t){return Te(Cl(e,t.$0))}let x3=I(e=>{var t;return t=class{},x3=e(t),a(t,"BatchUpdatesEnabled"),t.BatchUpdatesEnabled=!0,t});const Al=x3;function Sn(){return Al.BatchUpdatesEnabled}function F3(e,t){return{PreviousNodes:e,Top:t}}class rt{constructor(){a(this,"Attr");a(this,"Children");a(this,"Delimiters");a(this,"El");a(this,"ElKey");a(this,"Render")}GetHashCode(){return this.ElKey}Equals(t){return this.ElKey===t.ElKey}static New(t,i,s,r,n,o){const l={Attr:t,Children:i,El:r,ElKey:n};let u=($t(l,"Delimiters",s),$t(l,"Render",o),l);return L(rt,u)}}function Ke(e){return{$:0,$0:e}}function vl(e,t){y5(e,t.$0)}function Pl(e,t){const i=e.$0;return Ke(bt(s=>sr(r=>s!==r,i),t.$0))}function xl(e){const t=[];function i(s){for(;;)if(s!=null&&s.$==2)s=s.$0.Current;else{if(s!=null&&s.$==1)return t.push(s.$0.El);if(s==null)return null;if(s!=null&&s.$==5)return t.push(s.$0);if(s!=null&&s.$==4)return t.push(s.$0.Text);if(s!=null&&s.$==6){const r=s.$0.Els;return(n=>o=>{y5(n,o)})(n=>{n==null||n.constructor===Object?i(n):t.push(n)})(r)}else{const r=s.$1,n=s.$0;i(n),s=r}}}return i(e.Children),Ke(Se(t))}function Fl(e,t){let i;if(t!=null&&t.$==1){const s=[];for(i=t.$0[0].nextSibling;i!==t.$0[1];)s.push(i),i=i.nextSibling;return Ke(s)}else{let s=e.childNodes.length;const r=e.childNodes;let n=Oe(s,o=>r[o]);return Ke(n)}}let L3=I(e=>{var t;return t=class{},L3=e(t),a(t,"defaultWrap"),a(t,"wrapMap"),a(t,"rhtml"),a(t,"rtagName"),a(t,"rxhtmlTag"),(()=>{t.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi"),t.rtagName=new RegExp("<([\\w:]+)"),t.rhtml=new RegExp("<|&#?\\w+;");const s=[1,"<table>","</table>"];let r=Object.fromEntries([["option",[1,"<select multiple='multiple'>","</select>"]],["legend",[1,"<fieldset>","</fieldset>"]],["area",[1,"<map>","</map>"]],["param",[1,"<object>","</object>"]],["thead",s],["tbody",s],["tfoot",s],["tr",[2,"<table><tbody>","</tbody></table>"]],["col",[2,"<table><colgroup>","</colgoup></table>"]],["td",[3,"<table><tbody><tr>","</tr></tbody></table>"]]]);t.wrapMap=r,t.defaultWrap=[0,"",""]})(),t});const Ce=L3;function k3(e){const t=globalThis.document.createElement("div");if(Vl().test(e)){let l=function(u,c){for(;;){if(c===0)return u;{const d=c;u=u.lastChild,c=d-1}}};var i=l;const s=Gl().exec(e),r=E(s,null)?"":C(s,1).toLowerCase(),n=kl()[r],o=n||Ll();return t.innerHTML=o[1]+e.replace(Rl(),"<$1></$2>")+o[2],l(t,o[0])}else return t.appendChild(globalThis.document.createTextNode(e)),t}function Ll(){return Ce.defaultWrap}function kl(){return Ce.wrapMap}function Vl(){return Ce.rhtml}function Gl(){return Ce.rtagName}function Rl(){return Ce.rxhtmlTag}function Dl(e,t){const i=globalThis.document.querySelectorAll(e);for(let s=0,r=i.length-1;s<=r;s++)t(i[s])}function Ml(e,t,i){const s=e.querySelectorAll(t);for(let r=0,n=s.length-1;r<=n;r++)i(s[r])}function V3(e){const t=[];for(let i=0,s=e.childNodes.length-1;i<=s;i++)t.push(e.childNodes[i]);return t}function Ol(e,t,i){let s;if(i.parentNode===e){const r=i.nextSibling;let n=E(r,null)?null:r;s=t===n}else s=!1;s||e.insertBefore(i,t)}function Ul(e,t){t.parentNode===e&&e.removeChild(t)}function Wl(e,t){e.Value=t,e.Dirty=!0}function Hl(){return{Text:globalThis.document.createTextNode(""),Dirty:!1,Value:""}}function ql(e,t){e.Current=t,e.Dirty=!0}function Bl(){return{Current:null,Dirty:!1}}function Br(e,t,i){const s=P3(i);we(e,t.Top),t.PreviousNodes=s}function jr(e,t,i){return gn()?nt(()=>{const s=P3(i),r=Kl(t,s),n=jl(t,s);return ft(Ur(w3(r,Xl(t,s))),()=>ft(Kr(e,t),()=>ft(Ur(n),()=>(t.PreviousNodes=s,Xt(null)))))}):Kr(e,t)}function Kr(e,t){if(Sn()){const i=s=>{requestAnimationFrame(()=>{we(e,t.Top),s()})};return fr((s,r,n)=>i.apply(null,[s,r,n]))}else return we(e,t.Top),Xt(null)}function jl(e,t){return nn(G5(i=>ml(i.Attr),_r(v3(e.PreviousNodes,Sr(i=>_l(i.Attr),t)))))}function Kl(e,t){const i=r=>Sl(r.Attr),s=r=>Sr(i,r);return nn(G5(r=>$l(r.Attr),_r(El(s(e.PreviousNodes),s(t)))))}function Xl(e,t){return nn(G5(i=>wl(i.Attr),_r(v3(t,Sr(i=>Nl(i.Attr),e.PreviousNodes)))))}function zl(e,t,i){return F3(A3(),Ql(e,t,Ct(),i))}function Yl(e,t){return F3(A3(),yr(e,Ct(),t))}function Ql(e,t,i,s){const r=e.parentNode;Tr(t,s);const n=gr(r,i);return rt.New(n,s,N([e,t]),r,dt(),pt(n.OnAfterRender))}function yr(e,t,i){Xe(e,i);const s=gr(e,t);return rt.New(s,i,null,e,dt(),pt(s.OnAfterRender))}function we(e,t){e||Jl(t),G3(t.Children),R3(t)}function G3(e){for(;;){if(e!=null&&e.$==1)return we(!1,e.$0);if(e!=null&&e.$==2)e=e.$0.Current;else{if(e==null)return null;if(e!=null&&e.$==5)return null;if(e!=null&&e.$==4){const t=e.$0;return t.Dirty?(t.Text.nodeValue=t.Value,t.Dirty=!1):null}else if(e!=null&&e.$==6){const t=e.$0;return y5(i=>{we(!1,i)},t.Holes),y5(i=>{b3(i[0],i[1])},t.Attrs),R3(t)}else{const t=e.$1,i=e.$0;G3(i),e=t}}}}function R3(e){const t=pt(e.Render);t!=null&&t.$==1&&(t.$0(e.El),$t(e,"Render",null))}function yn(e,t){const i=e.parentNode,s=globalThis.document.createTextNode("");return i.insertBefore(s,e),Tr(e,t),s}function Tr(e,t){At(e.parentNode,t,e)}function Xe(e,t){At(e,t,null)}function Jl(e){function t(i){function s(r){for(;;)if(r!=null&&r.$==0){const n=r.$1,o=r.$0;if(s(o))return!0;r=n}else if(r!=null&&r.$==2){const n=r.$0;if(n.Dirty)return!0;r=n.Current}else if(r!=null&&r.$==6){const n=r.$0;return n.Dirty||an(t,n.Holes)}else return!1}return s(i.Children)}b3(e.El,e.Attr),t(e)&&Zl(e)}function Zl(e){const t=e.El;function i(o,l){for(;;){if(o!=null&&o.$==1)return o.$0.El;if(o!=null&&o.$==2){const u=o.$0;if(u.Dirty)return u.Dirty=!1,At(t,u.Current,l);o=u.Current}else{if(o==null)return l;if(o!=null&&o.$==4)return o.$0.Text;if(o!=null&&o.$==5)return o.$0;if(o!=null&&o.$==6){const u=o.$0;return u.Dirty&&(u.Dirty=!1),ir((c,d)=>c==null||c.constructor===Object?i(c,d):c,u.Els,l)}else{const u=o.$1;o=o.$0,l=i(u,l)}}}}const s=e.El;vl(o=>{Ul(s,o)},Pl(xl(e),Fl(e.El,pt(e.Delimiters))));let r=e.Children;const n=pt(e.Delimiters);i(r,n!=null&&n.$==1?n.$0[1]:null)}function At(e,t,i){for(;;){if(t!=null&&t.$==1)return ve(e,t.$0.El,i);if(t!=null&&t.$==2){const s=t.$0;s.Dirty=!1,t=s.Current}else{if(t==null)return i;if(t!=null&&t.$==4)return ve(e,t.$0.Text,i);if(t!=null&&t.$==5)return ve(e,t.$0,i);if(t!=null&&t.$==6)return ir((s,r)=>(n=>o=>l=>o==null||o.constructor===Object?At(n,o,l):ve(n,o,l))(e)(s)(r),t.$0.Els,i);{const s=t.$1;t=t.$0,i=At(e,s,i)}}}}function ve(e,t,i){return Ol(e,i,t),t}class me{constructor(){a(this,"c");a(this,"s");a(this,"v")}static Create(t){let i;return i=null,i=me.New(t,null,()=>{let s;return s=i.s,s===null&&(s=u6(i.c()),i.s=s,Xs(s,()=>{i.s=null})),s}),i}set Value(t){const i=this.s;i!==null&&jt(i),this.c=t}static New(t,i,s){return L(me,{c:t,s:i,v:s})}}let D3=I(e=>{var t;return R(T5),t=class extends T5{constructor(r,n,o,l,u){const c=u.View,d=b=>b[1],p=b=>G5(d,b),h=X5(),f=b=>Yt(h,j5,b);let $=d6(b=>f(p(b)),c),m=j5(n,$);super(Nr(r),m,o,l);a(this,"treeNode");a(this,"holeUpdates");a(this,"origHoles");this.treeNode=r,this.holeUpdates=u,this.origHoles=this.treeNode.Holes}RemoveAllUpdated(){this.treeNode.Holes=this.origHoles,this.holeUpdates.Set([])}RemoveUpdated(r){const n=r.docNode;if(n!=null&&n.$==1){const o=n.$0.ElKey;this.treeNode.Holes=bt(l=>l.ElKey!==o,this.treeNode.Holes),this.holeUpdates.Set(bt(l=>l[0]!==o,this.holeUpdates.Get()))}else F("DocUpdater.RemoveUpdated expects a single element node")}AddUpdated(r){const n=r.docNode;if(n!=null&&n.$==1){const o=n.$0;this.treeNode.Holes=this.treeNode.Holes.concat([o]);const l=this.holeUpdates.Get();l.push([o.ElKey,r.updates]),this.holeUpdates.Set(l)}else F("DocUpdater.AddUpdated expects a single element node")}ClearHoles(){this.origHoles=[],this.treeNode.Holes=[],this.holeUpdates.Set([])}AddHole(r){this.origHoles.push(r),this.treeNode.Holes=this.treeNode.Holes.concat([r])}},D3=e(t),t});const tu=D3;let M3=I(e=>{var t;return R(P5),t=class extends P5{constructor(r,n,o,l){super(r,n);a(this,"docNode_1");a(this,"updates_1");a(this,"elt");a(this,"rvUpdates");this.docNode_1=r,this.updates_1=n,this.elt=o,this.rvUpdates=l}SetStyle(r,n){this.elt.style[r]=n}HasClass(r){return new RegExp("(\\s|^)"+r+"(\\s|$)").test(this.elt.className)}GetProperty(r){return this.elt[r]}SetProperty(r,n){this.elt[r]=n}RemoveAttribute(r){this.elt.removeAttribute(r)}HasAttribute(r){return this.elt.hasAttribute(r)}GetAttribute(r){return this.elt.getAttribute(r)}SetAttribute(r,n){this.elt.setAttribute(r,n)}SetText(r){const n=this.docNode_1;n!=null&&n.$==1?n.$0.Children=null:n!=null&&n.$==6?(n.$0.Els=[],this.ClearHoles()):F("Invalid docNode in Elt"),this.rvUpdates.Value=X5(),this.elt.textContent=r}GetText(){return this.elt.textContent}SetValue(r){this.elt.value=r}GetValue(){return this.elt.value}Id(){return this.elt.id}Html(){return this.elt.outerHTML}Clear(){const r=this.docNode_1;for(r!=null&&r.$==1?r.$0.Children=null:r!=null&&r.$==6?(r.$0.Els=[],this.ClearHoles()):F("Invalid docNode in Elt"),this.rvUpdates.Value=X5();this.elt.hasChildNodes();)this.elt.removeChild(this.elt.firstChild)}Prepend(r){const n=this.docNode_1;if(n!=null&&n.$==1){const o=n.$0;o.Children=je(r.docNode,o.Children);const l=this.elt.firstChild;let u=E(l,null)?null:l;At(this.elt,r.docNode,u)}else if(n!=null&&n.$==6){const o=this.elt.insertBefore(globalThis.document.createTextNode(""),this.elt.firstChild),l=yn(o,r.docNode);this.AddHole(rt.New(ce(this.elt),r.docNode,N([l,o]),this.elt,dt(),null))}else F("Invalid docNode in Elt");this.rvUpdates.Value=j5(this.rvUpdates.c,r.updates)}Append(r){const n=this.docNode_1;if(n!=null&&n.$==1){const o=n.$0;o.Children=je(o.Children,r.docNode),At(this.elt,r.docNode,null)}else if(n!=null&&n.$==6){const o=this.elt.appendChild(globalThis.document.createTextNode("")),l=yn(o,r.docNode);this.AddHole(rt.New(ce(this.elt),r.docNode,N([l,o]),this.elt,dt(),null))}else F("Invalid docNode in Elt");this.rvUpdates.Value=j5(this.rvUpdates.c,r.updates)}static TreeNode(r,n){const o=me.Create(n),l=G5(d=>Nn(d[1]),r.Attrs);let u=Yt(X5(),j5,l),c=j5(u,o.v);return new t(Nr(r),c,C(r.Els,0),o)}static New(r,n,o){const l=yr(r,n,o.docNode),u=me.Create(o.updates);return new t(E3(l),j5(Nn(l.Attr),u.v),r,u)}ToUpdater(){let r;const n=this.docNode_1;if(n!=null&&n.$==1){const o=N(this.elt);r=ds({Els:[this.elt],Dirty:!0,Holes:[],Attrs:[[this.elt,n.$0.Attr]],Render:void 0,El:o?o.$0:void 0},["Render","El"])}else r=n!=null&&n.$==6?n.$0:F("Invalid docNode in Elt");return new tu(r,this.updates_1,this.elt,this.rvUpdates,l5.Create_1([]))}OnAfterRenderView(r,n){const o=wn();return this.Append(P5.BindView(l=>(this.elt[o]=l,P5.Empty),r)),this.OnAfterRenderu0027(l=>{n(l,l[o])})}OnAfterRender(r){return this.OnAfterRenderu0027(r)}OnAfterRenderu0027(r){let n,o;const l=this.docNode_1;if(l!=null&&l.$==1){const u=l.$0,c=pt(u.Render);if(c!=null&&c.$==1){const d=c.$0;n=N(p=>{d(p),r(p)})}else n=N(r);$t(u,"Render",n)}else if(l!=null&&l.$==6){const u=l.$0,c=pt(u.Render);if(c!=null&&c.$==1){const d=c.$0;o=N(p=>{d(p),r(p)})}else o=N(r);$t(u,"Render",o)}else F("Invalid docNode in Elt");return this}onView(r,n,o){const l=o(this.elt);return this.elt.addEventListener(r,u=>t3(l(u),n),!1),this}on(r,n){return this.elt.addEventListener(r,o=>n(this.elt,o),!1),this}ClearHoles(){const r=this.docNode_1;r!=null&&r.$==6&&(r.$0.Holes=[])}AddHole(r){const n=this.docNode_1;n!=null&&n.$==6&&n.$0.Holes.push(r)}},M3=e(t),t});const T5=M3;function O3(e){return it(T3(),e)}function eu(e){return it(q6(),e)}function U3(e){return it(g3(),e)}function nu(e){return it(z6(),e)}function Xr(e){return it(J6(),e)}function W3(e){return it(N3(),e)}function H3(e){return it(_3(),e)}function ru(e){return it(S3(),e)}function I5(e){return it(y3(),e)}function it(e,t){const i=e(t);return v.Append($e(i[0]),Tn(i[1],i[2]))}function su(e,t){return wr(t,i=>s=>{i[e]=s})}function ze(e){return v.A4(e)}function zr(e,t,i){return $e(s=>{const r=i(s);s.addEventListener(e,n=>t3(r(n),t),!1)})}function iu(e,t){return $e(i=>{i.addEventListener(e,s=>t(i)(s),!1)})}function Tn(e,t){return wr(t,e)}function ne(e,t){return wr(t,i=>s=>i.setAttribute(e,s))}function Yr(e){const t=[0];function i(){return nt(()=>ft(e,()=>{const s=t[0];return E(s,1)?(t[0]=0,Et()):E(s,2)?(t[0]=1,i()):Et()}))}return()=>{const s=t[0];E(s,0)?(t[0]=1,qo(i(),null)):E(s,1)&&(t[0]=2)}}let T=I(e=>{var t;return t=class extends Y{constructor(r,n){super();a(this,"docNode");a(this,"updates");this.docNode=r,this.updates=n}static SvgElementMixed(r,n){const o=T.MixedNodes(n);return T.SvgElement(r,o[0],o[1])}static SvgElement(r,n,o){const l=v.Concat(n),u=T.Concat(o);return T5.New(globalThis.document.createElementNS("http://www.w3.org/2000/svg",r),l,u)}static ElementMixed(r,n){const o=T.MixedNodes(n);return T.Element(r,o[0],o[1])}static ConcatMixed(r){return T.Concat(h5(T.ToMixedDoc,r))}static MixedNodes(r){const n=qt([]),o=qt([]),l=U(r);try{for(;l.MoveNext();){const u=l.Current;u instanceof v?n.push(u):o.push(T.ToMixedDoc(u))}}finally{typeof l=="object"&&c5(l)&&l.Dispose()}return[n,o]}static ToMixedDoc(r){return r instanceof t?r:typeof r=="string"?T.TextNode(r):r instanceof Element?T.StaticProxy(r):typeof r=="function"?T.EmbedView(K(T.ToMixedDoc,r)):r instanceof pe?T.EmbedView(K(T.ToMixedDoc,r.View)):E(r,null)?T.Empty:T.TextNode(String(r))}static Element(r,n,o){const l=v.Concat(n),u=T.Concat(o);return T5.New(globalThis.document.createElement(r),l,u)}static Radio(r,n,o){const l=globalThis.document.createElement("input");l.addEventListener("click",()=>o.Set(n),!1);const u=su("checked",K(c=>E(c,n),o.View));return T5.New(l,v.Concat(co(s5([v.Create("type","radio"),v.Create("name",o.Id),u]),V5(r))),T.Empty)}static LinkView(r,n,o,l){const u=v.Concat(z([zr("click",o,()=>()=>l),v.Create("href","#")],n));return T5.New(globalThis.document.createElement("a"),u,T.TextNode(r))}static Link(r,n,o){const l=v.Concat(n),u=v.Append(v.Create("href","#"),l);return T5.New(T.Clickable("a",o),u,T.TextNode(r))}static ButtonView(r,n,o,l){const u=v.Concat(z([zr("click",o,()=>()=>l)],n));return T5.New(globalThis.document.createElement("button"),u,T.TextNode(r))}static Button(r,n,o){const l=v.Concat(n);return T5.New(T.Clickable("button",o),l,T.TextNode(r))}static Clickable(r,n){const o=globalThis.document.createElement(r);return o.addEventListener("click",l=>(l.preventDefault(),n()),!1),o}static CheckBoxGroup(r,n,o){const l=c=>E(n,c);let u=l5.Lens(o,c=>vr(l,c),(c,d)=>d?vr(p=>E(n,p),c)?c:V.Cons(n,c):ao(p=>!E(n,p),c));return T.CheckBox(r,u)}static CheckBox(r,n){return T.InputInternal("input",()=>z(r,[v.Create("type","checkbox"),O3(n)]))}static SelectDynOptional(r,n,o,l,u){return T.SelectDyn(r,c=>c!=null&&c.$==1?o(c.$0):n,K(c=>V.Cons(null,he(N,c)),l),u)}static SelectOptional(r,n,o,l,u){return T.Select(r,c=>c!=null&&c.$==1?o(c.$0):n,V.Cons(null,he(N,l)),u)}static SelectMultiple(r,n,o,l){return T.SelectMultipleImpl(r,u=>(u[0]=o,T.Concat(Pr((c,d)=>T.Element("option",s5([v.Create("value",String(c))]),s5([T.TextNode(n(d))])),o))),l)}static SelectMultipleDyn(r,n,o,l){return T.SelectMultipleImpl(r,u=>T.Convert(c=>T.Element("option",s5([v.Create("value",String(c[0]))]),s5([T.TextNode(n(c[1]))])),K(c=>(u[0]=c,xr((d,p)=>[d,p],c)),o)),l)}static Select(r,n,o,l){return T.SelectImpl(r,n,u=>(u[0]=o,T.Concat(Pr((c,d)=>T.Element("option",s5([v.Create("value",String(c))]),s5([T.TextNode(n(d))])),o))),l)}static SelectDyn(r,n,o,l){return T.SelectImpl(r,n,u=>T.Convert(c=>T.Element("option",s5([v.Create("value",String(c[0]))]),s5([T.TextNode(n(c[1]))])),K(c=>(u[0]=c,xr((d,p)=>[d,p],c)),o)),l)}static SelectMultipleImpl(r,n,o){const l=[V.Empty],u=(f,$)=>{const m=f.options;for(let b=0,g=m.length-1;b<=g;b++)(()=>{const y=m.item(b);y.selected=po(l[0].get_Item(y.index),$)})()},c=globalThis.document.createElement("select"),d=Tn(f=>$=>u(f,$),o.View);c.addEventListener("change",()=>o.UpdateMaybe(f=>{const $=c.selectedOptions,m=V5(v5(()=>Tt(b=>{const g=$.item(b);return[l[0].get_Item(g.index)]},wt(0,$.length-1))));return E(f,m)?null:N(m)}),!1);const p=v.Append(ze(f=>{u(f,o.Get())}),v.Append(d,v.Concat(r)));let h=v.Append(v.Create("multiple",""),p);return T5.New(c,h,n(l))}static SelectImpl(r,n,o,l){const u=[V.Empty],c=(h,f)=>{h.selectedIndex=_o($=>E(f,$),u[0])},d=globalThis.document.createElement("select"),p=Tn(h=>f=>c(h,f),l.View);return d.addEventListener("change",()=>l.UpdateMaybe(h=>{const f=d.selectedIndex,$=u[0].get_Item(f);return E(h,$)?null:N($)}),!1),T5.New(d,v.Append(ze(h=>{c(h,l.Get())}),v.Append(p,v.Concat(r))),o(u))}static InputArea(r,n){return T.InputInternal("textarea",()=>z(r,[I5(n)]))}static RangeInput(r,n){return T.InputInternal("input",()=>z(r,[Xr(n),v.Create("type","range")]))}static WeekInput(r,n){return T.InputInternal("input",()=>z(r,[I5(n),v.Create("type","week")]))}static UrlInput(r,n){return T.InputInternal("input",()=>z(r,[I5(n),v.Create("type","url")]))}static TimeInput(r,n){return T.InputInternal("input",()=>z(r,[I5(n),v.Create("type","time")]))}static TelInput(r,n){return T.InputInternal("input",()=>z(r,[I5(n),v.Create("type","tel")]))}static SearchInput(r,n){return T.InputInternal("input",()=>z(r,[I5(n),v.Create("type","search")]))}static MonthInput(r,n){return T.InputInternal("input",()=>z(r,[I5(n),v.Create("type","month")]))}static FileInput(r,n){return T.InputInternal("input",()=>z(r,[W3(n),v.Create("type","file")]))}static EmailInput(r,n){return T.InputInternal("input",()=>z(r,[I5(n),v.Create("type","email")]))}static DateTimeLocalInput(r,n){return T.InputInternal("input",()=>z(r,[H3(n),v.Create("type","datetime-local")]))}static DateInput(r,n){return T.InputInternal("input",()=>z(r,[I5(n),v.Create("type","datetime")]))}static ColorInput(r,n){return T.InputInternal("input",()=>z(r,[I5(n),v.Create("type","color")]))}static FloatInput(r,n){return T.InputInternal("input",()=>z(r,[eu(n),v.Create("type","number")]))}static FloatInputUnchecked(r,n){return T.InputInternal("input",()=>z(r,[n.Get()===0?v.Create("value","0"):Ct(),U3(n),v.Create("type","number")]))}static IntInput(r,n){return T.InputInternal("input",()=>z(r,[nu(n),v.Create("type","number")]))}static IntInputUnchecked(r,n){return T.InputInternal("input",()=>z(r,[n.Get()===0?v.Create("value","0"):Ct(),Xr(n),v.Create("type","number")]))}static PasswordBox(r,n){return T.InputInternal("input",()=>z(r,[I5(n),v.Create("type","password")]))}static Input(r,n){return T.InputInternal("input",()=>z(r,[I5(n)]))}static InputInternal(r,n){const o=globalThis.document.createElement(r);return T5.New(o,v.Concat(n(o)),T.Empty)}static ConvertSeqVarBy(r,n,o){return T.Flatten(l5.MapLens(r,n,o))}static ConvertSeqBy(r,n,o){return T.Flatten(pr(r,(l,u)=>n(l)(u),o))}static ConvertSeq(r,n){return T.Flatten(m6(r,n))}static ConvertBy(r,n,o){return T.Flatten(Zs(r,n,o))}static Convert(r,n){return T.Flatten(N6(r,n))}static Flatten(r){return T.EmbedView(K(T.Concat,r))}static TextView(r){const n=Hl();return T.Mk(yl(n),K(o=>{Wl(n,o)},r))}static RunReplaceById(r,n){const o=globalThis.document.getElementById(r);E(o,null)?F("invalid id: "+r):n.ReplaceInDom(o)}static RunById(r,n){const o=globalThis.document.getElementById(r);E(o,null)?F("invalid id: "+r):T.Run(o,n)}static Run(r,n){Xe(r,n.docNode),T.RunInPlace(!1,r,n)}static RunInPlace(r,n,o){const l=Yl(n,o.docNode);de(gn()||Sn()?Yr(jr(r,l,o.docNode)):()=>{Br(r,l,o.docNode)},o.updates)}static RunPrependById(r,n){const o=globalThis.document.getElementById(r);E(o,null)?F("invalid id: "+r):T.RunPrepend(o,n)}static RunPrepend(r,n){const o=globalThis.document.createTextNode("");r.insertBefore(o,r.firstChild),T.RunBefore(o,n)}static RunAppendById(r,n){const o=globalThis.document.getElementById(r);E(o,null)?F("invalid id: "+r):T.RunAppend(o,n)}static RunAppend(r,n){const o=globalThis.document.createTextNode("");r.appendChild(o),T.RunBefore(o,n)}static RunAfterById(r,n){const o=globalThis.document.getElementById(r);E(o,null)?F("invalid id: "+r):T.RunAfter(o,n)}static RunAfter(r,n){const o=globalThis.document.createTextNode("");r.parentNode.insertBefore(o,r.nextSibling),T.RunBetween(r,o,n)}static RunBeforeById(r,n){const o=globalThis.document.getElementById(r);E(o,null)?F("invalid id: "+r):T.RunBefore(o,n)}static RunBefore(r,n){const o=globalThis.document.createTextNode("");r.parentNode.insertBefore(o,r),T.RunBetween(o,r,n)}static RunBetween(r,n,o){Tr(n,o.docNode);const l=zl(r,n,o.docNode);de(gn()||Sn()?Yr(jr(!1,l,o.docNode)):()=>{Br(!1,l,o.docNode)},o.updates)}static Async(r){return T.EmbedView(_6(n=>n,X5(r)))}static BindView(r,n){return T.EmbedView(K(r,n))}static EmbedView(r){const n=Bl();return T.Mk(Tl(n),K(()=>{},$6(o=>(ql(n,o.docNode),o.updates),r)))}static Verbatim(r){return T.Mk(Js(n=>E(n.nodeType,Node.TEXT_NODE)?qr(n):E3(yr(n,Ct(),null)),null,je,V3(k3(r))),X5())}static StaticProxy(r){return T5.New(r,Ct(),T.Empty)}static TextNode(r){return T.Mk(qr(globalThis.document.createTextNode(r)),X5())}static get Empty(){return T.Mk(null,X5())}static Concat(r){return Yt(T.Empty,T.Append,Se(r))}static Append(r,n){return T.Mk(je(r.docNode,n.docNode),j5(r.updates,n.updates))}static Mk(r,n){return new t(r,n)}ReplaceInDom(r){const n=globalThis.document.createTextNode("");r.parentNode.replaceChild(n,r),T.RunBefore(n,this)}},T=e(t),t});const P5=T;function Qr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]","g"),e=>{const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}let q3=I(e=>{var i;return i=class extends Y{constructor(n,o){var r=(...t)=>{super(...t);a(this,"i");a(this,"k");a(this,"h");a(this,"s")};if(n=="New_1"){let l;r(),this.i=null,this.k=(l=Qr(),String(l)),this.h=qt([]),$t(this,"s",null)}if(n=="New"){const l=o;let u;r(),this.i=null,this.k=(u=Qr(),String(u)),this.h=qt([]),$t(this,"s",N(l))}}static New(n){return new this("New",n)}static New_1(){return new this("New_1")}},q3=e(i),i});const ou=q3;let B3=I(e=>{var t;return t=class extends Y{static Value(s){return s.ValueObj}get AsChoiceView(){return console.warn("Attribute value hole filled with non-text data",this.Name),hr("")}ForTextView(){return console.warn("Content hole filled with attribute data",this.Name),null}ApplyVarHole(s){console.warn("Not a var hole: ",this.Name)}AddAttribute(s,r){console.warn("Var hole filled with non-Var data",this.Name)}},B3=e(t),t});const X=B3;function Qt(e,t,i){const s=e(t);s[0](i),de(s[1](i),s[2])}let Cn=I(e=>{var t;return R(X),t=class extends X{constructor(r,n){super();a(this,"name");a(this,"fillWith");this.name=r,this.fillWith=n}get Value(){return this.fillWith}ForTextView(){return N(this.fillWith.View)}get AsChoiceView(){return Pt(K(String,this.fillWith.View))}AddAttribute(r,n){r(n)(I5(this.fillWith))}ApplyVarHole(r){Qt(y3(),this.fillWith,r)}WithName(r){return new Cn(r,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Cn=e(t),t});const Ye=Cn;let In=I(e=>{var t;return R(X),t=class extends X{constructor(r,n){super();a(this,"name");a(this,"fillWith");this.name=r,this.fillWith=n}get Value(){return this.fillWith}ForTextView(){return N(K(String,this.fillWith.View))}get AsChoiceView(){return Pt(K(String,this.fillWith.View))}AddAttribute(r,n){r(n)(U3(this.fillWith))}ApplyVarHole(r){Qt(g3(),this.fillWith,r)}WithName(r){return new In(r,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},In=e(t),t});const j3=In;let bn=I(e=>{var t;return R(X),t=class extends X{constructor(r,n){super();a(this,"name");a(this,"fillWith");this.name=r,this.fillWith=n}get Value(){return this.fillWith}ForTextView(){return N(K(String,this.fillWith.View))}get AsChoiceView(){return Pt(K(String,this.fillWith.View))}AddAttribute(r,n){r(n)(O3(this.fillWith))}ApplyVarHole(r){Qt(T3(),this.fillWith,r)}WithName(r){return new bn(r,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},bn=e(t),t});const K3=bn;let En=I(e=>{var t;return R(X),t=class extends X{constructor(r,n){super();a(this,"name");a(this,"fillWith");this.name=r,this.fillWith=n}get Value(){return this.fillWith}ForTextView(){return N(K(r=>new Date(r).toLocaleString(),this.fillWith.View))}get AsChoiceView(){return Pt(K(r=>new Date(r).toLocaleString(),this.fillWith.View))}AddAttribute(r,n){r(n)(H3(this.fillWith))}ApplyVarHole(r){Qt(_3(),this.fillWith,r)}WithName(r){return new En(r,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},En=e(t),t});const X3=En;let An=I(e=>{var t;return R(X),t=class extends X{constructor(r,n){super();a(this,"name");a(this,"fillWith");this.name=r,this.fillWith=n}get Value(){return this.fillWith}ForTextView(){return N(K(String,this.fillWith.View))}get AsChoiceView(){return Pt(K(String,this.fillWith.View))}AddAttribute(r,n){r(n)(W3(this.fillWith))}ApplyVarHole(r){Qt(N3(),this.fillWith,r)}WithName(r){return new An(r,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},An=e(t),t});const z3=An;let vn=I(e=>{var t;return R(X),t=class extends X{constructor(r,n){super();a(this,"name");a(this,"fillWith");this.name=r,this.fillWith=n}get Value(){return this.fillWith}ApplyVarHole(r){}WithName(r){return new vn(r,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},vn=e(t),t});const Cr=vn;let Pn=I(e=>{var t;return R(X),t=class extends X{constructor(r,n){super();a(this,"name");a(this,"fillWith");this.name=r,this.fillWith=n}get Value(){return this.fillWith}ForTextView(){return N(K(r=>M5(",",r),this.fillWith.View))}get AsChoiceView(){return Pt(K(String,this.fillWith.View))}AddAttribute(r,n){r(n)(ru(this.fillWith))}ApplyVarHole(r){Qt(S3(),this.fillWith,r)}WithName(r){return new Pn(r,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Pn=e(t),t});const Y3=Pn;let Q3=I(e=>{var t;return t=class extends Y{constructor(r,n){super();a(this,"doc");a(this,"allVars");a(this,"anchorRoot");this.doc=n,this.allVars=r.$==0?r.$0:F("Should not happen"),this.anchorRoot=null}Anchor(r){function n(o){for(;;){const l=o.querySelector('[ws-anchor="'+String(r)+'"]');if(l==null&&o.parentElement!=null)o=o.parentElement;else return l}}return n(this.anchorRoot)}SetAnchorRoot(r){this.anchorRoot=r}Hole(r){return this.allVars.Item(r)}get Doc(){return this.doc}},Q3=e(t),t});const J3=Q3;let Z3=I(e=>{var t;return t=class{},Z3=e(t),a(t,"RenderedFullDocTemplate"),a(t,"TextHoleRE"),a(t,"GlobalHoles"),a(t,"LocalTemplatesLoaded"),a(t,"LoadedTemplates"),t.LoadedTemplates=new N5("New_5"),t.LocalTemplatesLoaded=!1,t.GlobalHoles=new N5("New_5"),t.TextHoleRE="\\${([^}]+)}",t.RenderedFullDocTemplate=null,t});const Lt=Z3;function Jr(e){console.warn("Instantiating non-loaded template",e)}function Zr(e,t,i){for(;;)if(e.hasChildNodes())i=t.insertBefore(e.lastChild,i);else return null}function lu(e,t,i){const s=e.querySelector("[ws-replace]");return E(s,null)?(console.warn("Filling non-existent text hole",i),null):(s.parentNode.replaceChild(globalThis.document.createTextNode(t),s),N(s.getAttribute("ws-replace")))}function uu(e,t){const i=s=>{g5(e,"["+s+"]",r=>{t.Contains(r.getAttribute(s))||r.removeAttribute(s)})};i("ws-attr"),i("ws-onafterrender"),i("ws-var"),g5(e,"[ws-hole]",s=>{if(!t.Contains(s.getAttribute("ws-hole")))for(s.removeAttribute("ws-hole");s.hasChildNodes();)s.removeChild(s.lastChild)}),g5(e,"[ws-replace]",s=>{t.Contains(s.getAttribute("ws-replace"))||s.parentNode.removeChild(s)}),g5(e,"[ws-on]",s=>{s.setAttribute("ws-on",M5(" ",bt(r=>t.Contains(C(z5(r,[":"],1),1)),z5(s.getAttribute("ws-on"),[" "],1))))}),g5(e,"[ws-attr-holes]",s=>{const r=z5(s.getAttribute("ws-attr-holes"),[" "],1);for(let n=0,o=r.length-1;n<=o;n++){const l=C(r,n);let u=new RegExp(ge(),"g"),c=s.getAttribute(l).replace(u,(d,p)=>t.Contains(p)?d:"");s.setAttribute(l,c)}})}function cu(e,t){ti(t);const i=t.nodeName.toLowerCase(),s=e.querySelector("[ws-attr="+i+"]");if(E(s,null))console.warn("Filling non-existent attr hole",i);else{s.removeAttribute("ws-attr");for(let r=0,n=t.attributes.length-1;r<=n;r++){const o=t.attributes.item(r);o.name=="class"&&s.hasAttribute("class")?s.setAttribute("class",s.getAttribute("class")+" "+o.nodeValue):s.setAttribute(o.name,o.nodeValue)}}}function au(e,t){const i=s=>{g5(e,"["+s+"]",r=>{let n;const o=(n=null,[t.TryGetValue(r.getAttribute(s).toLowerCase(),{get:()=>n,set:l=>{n=l}}),n]);o[0]&&r.setAttribute(s,o[1])})};i("ws-hole"),i("ws-replace"),i("ws-attr"),i("ws-onafterrender"),i("ws-var"),g5(e,"[ws-on]",s=>{s.setAttribute("ws-on",M5(" ",G5(r=>{let n;const o=z5(r,[":"],1),l=(n=null,[t.TryGetValue(C(o,1),{get:()=>n,set:u=>{n=u}}),n]);return l[0]?C(o,0)+":"+l[1]:r},z5(s.getAttribute("ws-on"),[" "],1))))}),g5(e,"[ws-attr-holes]",s=>{const r=z5(s.getAttribute("ws-attr-holes"),[" "],1);for(let n=0,o=r.length-1;n<=o;n++)(()=>{const l=C(r,n);return s.setAttribute(l,Bt((u,c)=>{const d=ot(c);return u.replace(new RegExp("\\${"+d[0]+"}","ig"),"${"+d[1]+"}")},s.getAttribute(l),t))})()})}function hu(e){let t=null,i=0;const s=e.textContent,r=new RegExp(ge(),"g");for(;t=r.exec(s),t!==null;){e.parentNode.insertBefore(globalThis.document.createTextNode(et(s,N(i),N(r.lastIndex-C(t,0).length-1))),e),i=r.lastIndex;const n=globalThis.document.createElement("span");n.setAttribute("ws-replace",C(t,1).toLowerCase()),e.parentNode.insertBefore(n,e)}r.lastIndex=0,e.textContent=et(s,N(i),null)}function ti(e){const t=e.attributes,i=[],s=[],r=[];for(let o=0,l=t.length-1;o<=l;o++){const u=t.item(o);if(mn(u.nodeName,"ws-on")&&u.nodeName!="ws-onafterrender"&&u.nodeName!="ws-on")i.push(u.nodeName),s.push(et(u.nodeName,N(5),null)+":"+u.nodeValue.toLowerCase());else if(!mn(u.nodeName,"ws-")&&new RegExp(ge()).test(u.nodeValue)){let c=new RegExp(ge(),"g"),d=u.nodeValue.replace(c,(p,h)=>"${"+h.toLowerCase()+"}");u.nodeValue=d,r.push(u.nodeName)}}s.length!=0&&e.setAttribute("ws-on",M5(" ",s)),r.length!=0&&e.setAttribute("ws-attr-holes",M5(" ",r));const n=o=>{const l=e.getAttribute(o);l==null||e.setAttribute(o,l.toLowerCase())};n("ws-hole"),n("ws-replace"),n("ws-attr"),n("ws-onafterrender"),n("ws-var"),y5(o=>{e.removeAttribute(o)},i)}let xn=I(e=>{var t;return R(X),t=class extends X{constructor(r,n){super();a(this,"name");a(this,"fillWith");this.name=r,this.fillWith=n}get Value(){return this.fillWith}WithName(r){return new xn(r,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},xn=e(t),t});const ei=xn;let Fn=I(e=>{var t;return R(X),t=class extends X{constructor(r,n){super();a(this,"name");a(this,"fillWith");this.name=r,this.fillWith=n}get Value(){return this.fillWith}get AsChoiceView(){return hr(this.fillWith)}WithName(r){return new Fn(r,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Fn=e(t),t});const fu=Fn;let Ln=I(e=>{var t;return R(X),t=class extends X{constructor(r,n){super();a(this,"name");a(this,"fillWith");this.name=r,this.fillWith=n}get Value(){return this.fillWith}WithName(r){return new Ln(r,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Ln=e(t),t});const du=Ln;let kn=I(e=>{var t;return R(X),t=class extends X{constructor(r,n){super();a(this,"name");a(this,"fillWith");this.name=r,this.fillWith=n}get Value(){return this.fillWith}WithName(r){return new kn(r,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},kn=e(t),t});const pu=kn;let Vn=I(e=>{var t;return R(X),t=class extends X{constructor(r,n){super();a(this,"name");a(this,"fillWith");this.name=r,this.fillWith=n}get Value(){return this.fillWith}WithName(r){return new Vn(r,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Vn=e(t),t});const ni=Vn;let Gn=I(e=>{var t;return R(X),t=class extends X{constructor(r,n){super();a(this,"name");a(this,"fillWith");this.name=r,this.fillWith=n}get Value(){return this.fillWith}WithName(r){return new Gn(r,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Gn=e(t),t});const $u=Gn;let Rn=I(e=>{var t;return R(X),t=class extends X{constructor(r,n){super();a(this,"name");a(this,"fillWith");this.name=r,this.fillWith=n}get Value(){return this.fillWith}WithName(r){return new Rn(r,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Rn=e(t),t});const ri=Rn;function si(e){if(ts()==null){mu(""),Ht("",null,globalThis.document.body,null);const t=Su(globalThis.document.body,e),i=globalThis.document.body;(r=>{P5.RunInPlace(!0,i,r)})(t);const s=t;return wu(N(s)),s}else return ts().$0}function ts(){return Lt.RenderedFullDocTemplate}function wu(e){Lt.RenderedFullDocTemplate=e}function mu(e){Cu()||(Iu(!0),gu(globalThis.document.body,"")),Ne().set_Item(e,Ir(""))}function gu(e,t){const i=Ir(t),s=new N5("New_5"),r=e.querySelectorAll("[ws-template]");for(let d=0,p=r.length-1;d<=p;d++){const h=r[d],f=h.getAttribute("ws-template").toLowerCase();h.removeAttribute("ws-template"),s.set_Item(f,ii(h))}const n=e.querySelectorAll("[ws-children-template]");for(let d=0,p=n.length-1;d<=p;d++){const h=n[d],f=h.getAttribute("ws-children-template").toLowerCase();h.removeAttribute("ws-children-template"),s.set_Item(f,_u(h))}const o=e.querySelectorAll("template[id]");for(let d=0,p=o.length-1;d<=p;d++){const h=o[d];s.set_Item(h.getAttribute("id").toLowerCase(),es(h))}const l=e.querySelectorAll("template[name]");for(let d=0,p=l.length-1;d<=p;d++){const h=l[d];s.set_Item(h.getAttribute("name").toLowerCase(),es(h))}const u=new Q5("New_3");function c(d){if(!i.ContainsKey(d)){let p;const h=(p=null,[s.TryGetValue(d,{get:()=>p,set:f=>{p=f}}),p]);h[0]?(u.SAdd(d),s.RemoveKey(d),Ht(t,N(d),h[1],N(c))):console.warn(u.Contains(d)?"Encountered loop when instantiating "+d:"Local template does not exist: "+d)}}for(;s.count>0;)c(fn(s.Keys))}function Nu(e,t,i){const s=ii(i);return r=>{Ht(e,t,s,r)}}function Ht(e,t,i,s){const r=new Q5("New_3");function n(h,f){for(;;)switch(h){case 0:if(f!==null){const w=f.nextSibling;E(f.nodeType,Node.TEXT_NODE)?hu(f):E(f.nodeType,Node.ELEMENT_NODE)&&l(f),f=w}else return null;break;case 1:const $=et(f.nodeName,N(3),null).toLowerCase(),m=$.indexOf("."),b=m===-1?[e,$]:[et($,null,N(m-1)),et($,N(m+1),null)],g=b[1],y=b[0];if(y!=""&&!Ne().ContainsKey(y))return Jr(g);{y==""&&s!=null&&s.$0(g);const w=Ne().Item(y);if(w.ContainsKey(g)){const S=w.Item(g).cloneNode(!0),x=new Q5("New_3"),W=new N5("New_5"),o5=f.attributes;for(let B=0,u5=o5.length-1;B<=u5;B++){const Q=o5.item(B).name.toLowerCase(),M=o5.item(B).nodeValue;let P=M==""?Q:M.toLowerCase();W.set_Item(Q,P),x.SAdd(Q)||console.warn("Hole mapped twice",Q)}for(let B=0,u5=f.childNodes.length-1;B<=u5;B++){const Q=f.childNodes[B];E(Q.nodeType,Node.ELEMENT_NODE)&&(x.SAdd(Q.nodeName.toLowerCase())||console.warn("Hole filled twice",g))}const q=f.childNodes.length===1&&E(f.firstChild.nodeType,Node.TEXT_NODE);if(q){const B=lu(S,f.firstChild.textContent,g),u5=(M=>P=>M.SAdd(P))(x);(M=>P=>{P!=null&&M(P.$0)})(M=>{u5(M)})(B)}if(uu(S,x),!q)for(let B=0,u5=f.childNodes.length-1;B<=u5;B++){const Q=f.childNodes[B];E(Q.nodeType,Node.ELEMENT_NODE)&&(Q.hasAttributes()?cu(S,Q):o(S,Q))}au(S,W),Zr(S,f.parentNode,f),f.parentNode.removeChild(f);return}else return Jr(g)}}}function o(h,f){const $=f.nodeName.toLowerCase(),m=(g,y)=>{if($=="title"&&f.hasChildNodes()){const w=k3(f.textContent);for(f.removeChild(f.firstChild);w.hasChildNodes();)f.appendChild(w.firstChild)}return l(f),Zr(f,g,y)};g5(h,"[ws-attr-holes]",g=>{const y=z5(g.getAttribute("ws-attr-holes"),[" "],1);for(let w=0,_=y.length-1;w<=_;w++){const S=C(y,w);let x=new RegExp("\\${"+$+"}","ig"),W=g.getAttribute(S).replace(x,f.textContent);g.setAttribute(S,W)}});const b=h.querySelector("[ws-hole="+$+"]");if(E(b,null)){const g=h.querySelector("[ws-replace="+$+"]");if(E(g,null)){const y=h.querySelector("slot[name="+$+"]");return h.tagName.toLowerCase()=="template"?(m(y.parentNode,y),void y.parentNode.removeChild(y)):null}else{m(g.parentNode,g),g.parentNode.removeChild(g);return}}else{for(;b.hasChildNodes();)b.removeChild(b.lastChild);return b.removeAttribute("ws-hole"),m(b,null)}}function l(h){h.hasAttribute("ws-preserve")||(mn(h.nodeName.toLowerCase(),"ws-")?c(h):(ti(h),u(h.firstChild)))}function u(h){return n(0,h)}function c(h){return n(1,h)}function d(h){for(;;){const f=h.querySelector("[ws-template]");if(E(f,null)){const $=h.querySelector("[ws-children-template]");if(E($,null)){const m=h.querySelectorAll("template[id]");for(let g=1,y=m.length-1;g<=y;g++){const w=m[g];r.Contains(w)||(Ht(e,N(w.getAttribute("id")),w,null),r.SAdd(w))}const b=h.querySelectorAll("template[name]");for(let g=1,y=b.length-1;g<=y;g++){const w=b[g];r.Contains(w)||(Ht(e,N(w.getAttribute("name")),w,null),r.SAdd(w))}return null}else{const m=$.getAttribute("ws-children-template");$.removeAttribute("ws-children-template"),Ht(e,N(m),$,null),h=h}}else{const $=f.getAttribute("ws-template");Nu(e,N($),f)(null),h=h}}}const p=(t==null?"":t.$0).toLowerCase();Ir(e).set_Item(p,i),i.hasChildNodes()&&(d(i),u(i.firstChild))}function ii(e){e.removeAttribute("ws-template");const t=e.getAttribute("ws-replace");if(t!=null){e.removeAttribute("ws-replace");const s=e.parentNode;if(!E(s,null)){const r=globalThis.document.createElement(e.tagName);r.setAttribute("ws-replace",t),s.replaceChild(r,e)}}const i=globalThis.document.createElement("div");return i.appendChild(e),i}function es(e){const t=globalThis.document.createElement("div"),i=e.content;for(let s=0,r=i.childNodes.length-1;s<=r;s++)t.appendChild(i.childNodes[s].cloneNode(!0));return t}function _u(e){const t=globalThis.document.createElement("div");for(;e.hasChildNodes();)t.appendChild(e.firstChild);return t}function Su(e,t){const i=yu(e,z(t,oi().Values)),s=i[1],r=i[0],n=r.Els;return!E(n,null)&&n.length===1&&C(n,0)instanceof Node&&E(C(n,0).nodeType,Node.ELEMENT_NODE)&&(C(n,0),!0)?T5.TreeNode(r,s):P5.Mk(Nr(r),s)}function yu(e,t){let i;const s=[],r=[],n=[],o=[],l=new N5("New_5"),u=U(t);try{for(;u.MoveNext();){const g=u.Current;l.set_Item(g.Name,g)}}finally{typeof u=="object"&&c5(u)&&u.Dispose()}const c=V3(e),d=(g,y)=>{const w=gr(g,y);r.push(Nn(w)),n.push([g,w]);const _=pt(w.OnAfterRender);if(_==null)return null;{const S=_.$0;o.push(()=>{S(g)});return}},p=g=>{let y;const w=(y=null,[l.TryGetValue(g,{get:()=>y,set:_=>{y=_}}),y]);if(w[0]){const _=w[1];if(_ instanceof ei)return N(_.Value);if(_ instanceof fu)return N(P5.TextNode(_.Value));{const S=_.ForTextView();return S==null?null:N(P5.TextView(S.$0))}}else return null};g5(e,"[ws-hole]",g=>{const y=g.getAttribute("ws-hole");for(g.removeAttribute("ws-hole");g.hasChildNodes();)g.removeChild(g.lastChild);const w=p(y);if(w!=null&&w.$==1){const _=w.$0;Xe(g,_.docNode),s.push(rt.New(ce(g),_.docNode,null,g,dt(),null)),r.push(_.updates)}}),g5(e,"[ws-replace]",g=>{const y=p(g.getAttribute("ws-replace"));if(y!=null&&y.$==1){const w=y.$0,_=g.parentNode,S=globalThis.document.createTextNode("");_.replaceChild(S,g);const x=yn(S,w.docNode),W=Ts(o5=>g===o5,c);W==null||E5(c,W.$0,w.docNode),s.push(rt.New(ce(_),w.docNode,N([x,S]),_,dt(),null)),r.push(w.updates)}});let h=!1;g5(e,"slot",g=>{const y=g.getAttribute("name"),w=y==""||y==null?"default":y.toLowerCase();if(!(h&&w=="default"||!E(e.parentElement,null))){for(;g.hasChildNodes();)g.removeChild(g.lastChild);w=="default"&&(h=!0);const _=p(w);if(_!=null&&_.$==1){const S=_.$0;Xe(g,S.docNode),s.push(rt.New(ce(g),S.docNode,null,g,dt(),null)),r.push(S.updates)}}}),g5(e,"[ws-attr]",g=>{let y;const w=g.getAttribute("ws-attr");g.removeAttribute("ws-attr");const _=(y=null,[l.TryGetValue(w,{get:()=>y,set:S=>{y=S}}),y]);if(_[0]){const S=_[1];S instanceof du?d(g,S.Value):console.warn("Attribute hole filled with non-attribute data",w)}}),g5(e,"[ws-on]",g=>{d(g,v.Concat(Je(y=>{let w;const _=z5(y,[":"],1),S=(w=null,[l.TryGetValue(C(_,1),{get:()=>w,set:x=>{w=x}}),w]);if(S[0]){const x=S[1];return x instanceof pu?N(iu(C(_,0),x.Value)):x instanceof ni?N(v.Handler(C(_,0),x.Value)):(console.warn("Event hole on"+C(_,0)+" filled with non-event data",C(_,1)),null)}else return null},z5(g.getAttribute("ws-on"),[" "],1)))),g.removeAttribute("ws-on")}),g5(e,"[ws-onafterrender]",g=>{let y;const w=g.getAttribute("ws-onafterrender"),_=(y=null,[l.TryGetValue(w,{get:()=>y,set:S=>{y=S}}),y]);if(_[0]){const S=_[1];S instanceof $u||S instanceof ri?(g.removeAttribute("ws-onafterrender"),d(g,ze(S.Value))):console.warn("onafterrender hole filled with non-onafterrender data",w)}}),g5(e,"[ws-var]",g=>{let y;const w=g.getAttribute("ws-var");g.removeAttribute("ws-var");const _=(y=null,[l.TryGetValue(w,{get:()=>y,set:S=>{y=S}}),y]);_[0]&&_[1].AddAttribute(S=>x=>d(S,x),g)});const f=()=>{Tu("[ws-dom]",g=>{let y,w,_;const S=(y=null,[l.TryGetValue(g.getAttribute("ws-dom").toLowerCase(),{get:()=>y,set:x=>{y=x}}),y]);if(S[0]){const x=S[1];if(x instanceof Cr){const W=x.Value;g.removeAttribute("ws-dom"),w=g;const o5=new MutationObserver((q,B)=>{y5(u5=>{u5.removedNodes.forEach(qi(Q=>Q[0]===w&&u5.addedNodes.length!==1?(W.SetFinal(null),B.disconnect()):null),null)},q)});g.parentElement!==null&&o5.observe(g.parentElement,(_={},_.childList=!0,_)),W.Set(N(g)),de(q=>{if(q!=null&&q.$==1){const B=q.$0;w===B||(w.replaceWith(B),w=B)}else w.remove(),o5.disconnect()},W.View)}}})};g5(e,"[ws-attr-holes]",g=>{const y=new RegExp(ge(),"g"),w=z5(g.getAttribute("ws-attr-holes"),[" "],1);g.removeAttribute("ws-attr-holes");for(let _=0,S=w.length-1;_<=S;_++)(()=>{let x;const W=C(w,_),o5=g.getAttribute(W);let q=null,B=0;const u5=[];for(;q=y.exec(o5),q!==null;){const P=et(o5,N(B),N(y.lastIndex-C(q,0).length-1));B=y.lastIndex,u5.push([P,C(q,1)])}const Q=et(o5,N(B),null);y.lastIndex=0;const M=ir((P,H)=>(f5=>{const a5=f5[0],Vt=f5[1];return O5=>{let G;const t5=O5[0],Zt=O5[1],be=(G=null,[l.TryGetValue(Vt,{get:()=>G,set:te=>{G=te}}),G]),Gt=be[0]?be[1].AsChoiceView:hr("");return Gt.$==1?[a5,V.Cons(t5==""?Gt.$0:K(te=>te+t5,Gt.$0),Zt)]:[a5+Gt.$0+t5,Zt]}})(P)(H),u5,[Q,V.Empty]);if(M[1].$==1)if(M[1].$1.$==1)if(M[1].$1.$1.$==1)if(M[1].$1.$1.$1.$==0){const P=M[0];x=ne(W,S6((H,f5,a5)=>P+H+f5+a5,M[1].$0,M[1].$1.$0,M[1].$1.$1.$0))}else{const P=M[0];x=ne(W,K(H=>P+M5("",H),f6(M[1])))}else{const P=M[0];x=ne(W,y6((H,f5)=>P+H+f5,M[1].$0,M[1].$1.$0))}else if(M[0]=="")x=ne(W,M[1].$0);else{const P=M[0];x=ne(W,K(H=>P+H,M[1].$0))}else x=v.Create(W,M[0]);return d(g,x)})()});const $=o.length==0?N(()=>{f()}):N(g=>{f(),y5(y=>{y(g)},o)}),m=!E(c,null)&&c.length===1&&C(c,0)instanceof Node&&C(c,0)instanceof Element&&(i=C(c,0),!0)?N(i):null;return[ds({Els:c,Dirty:!0,Holes:s,Attrs:n,Render:$?$.$0:void 0,El:m?m.$0:void 0},["Render","El"]),Yt(X5(),j5,r)]}function Tu(e,t){Dl(e,i=>{i.closest("[ws-preserve]")==null&&t(i)})}function g5(e,t,i){Ml(e,t,s=>{s.closest("[ws-preserve]")==null&&i(s)})}function ge(){return Lt.TextHoleRE}function oi(){return Lt.GlobalHoles}function Cu(){return Lt.LocalTemplatesLoaded}function Iu(e){Lt.LocalTemplatesLoaded=e}function Ir(e){let t;const i=(t=null,[Ne().TryGetValue(e,{get:()=>t,set:s=>{t=s}}),t]);if(i[0])return i[1];{const s=new N5("New_5");return Ne().set_Item(e,s),s}}function Ne(){return Lt.LoadedTemplates}let L5=I(e=>{var t;return t=class extends Y{constructor(r,n){super();a(this,"id");a(this,"vars");this.id=r,this.vars=n}static applyVarHole(r,n){n.ApplyVarHole(r)}static applyTypedVarHole(r,n,o){const l=r(n);l[0](o),de(l[1](o),l[2])}static Create(r){return new t("",r)}static GetInstance(r){return L5.instances.Item(r)}static GetOrAddHoleFor(r,n,o){let l;const u=L5.GetHolesFor(r),c=(l=null,[u.TryGetValue(n,{get:()=>l,set:d=>{l=d}}),l]);if(c[0])return c[1];{const d=o();return u.set_Item(n,d),d}}static GetHolesFor(r){let n;const o=(n=null,[L5.initialized.TryGetValue(r,{get:()=>n,set:l=>{n=l}}),n]);if(o[0])return o[1];{const l=new N5("New_5");return L5.initialized.set_Item(r,l),l}}static get Initialized(){return L5.initialized}get Id(){return this.id}InitInstance(r){const n=L5.GetHolesFor(r),o=this.vars;for(let u=0,c=o.length-1;u<=c;u++)(()=>{let d;const p=C(o,u),h=p[1],f=p[2],$=p[0];if(n.ContainsKey($))return null;if(h===0){const m=f==null?null:N(f.$0);let b=l5.Create_1(m==null?"":m.$0);d=new Ye($,b)}else if(h===1){const m=f==null?null:N(f.$0);let b=l5.Create_1(m==null?0:m.$0);d=new j3($,b)}else if(h===2){const m=f==null?null:N(f.$0);let b=l5.Create_1(m==null?!1:m.$0);d=new K3($,b)}else if(h===3){const m=f==null?null:N(f.$0);let b=l5.Create_1(m==null?-864e13:m.$0);d=new X3($,b)}else if(h===4){const m=f==null?null:N(f.$0);let b=l5.Create_1(m==null?[]:m.$0);d=new z3($,b)}else if(h===5){const m=f==null?null:N(f.$0),b=globalThis.document.querySelector("[ws-dom="+$+"]");let g=N(m==null?b:m.$0),y=l5.Create_1(g);d=new Cr($,y)}else if(h===6){const m=f==null?null:N(f.$0);let b=l5.Create_1(m==null?[]:m.$0);d=new Y3($,b)}else d=F("Invalid value type");return n.set_Item($,d)})();const l=new J3({$:0,$0:n},P5.Empty);return L5.instances.set_Item(r,l),l}$postinit(r){si([])}$init(r){}$preinit(r){const n=this.InitInstance(r),o=globalThis.document.querySelectorAll("[ws-var^='"+r+"::']");for(let l=0,u=o.length-1;l<=u;l++){const c=o[l],d=c.getAttribute("ws-var"),p=n.Hole(et(d,N(r.length+2),null)),h=p.WithName(d);oi().set_Item(h.Name,h),L5.applyVarHole(c,p)}}},L5=e(t),a(t,"init"),a(t,"initialized"),a(t,"instances"),L5.initialized=new N5("New_5"),L5.instances=new N5("New_5"),t});const St=L5;function bu(e,t,i){const s=new N5("New_5"),r=new Q5("New_3"),n=U(t);try{for(;n.MoveNext();){const o=n.Current,l=o.Name;r.SAdd(l),s.set_Item(l,o)}}finally{typeof n=="object"&&c5(n)&&n.Dispose()}return[z(t,Je(o=>{const l=o[0],u=o[1];if(r.Contains(l))return null;{const c=u===0?St.GetOrAddHoleFor(e,l,()=>new Ye(l,l5.Create_1(""))):u===1?St.GetOrAddHoleFor(e,l,()=>new j3(l,l5.Create_1(0))):u===2?St.GetOrAddHoleFor(e,l,()=>new K3(l,l5.Create_1(!1))):u===3?St.GetOrAddHoleFor(e,l,()=>new X3(l,l5.Create_1(-864e13))):u===4?St.GetOrAddHoleFor(e,l,()=>new z3(l,l5.Create_1([]))):u===5?St.GetOrAddHoleFor(e,l,()=>new Cr(l,l5.Create_1(N(globalThis.document.querySelector("[ws-dom="+l+"]"))))):u===6?St.GetOrAddHoleFor(e,l,()=>new Y3(l,l5.Create_1([]))):F("Invalid value type");return s.set_Item(l,c),N(c)}},i)),{$:0,$0:s}]}function Eu(e,t,i,s){return new ri(t,r=>{const n=i();n.SetAnchorRoot(r),s({Vars:n,Anchors:n,Target:r,Event:null})})}function U5(e,t,i,s){return new ni(t,r=>n=>{const o=i();return o.SetAnchorRoot(r),s({Vars:o,Anchors:o,Target:r,Event:n})})}let Dn=I(e=>{var t;return R(X),t=class extends X{constructor(r,n){super();a(this,"name");a(this,"fillWith");this.name=r,this.fillWith=n}get Value(){return this.fillWith}ForTextView(){return N(this.fillWith)}get AsChoiceView(){return Pt(this.fillWith)}WithName(r){return new Dn(r,this.fillWith)}get ValueObj(){return this.Value}get Name(){return this.name}},Dn=e(t),t});const ns=Dn;function Au(e,t,i,s,r,n,o,l){return{CanvasX:e,CanvasY:t,CurrentX:i,CurrentY:s,Direction:r,PenDown:n,Ctx:o,Console:l}}function vu(e){return{$:5,$0:e}}function Pu(e){return{$:4,$0:e}}function Qe(e){return{$:3,$0:e}}function Z5(e){return{$:2,$0:e}}function at(e){return{$:1,$0:e}}let $5={$:0};function xu(e){const t=O().Direction/180*3.141592653589793;O().PenDown?li(O().CurrentX-e*Math.cos(t),O().CurrentY+e*Math.sin(t)):br(O().CurrentX-e*Math.cos(t),O().CurrentY+e*Math.sin(t))}function Fu(e){const t=O().Direction/180*3.141592653589793;O().PenDown?li(O().CurrentX+e*Math.cos(t),O().CurrentY-e*Math.sin(t)):br(O().CurrentX+e*Math.cos(t),O().CurrentY-e*Math.sin(t))}function Lu(e){O().Direction=O().Direction-e}function ku(e){O().Direction=O().Direction+e}function li(e,t){O().Ctx.beginPath(),O().Ctx.moveTo(O().CurrentX,O().CurrentY),O().Ctx.lineTo(e,t),O().Ctx.stroke(),br(e,t)}function br(e,t){O().CurrentX=e,O().CurrentY=t}let Mn=I(e=>{var t;return R(Error),t=class extends Error{constructor(){super(...arguments);a(this,"v");a(this,"Data1")}static New(r,n){return L(Mn,{v:r,Data1:n})}},Mn=e(t),t});const lt=Mn;let On=I(e=>{var t;return R(Error),t=class extends Error{constructor(){super(...arguments);a(this,"Data0");a(this,"Data1")}static New(r,n){return L(On,{Data0:r,Data1:n})}},On=e(t),t});const ui=On;let Un=I(e=>{var t;return R(Error),t=class extends Error{constructor(){super(...arguments);a(this,"Data0");a(this,"Data1")}static New(r,n){return L(Un,{Data0:r,Data1:n})}},Un=e(t),t});const ci=Un;function Wn(e,t){for(;;)if(t.$==5)t=t.$0;else{if(t.$==4)throw ui.New(t,e);if(t.$==0)throw ci.New(t,e);return t.$==1?String(t.$0):t.$==3?t.$0:String(t.$0)}}function ai(e,t,i){function s(r,n){for(;;)if(n.$==1){const o=n.$1,l=n.$0,u=e(r,l),c=u[0];if(u[1])return[c,!0];r=c,n=o}else return[r,!1]}return s(t,i)}let hi=I(e=>{var t;return t=class{},hi=e(t),a(t,"Core"),a(t,"State"),t.State=Au(1e3,1e3,500,500,90,!0,null,null),t.Core=s5([[s5(["home"]),s=>()=>()=>(O().CurrentX=500,O().CurrentY=500,[[s,$5],!1])],[s5(["rt","right"]),s=>r=>n=>{let o;if(n.$==1&&n.$0.$==1&&n.$1.$==0&&(o=n.$0.$0,!0))Lu(o);else throw lt.New(n,r);return[[s,$5],!1]}],[s5(["lt","left"]),s=>r=>n=>{let o;if(n.$==1&&n.$0.$==1&&n.$1.$==0&&(o=n.$0.$0,!0))ku(o);else throw lt.New(n,r);return[[s,$5],!1]}],[s5(["fd","forward"]),s=>r=>n=>{let o;if(n.$==1&&n.$0.$==1&&n.$1.$==0&&(o=n.$0.$0,!0))Fu(o);else throw lt.New(n,r);return[[s,$5],!1]}],[s5(["bk","back"]),s=>r=>n=>{let o;if(n.$==1&&n.$0.$==1&&n.$1.$==0&&(o=n.$0.$0,!0))xu(o);else throw lt.New(n,r);return[[s,$5],!1]}],[s5(["pu","penup"]),s=>r=>n=>{if(n.$==0)O().PenDown=!1;else throw lt.New(n,r);return[[s,$5],!1]}],[s5(["pd","pendown"]),s=>r=>n=>{if(n.$==0)O().PenDown=!0;else throw lt.New(n,r);return[[s,$5],!1]}],[s5(["print"]),s=>r=>n=>(fo(o=>{const l=Wn(r,o);O().Console!=null&&w5(O().Console.$0,l+`
`)},n),[[s,$5],!1])]]),t});const fi=hi;function Vu(){return fi.Core}function Gu(){O().CanvasX=1e3,O().CanvasY=1e3,O().CurrentX=500,O().CurrentY=500,O().Direction=90,O().PenDown=!0}function O(){return fi.State}function Ru(){return null}function Dt(e,t){return{fillSync:e,fillAsync:t}}class C5{constructor(){a(this,"pos_fname");a(this,"pos_lnum");a(this,"pos_orig_lnum");a(this,"pos_bol");a(this,"pos_cnum")}static FirstLine(t){return C5.New(t,1,1,0,0)}static get Empty(){return C5.New("",0,0,0,0)}ShiftColumnBy(t){return C5.New(this.pos_fname,this.pos_lnum,this.pos_orig_lnum,this.pos_bol,this.pos_cnum+t)}AsNewLinePos(){return this.NextLine}EndOfToken(t){return C5.New(this.pos_fname,this.pos_lnum,this.pos_orig_lnum,this.pos_bol,this.pos_cnum+t)}get NextLine(){return C5.New(this.pos_fname,this.pos_lnum+1,this.pos_orig_lnum+1,this.pos_bol,this.pos_cnum)}get Column(){return this.pos_cnum-this.pos_bol}get StartOfLineAbsoluteOffset(){return this.pos_bol}get StartOfLine(){return this.pos_bol}get AbsoluteOffset(){return this.pos_cnum}get Char(){return this.pos_cnum}get OriginalLine(){return this.pos_orig_lnum}get Line(){return this.pos_lnum}get FileName(){return this.pos_fname}static New(t,i,s,r,n){return L(C5,{pos_fname:t,pos_lnum:i,pos_orig_lnum:s,pos_bol:r,pos_cnum:n})}}let le=I(e=>{var t;return t=class extends Y{constructor(r){super();a(this,"filler");a(this,"context");a(this,"buffer");a(this,"bufferMaxScanLength");a(this,"bufferScanStart");a(this,"bufferScanLength");a(this,"lexemeLength");a(this,"bufferAcceptAction");a(this,"eof");a(this,"startPos");a(this,"endPos");this.filler=r,this.context=new N5("New_4",1),this.buffer=[],this.bufferMaxScanLength=0,this.bufferScanStart=0,this.bufferScanLength=0,this.lexemeLength=0,this.bufferAcceptAction=0,this.eof=!1,this.startPos=C5.Empty,this.endPos=C5.Empty}static FromStream(r){let n,o;const l=N(p=>r.Read(p[0],p[1],p[2])),u=N(p=>Ru(r,p[0],N(p[1]),N(p[2]))),c=p5(4096,0);if(l!=null&&l.$==1){const p=l.$0;n=N(h=>{const f=p([c,0,k(c)]);if(h.BufferScanPos+f>=k(h.buffer)){const $=p5(h.BufferScanPos+f,0);d5(h.buffer,h.bufferScanStart,$,h.bufferScanStart,h.bufferScanLength),h.buffer=$}d5(c,0,h.Buffer,h.BufferScanPos,f),h.BufferMaxScanLength=h.BufferScanLength+f})}else n=null;if(u!=null&&u.$==1){const p=u.$0;o=N(h=>nt(()=>ft(p([c,0,k(c)]),f=>{if(h.BufferScanPos+f>=k(h.buffer)){const $=p5(h.BufferScanPos+f,0);d5(h.buffer,h.bufferScanStart,$,h.bufferScanStart,h.bufferScanLength),h.buffer=$}return d5(c,0,h.Buffer,h.BufferScanPos,f),h.BufferMaxScanLength=h.BufferScanLength+f,Et()})))}else o=null;let d=Dt(n,o);return new t(d)}static FromBinaryReader(r){let n,o;const l=N(d=>r.Read(d[0],d[1],d[2])),u=p5(4096,0);if(l!=null&&l.$==1){const d=l.$0;n=N(p=>{const h=d([u,0,k(u)]);if(p.BufferScanPos+h>=k(p.buffer)){const f=p5(p.BufferScanPos+h,0);d5(p.buffer,p.bufferScanStart,f,p.bufferScanStart,p.bufferScanLength),p.buffer=f}d5(u,0,p.Buffer,p.BufferScanPos,h),p.BufferMaxScanLength=p.BufferScanLength+h})}else n=null;o=null;let c=Dt(n,o);return new t(c)}static FromTextReader(r){let n,o;const l=N(h=>r.Read(h[0],h[1],h[2])),u=(h,f,$)=>r.ReadAsync(h,f,$),c=N(h=>Ho(u.apply(null,h))),d=p5(4096,null);if(l!=null&&l.$==1){const h=l.$0;n=N(f=>{const $=h([d,0,k(d)]);if(f.BufferScanPos+$>=k(f.buffer)){const m=p5(f.BufferScanPos+$,null);d5(f.buffer,f.bufferScanStart,m,f.bufferScanStart,f.bufferScanLength),f.buffer=m}d5(d,0,f.Buffer,f.BufferScanPos,$),f.BufferMaxScanLength=f.BufferScanLength+$})}else n=null;if(c!=null&&c.$==1){const h=c.$0;o=N(f=>nt(()=>ft(h([d,0,k(d)]),$=>{if(f.BufferScanPos+$>=k(f.buffer)){const m=p5(f.BufferScanPos+$,null);d5(f.buffer,f.bufferScanStart,m,f.bufferScanStart,f.bufferScanLength),f.buffer=m}return d5(d,0,f.Buffer,f.BufferScanPos,$),f.BufferMaxScanLength=f.BufferScanLength+$,Et()})))}else o=null;let p=Dt(n,o);return new t(p)}static FromString(r){return le.FromArray(v6(r))}static FromChars(r){return le.FromArray(r.slice())}static FromBytes(r){return le.FromArray(r.slice())}static FromArray(r){const n=new t(Dt(N(()=>{}),N(()=>nt(()=>Xt(null)))));return n.Buffer=r,n.BufferMaxScanLength=k(r),n}static FromByteFunction(r){let n,o;const l=N(d=>{const p=d[2],h=p5(p,0),f=r(h,p);return d5(h,0,d[0],d[1],p),f}),u=p5(4096,0);if(l!=null&&l.$==1){const d=l.$0;n=N(p=>{const h=d([u,0,k(u)]);if(p.BufferScanPos+h>=k(p.buffer)){const f=p5(p.BufferScanPos+h,0);d5(p.buffer,p.bufferScanStart,f,p.bufferScanStart,p.bufferScanLength),p.buffer=f}d5(u,0,p.Buffer,p.BufferScanPos,h),p.BufferMaxScanLength=p.BufferScanLength+h})}else n=null;o=null;let c=Dt(n,o);return new t(c)}static FromCharFunction(r){let n,o;const l=N(d=>{const p=d[2],h=p5(p,null),f=r(h,p);return d5(h,0,d[0],d[1],p),f}),u=p5(4096,null);if(l!=null&&l.$==1){const d=l.$0;n=N(p=>{const h=d([u,0,k(u)]);if(p.BufferScanPos+h>=k(p.buffer)){const f=p5(p.BufferScanPos+h,null);d5(p.buffer,p.bufferScanStart,f,p.bufferScanStart,p.bufferScanLength),p.buffer=f}d5(u,0,p.Buffer,p.BufferScanPos,h),p.BufferMaxScanLength=p.BufferScanLength+h})}else n=null;o=null;let c=Dt(n,o);return new t(c)}static LexemeString(r){const n=r.Buffer,o=r.BufferScanStart;return n.slice(o,o+r.LexemeLength).join("")}discardInput(){d5(this.buffer,this.bufferScanStart,this.buffer,0,this.bufferScanLength),this.bufferScanStart=0,this.bufferMaxScanLength=this.bufferScanLength}extendBufferAsync(r,n){const o=this.filler.fillAsync;return o==null?We("attempt to read asynchronously from a synchronous lex buffer"):o.$0(r)}extendBufferSync(r,n){const o=this.filler.fillSync;o==null?We("attempt to read synchronously from an asynchronous lex buffer"):o.$0(r)}get BufferScanPos(){return this.bufferScanStart+this.bufferScanLength}DiscardInput(){this.discardInput()}set IsPastEndOfStream(r){this.eof=r}get IsPastEndOfStream(){return this.eof}get AsyncRefillBuffer(){return()=>this.extendBufferAsync(this,void 0)}get RefillBuffer(){return()=>{this.extendBufferSync(this,void 0)}}set BufferAcceptAction(r){this.bufferAcceptAction=r}get BufferAcceptAction(){return this.bufferAcceptAction}set BufferScanStart(r){this.bufferScanStart=r}get BufferScanStart(){return this.bufferScanStart}set BufferScanLength(r){this.bufferScanLength=r}get BufferScanLength(){return this.bufferScanLength}set BufferMaxScanLength(r){this.bufferMaxScanLength=r}get BufferMaxScanLength(){return this.bufferMaxScanLength}set Buffer(r){this.buffer=r}get Buffer(){return this.buffer}set LexemeLength(r){this.lexemeLength=r}get LexemeLength(){return this.lexemeLength}get BufferLocalStore(){return this.context}LexemeChar(r){return C(this.buffer,r+this.bufferScanStart)}get Lexeme(){return Do(this.buffer,this.bufferScanStart,this.lexemeLength)}set EndPos(r){this.endPos=r}get EndPos(){return this.endPos}set StartPos(r){this.startPos=r}get StartPos(){return this.startPos}EndOfScan(){return this.bufferAcceptAction<0&&F("unrecognized input"),this.StartPos=this.endPos,this.EndPos=this.endPos.EndOfToken(this.LexemeLength),this.bufferAcceptAction}},le=e(t),t});const di=le;function rs(e){return{$:1,$0:e}}function Du(e){return{$:0,$0:e}}let pi=I(e=>{var t;return t=class extends Y{constructor(r){super();a(this,"contents");a(this,"count");this.contents=Oe(r,()=>{}),this.count=0}get IsEmpty(){return this.count===0}Push(r){this.Ensure(this.count+1),E5(this.contents,this.count,r),this.count=this.count+1}Top(r){return Ut(V5(v5(()=>{let n=this.contents;const o=0,l=this.count-r;let u=R5(o,l)===1?o:l,c=N(u),d=Xi(n,c,N(this.count-1));return h5(p=>p,d)})))}Peep(){return C(this.contents,this.count-1)}Pop(){this.count=this.count-1}get Count(){return this.count}Ensure(r){const n=this.contents.length;if(r>n){const o=this.contents,l=n*2;let u=R5(r,l)===1?r:l,c=Oe(u,()=>{});this.contents=c,d5(o,0,this.contents,0,this.count)}}},pi=e(t),t});const ss=pi;let $i=I(e=>{var t;return t=class extends Y{constructor(r,n){super();a(this,"elemTab");a(this,"offsetTab");a(this,"cache");this.elemTab=r,this.offsetTab=n,this.cache=new N5("New_4",2e3)}ReadAll(r){const n=r5(C(this.offsetTab,r)),o=n+1,l=r5(C(this.elemTab,n*2)),u=r5(C(this.elemTab,n*2+1));return[V5(v5(()=>h5(c=>[r5(C(this.elemTab,c*2)),r5(C(this.elemTab,c*2+1))],wt(o,o+l-1)))),u]}Read(r,n){let o=0;const l=r<<16|n;if(this.cache.TryGetValue(l,{get:()=>o,set:u=>{o=u}}))return o;{const u=r5(C(this.offsetTab,r)),c=u+1,d=this.readAssoc(c,c+r5(C(this.elemTab,u*2)),r5(C(this.elemTab,u*2+1)),n);return this.cache.set_Item(l,d),d}}readAssoc(r,n,o,l){for(;;){const u=(r+n)/2>>0;if(u===n)return o;{const c=r5(C(this.elemTab,u*2));if(l===c)return r5(C(this.elemTab,u*2+1));l<c?n=u:r=u+1}}}},$i=e(t),t});const is=$i;let wi=I(e=>{var t;return t=class extends Y{constructor(r,n){super();a(this,"elemTab");a(this,"offsetTab");this.elemTab=r,this.offsetTab=n}ReadAll(r){const n=r5(C(this.offsetTab,r)),o=n+1,l=r5(C(this.elemTab,n));return V5(v5(()=>h5(u=>r5(C(this.elemTab,u)),wt(o,o+l-1))))}},wi=e(t),t});const Mu=wi;let Hn=I(e=>{var t;return R(Error),t=class extends Error{static New(){return L(Hn,{})}},Hn=e(t),t});const os=Hn;let mi=I(e=>{var t;return t=class{},mi=e(t),a(t,"parse_error_rich"),a(t,"actionMask"),a(t,"acceptFlag"),a(t,"errorFlag"),a(t,"reduceFlag"),a(t,"shiftFlag"),a(t,"anyMarker"),t.anyMarker=65535,t.shiftFlag=0,t.reduceFlag=16384,t.errorFlag=32768,t.acceptFlag=49152,t.actionMask=49152,t.parse_error_rich=null,t});const kt=mi;function yt(e){return e&gi()}function Pe(e){return e&~gi()}function gi(){return kt.actionMask}function Ou(){return kt.acceptFlag}function Uu(){return kt.errorFlag}function ln(){return kt.reduceFlag}function re(){return kt.shiftFlag}function Wu(){return kt.anyMarker}let Ni=I(e=>{var t;return t=class{constructor(s,r,n,o){a(this,"value");a(this,"startPos");a(this,"endPos");if(s=="New_1"){const l=r,u=n,c=o;this.value=l,this.startPos=u,this.endPos=c}s=="New"&&(this.value=null,this.startPos=null,this.endPos=null)}static New(){return new this("New")}static New_1(s,r,n){return new this("New_1",s,r,n)}},Ni=e(t),t});const xe=Ni;let qn=I(e=>{var t;return R(Error),t=class extends Error{constructor(){super(...arguments);a(this,"Data0")}static New(r){return L(qn,{Data0:r})}},qn=e(t),t});const Bn=qn;function Hu(e,t,i,s,r){return{Node:e,Left:t,Right:i,Height:s,Count:r}}function qu(e,t){const i=Ie(e,t)[0];return i==null?null:N(i.Node)}function _i(e,t){return Ie(e,t)[0]!=null}function Bu(e,t,i){const s=Ie(e,i),r=s[0],n=s[1];if(r==null){const o=t(null);return o==null?i:K5(n,m5(o.$0,null,null))}else{const o=t(N(r.Node));if(o==null){if(r.Right==null)return K5(n,r.Left);if(r.Left==null)return K5(n,r.Right);{const l=n5(z(Y5(!1,r.Left),Y5(!1,r.Right)));let u=vt(l,0,l.length-1);return K5(n,u)}}else return K5(n,m5(o.$0,r.Left,r.Right))}}function Si(e,t){return ju((i,s)=>s,e,t)}function yi(e,t){const i=Ie(e,t),s=i[0],r=i[1];if(s==null)return t;if(s.Right==null)return K5(r,s.Left);if(s.Left==null)return K5(r,s.Right);{const n=n5(z(Y5(!1,s.Left),Y5(!1,s.Right)));let o=vt(n,0,n.length-1);return K5(r,o)}}function ju(e,t,i){const s=Ie(t,i),r=s[0];return r==null?K5(s[1],m5(t,null,null)):K5(s[1],m5(e(r.Node,t),r.Left,r.Right))}function K5(e,t){const i=r=>r==null?0:r.Height;let s=t;for(let r=0,n=k(e)-1;r<=n;r++){const o=C(e,r);if(o[0]){const l=o[1],u=o[2];if(i(s)>i(u)+1)if(i(s.Left)===i(s.Right)+1){const c=s.Left;s=m5(c.Node,m5(l,u,c.Left),m5(s.Node,c.Right,s.Right))}else s=m5(s.Node,m5(l,u,s.Left),s.Right);else s=m5(l,u,s)}else{const l=o[1],u=o[2];if(i(s)>i(u)+1)if(i(s.Right)===i(s.Left)+1){const c=s.Right;s=m5(c.Node,m5(s.Node,s.Left,c.Left),m5(l,c.Right,u))}else s=m5(s.Node,s.Left,m5(l,s.Right,u));else s=m5(l,s,u)}}return s}function Ie(e,t){let i=[],s=t,r=!0;for(;r;)if(s==null)r=!1;else{const n=R5(e,s.Node);n===0?r=!1:n===1?(i.unshift([!0,s.Node,s.Left]),s=s.Right):(i.unshift([!1,s.Node,s.Right]),s=s.Left)}return[s,i]}function ae(e){const t=n5(wo(e));return Cs(t),vt(t,0,t.length-1)}function vt(e,t,i){if(i-t+1<=0)return null;{const s=(t+i)/2>>0;return m5(C(e,s),vt(e,t,s-1),vt(e,s+1,i))}}function Y5(e,t){function i(s,r){let n;for(;;){if(s==null)return r.$==1?N([r.$0[0],[r.$0[1],r.$1]]):null;e?(n=s,s=n.Right,r=V.Cons([n.Node,n.Left],r)):(n=s,s=n.Left,r=V.Cons([n.Node,n.Right],r))}}return Ao(s=>i(s[0],s[1]),[t,V.Empty])}function m5(e,t,i){const s=t==null?0:t.Height,r=i==null?0:i.Height;let o=1+(R5(s,r)===1?s:r);return Hu(e,t,i,o,1+(t==null?0:t.Count)+(i==null?0:i.Count))}function ls(e,t){const i=n5(go(e,t));let s=vt(i,0,i.length-1);return new Ti("New_1",s)}let ue=I(e=>{var i;return i=class extends Y{constructor(n,o){var r=(...t)=>{super(...t);a(this,"tree")};let l;if(n=="New"&&(l=o,n="New_1",o=ae(l)),n=="New_1"){const u=o;r(),this.tree=u}}GetEnumerator(){return U(Y5(!1,this.tree))}get Count(){const n=this.tree;return n==null?0:n.Count}Equals(n){return this.Count===n.Count&&vs(E,this,n)}GetHashCode(){return-1741749453+st(n5(this))}static op_Subtraction(n,o){return ls(l=>!o.Contains(l),n)}static op_Addition(n,o){return new i("New_1",ae(z(n,o)))}Remove_1(n){return new ue("New_1",yi(n,this.tree))}get MinimumElement(){return fn(Y5(!1,this.tree))}get MaximumElement(){return fn(Y5(!0,this.tree))}IsSupersetOf(n){return Ue(o=>this.Contains(o),n)}IsSubsetOf(n){return Ue(o=>n.Contains(o),this)}IsProperSupersetOf(n){return this.IsSupersetOf(n)&&this.Count>n.Count}IsProperSubsetOf(n){return this.IsSubsetOf(n)&&this.Count<n.Count}get Tree(){return this.tree}get IsEmpty(){return this.tree==null}Contains(n){return _i(n,this.tree)}Add_1(n){return new ue("New_1",Si(n,this.tree))}sub(n){return ls(o=>!n.Contains(o),this)}add(n){return new ue("New_1",ae(z(this,n)))}Remove(n){return F("Set values cannot be mutated.")}CopyTo(n,o){_e(n5(this),n,o)}Clear(){F("Set values cannot be mutated.")}Add(n){F("Set values cannot be mutated.")}get IsReadOnly(){return!0}CompareTo0(n){return Es(R5,this,n)}static New(n){return new this("New",n)}static New_1(n){return new this("New_1",n)}},ue=e(i),i});const Ti=ue;let Ci=I(e=>{var t;return t=class extends Y{constructor(r,n,o,l,u,c,d){super();a(this,"stateStack");a(this,"parseState");a(this,"reduceTokens");a(this,"currentToken");a(this,"reducibleProductions");a(this,"shiftableTokens");a(this,"message");this.stateStack=r,this.parseState=n,this.reduceTokens=o,this.currentToken=l,this.reducibleProductions=u,this.shiftableTokens=c,this.message=d}get Message(){return this.message}get ShiftTokens(){return this.shiftableTokens}get ReducibleProductions(){return this.reducibleProductions}get ParseState(){return this.parseState}get CurrentToken(){return this.currentToken}get ReduceTokens(){return this.reduceTokens}get StateStack(){return this.stateStack}},Ci=e(t),t});const Ku=Ci;function e5(e){if(e===null)return"null";{const t=typeof e;if(t=="string")return'"'+e+'"';if(t=="object"){if(e instanceof Array)return"[|"+M5("; ",G5(e5,e))+"|]";{const i=String(e);return i=="[object Object]"?"{"+M5("; ",G5(s=>s[0]+" = "+e5(s[1]),Ji(e)))+"}":i}}else return String(e)}}function A5(e,t){return"["+M5("; ",h5(e,t))+"]"}function q5(e){return e??""}class A{constructor(){a(this,"Filename");a(this,"StartLine");a(this,"StartColumn");a(this,"EndLine");a(this,"EndColumn")}static union(t,i){return A.New(t.Filename,t.StartLine,t.StartColumn,i.EndLine,i.EndColumn)}static ofToken(t){const i=t.StartPos,s=t.EndPos;return A.New(i.FileName,i.Line,i.Column,s.Line,s.Column)}static Dummy(){return A.New("<dummy>",1,1,1,1)}get ToString(){return'"'+q5(this.Filename)+'" '+String(this.StartLine)+":"+String(this.StartColumn)+"-"+String(this.EndLine)+":"+String(this.EndColumn)}static New(t,i,s,r,n){return L(A,{Filename:t,StartLine:i,StartColumn:s,EndLine:r,EndColumn:n})}}function Xu(e,t){return{$:8,$0:e,$1:t}}function un(e,t,i){return{$:7,$0:e,$1:t,$2:i}}function zu(e,t){return{$:6,$0:e,$1:t}}function Yu(e,t,i){return{$:5,$0:e,$1:t,$2:i}}function Qu(e,t,i){return{$:4,$0:e,$1:t,$2:i}}function Ju(e,t,i,s){return{$:3,$0:e,$1:t,$2:i,$3:s}}function Zu(e,t,i){return{$:2,$0:e,$1:t,$2:i}}function tc(e,t,i){return{$:1,$0:e,$1:t,$2:i}}function ec(e,t,i,s){return{$:0,$0:e,$1:t,$2:i,$3:s}}class j{static NotEq(t,i,s){return L(j,{$:15,$0:t,$1:i,$2:s})}static Eq(t,i,s){return L(j,{$:14,$0:t,$1:i,$2:s})}static Le(t,i,s){return L(j,{$:13,$0:t,$1:i,$2:s})}static Ge(t,i,s){return L(j,{$:12,$0:t,$1:i,$2:s})}static Lt(t,i,s){return L(j,{$:11,$0:t,$1:i,$2:s})}static Gt(t,i,s){return L(j,{$:10,$0:t,$1:i,$2:s})}static Div(t,i,s){return L(j,{$:9,$0:t,$1:i,$2:s})}static Mul(t,i,s){return L(j,{$:8,$0:t,$1:i,$2:s})}static Sub(t,i,s){return L(j,{$:7,$0:t,$1:i,$2:s})}static Add(t,i,s){return L(j,{$:6,$0:t,$1:i,$2:s})}static List(t,i){return L(j,{$:5,$0:t,$1:i})}static FunCall(t,i,s){return L(j,{$:4,$0:t,$1:i,$2:s})}static Text(t,i){return L(j,{$:3,$0:t,$1:i})}static Word(t,i){return L(j,{$:2,$0:t,$1:i})}static Number(t,i){return L(j,{$:1,$0:t,$1:i})}static Var(t,i){return L(j,{$:0,$0:t,$1:i})}get Pos(){return this.$==1?this.$1:this.$==2?this.$1:this.$==3?this.$1:this.$==4?this.$2:this.$==6?this.$2:this.$==7?this.$2:this.$==8?this.$2:this.$==9?this.$2:this.$==10?this.$2:this.$==11?this.$2:this.$==12?this.$2:this.$==13?this.$2:this.$==14?this.$2:this.$==15?this.$2:this.$==5?this.$1:this.$1}}function nc(e,t,i,s,r,n,o,l,u,c,d,p,h,f,$,m){return{reductions:e,endOfInputTag:t,tagOfToken:i,dataOfToken:s,actionTableElements:r,actionTableRowOffsets:n,reductionSymbolCounts:o,immediateActions:l,gotos:u,sparseGotoTableRowOffsets:c,stateToProdIdxsTableElements:d,stateToProdIdxsTableRowOffsets:p,productionToNonTerminalTable:h,parseError:f,numTerminals:$,tagOfErrorTerminal:m}}function rc(){return kt.parse_error_rich}let Ii=I(e=>{var t;return t=class{},Ii=e(t),a(t,"tables"),a(t,"_fsyacc_reductions"),a(t,"_fsyacc_immediateActions"),a(t,"_fsyacc_productionToNonTerminalTable"),a(t,"_fsyacc_reductionSymbolCounts"),a(t,"_fsyacc_actionTableRowOffsets"),a(t,"_fsyacc_actionTableElements"),a(t,"_fsyacc_action_rows"),a(t,"_fsyacc_stateToProdIdxsTableRowOffsets"),a(t,"_fsyacc_stateToProdIdxsTableElements"),a(t,"_fsyacc_sparseGotoTableRowOffsets"),a(t,"_fsyacc_gotos"),a(t,"_fsyacc_tagOfErrorTerminal"),a(t,"_fsyacc_endOfInputTag"),t._fsyacc_endOfInputTag=31,t._fsyacc_tagOfErrorTerminal=29,t._fsyacc_gotos=[0,65535,0,65535,1,65535,0,1,4,65535,0,40,9,40,39,41,42,40,1,65535,42,43,3,65535,0,4,9,10,42,38,3,65535,0,39,9,39,42,39,4,65535,13,14,16,17,19,20,20,21,23,65535,2,49,12,49,15,49,18,49,23,49,26,49,30,49,32,49,34,49,50,49,52,49,56,49,71,49,72,49,73,49,74,49,75,49,76,49,77,49,78,49,79,49,80,49,82,49,23,65535,2,3,12,13,15,16,18,19,23,24,26,27,30,31,32,33,34,69,50,51,52,69,56,69,71,59,72,60,73,61,74,62,75,63,76,64,77,65,78,66,79,67,80,68,82,70,1,65535,56,57,3,65535,34,36,52,54,56,81,3,65535,34,82,52,82,56,82,1,65535,8,9,1,65535,8,83,1,65535,8,84],t._fsyacc_sparseGotoTableRowOffsets=[0,1,2,4,9,11,15,19,24,48,72,74,78,82,84,86],t._fsyacc_stateToProdIdxsTableElements=[1,0,1,0,1,1,11,1,30,31,32,33,34,35,36,37,38,39,1,2,1,2,1,3,1,4,1,4,1,4,1,4,1,4,1,5,11,5,30,31,32,33,34,35,36,37,38,39,1,5,1,6,11,6,30,31,32,33,34,35,36,37,38,39,1,6,1,7,11,7,30,31,32,33,34,35,36,37,38,39,1,7,1,7,1,8,1,8,11,8,30,31,32,33,34,35,36,37,38,39,1,9,1,9,11,9,30,31,32,33,34,35,36,37,38,39,1,10,1,10,1,11,11,11,30,31,32,33,34,35,36,37,38,39,3,12,13,14,11,12,30,31,32,33,34,35,36,37,38,39,2,13,14,1,13,1,14,1,14,1,16,2,17,19,1,18,1,19,1,20,1,20,1,20,1,21,1,22,1,23,1,24,1,25,3,26,27,28,11,26,30,31,32,33,34,35,36,37,38,39,2,27,28,1,27,1,28,1,28,1,29,1,29,1,29,11,30,30,31,32,33,34,35,36,37,38,39,11,30,31,31,32,33,34,35,36,37,38,39,11,30,31,32,32,33,34,35,36,37,38,39,11,30,31,32,33,33,34,35,36,37,38,39,11,30,31,32,33,34,34,35,36,37,38,39,11,30,31,32,33,34,35,35,36,37,38,39,11,30,31,32,33,34,35,36,36,37,38,39,11,30,31,32,33,34,35,36,37,37,38,39,11,30,31,32,33,34,35,36,37,38,38,39,11,30,31,32,33,34,35,36,37,38,39,39,11,30,31,32,33,34,35,36,37,38,39,43,11,30,31,32,33,34,35,36,37,38,39,44,1,30,1,31,1,32,1,33,1,34,1,35,1,36,1,37,1,38,1,39,1,41,2,42,44,1,46,2,47,49,1,48,1,49],t._fsyacc_stateToProdIdxsTableRowOffsets=[0,2,4,6,18,20,22,24,26,28,30,32,34,36,48,50,52,64,66,68,80,82,84,86,88,100,102,104,116,118,120,122,134,138,150,153,155,157,159,161,164,166,168,170,172,174,176,178,180,182,184,188,200,203,205,207,209,211,213,215,227,239,251,263,275,287,299,311,323,335,347,359,361,363,365,367,369,371,373,375,377,379,381,384,386,389,391],t._fsyacc_action_rows=87,t._fsyacc_actionTableElements=[10,32768,0,6,15,30,17,28,18,25,19,22,20,18,21,15,22,12,23,7,25,32,0,49152,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,10,49152,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,1,32768,0,5,0,16386,0,16387,1,32768,25,8,1,16429,24,85,9,32768,15,30,17,28,18,25,19,22,20,18,21,15,22,12,23,7,25,32,1,32768,16,11,0,16388,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,11,32768,2,42,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,0,16389,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,11,32768,2,42,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,0,16390,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,11,32768,2,42,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,1,32768,2,42,0,16391,1,32768,27,23,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,10,16392,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,1,32768,27,26,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,10,16393,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,1,32768,27,29,0,16394,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,10,16395,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,7,32768,2,56,4,34,24,45,25,50,26,48,27,47,28,46,10,16396,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,7,32768,2,56,3,35,24,45,25,50,26,48,27,47,28,46,0,16397,1,32768,3,37,0,16398,0,16400,9,16401,15,30,17,28,18,25,19,22,20,18,21,15,22,12,23,7,25,32,0,16402,0,16403,9,16399,15,30,17,28,18,25,19,22,20,18,21,15,22,12,23,7,25,32,1,32768,1,44,0,16404,0,16405,0,16406,0,16407,0,16408,0,16409,7,32768,2,56,4,52,24,45,25,50,26,48,27,47,28,46,10,16410,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,7,32768,2,56,3,53,24,45,25,50,26,48,27,47,28,46,0,16411,1,32768,3,55,0,16412,6,16424,2,56,24,45,25,50,26,48,27,47,28,46,1,32768,1,58,0,16413,2,16414,11,74,12,73,2,16415,11,74,12,73,0,16416,0,16417,4,16418,11,74,12,73,13,72,14,71,4,16419,11,74,12,73,13,72,14,71,4,16420,11,74,12,73,13,72,14,71,4,16421,11,74,12,73,13,72,14,71,4,16422,11,74,12,73,13,72,14,71,4,16423,11,74,12,73,13,72,14,71,10,16427,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,10,16428,5,75,6,76,7,77,8,78,9,80,10,79,11,74,12,73,13,72,14,71,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,6,32768,2,56,24,45,25,50,26,48,27,47,28,46,0,16425,6,16426,2,56,24,45,25,50,26,48,27,47,28,46,0,16430,1,16431,24,86,0,16432,0,16433],t._fsyacc_actionTableRowOffsets=[0,11,12,19,30,32,33,34,36,38,48,50,51,58,70,71,78,90,91,98,110,112,113,115,122,133,135,142,153,155,156,163,174,182,193,201,202,204,205,206,216,217,218,228,230,231,232,233,234,235,236,244,255,263,264,266,267,274,276,277,280,283,284,285,290,295,300,305,310,315,326,337,344,351,358,365,372,379,386,393,400,407,408,415,416,418,419],t._fsyacc_reductionSymbolCounts=[1,1,2,1,5,3,3,4,3,3,2,2,2,3,4,0,1,1,1,2,3,1,1,1,1,1,2,3,4,3,3,3,3,3,3,3,3,3,3,3,0,1,1,1,2,0,1,1,1,2],t._fsyacc_productionToNonTerminalTable=[0,1,2,2,3,3,3,3,3,3,3,3,3,3,3,4,4,5,6,6,7,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,11,12,12,13,13,14,15,15],t._fsyacc_immediateActions=[65535,49152,65535,65535,65535,16386,16387,65535,65535,65535,65535,16388,65535,65535,16389,65535,65535,16390,65535,65535,65535,16391,65535,65535,65535,65535,65535,65535,65535,16394,65535,65535,65535,65535,65535,16397,65535,16398,16400,65535,16402,16403,65535,65535,16404,16405,16406,16407,16408,16409,65535,65535,65535,16411,65535,16412,65535,65535,16413,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,16425,65535,16430,65535,16432,16433],t._fsyacc_reductions=ps(()=>[s=>{throw Bn.New(s.FSharp_Text_Parsing_IParseState$GetInput(1))},s=>{throw Bn.New(s.FSharp_Text_Parsing_IParseState$GetInput(1))},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);return s.FSharp_Text_Parsing_IParseState$GetInput(2),r[0]},s=>(s.FSharp_Text_Parsing_IParseState$GetInput(1),V.Empty),s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1),n=s.FSharp_Text_Parsing_IParseState$GetInput(2),o=s.FSharp_Text_Parsing_IParseState$GetInput(3),l=s.FSharp_Text_Parsing_IParseState$GetInput(4),u=A.union(r,s.FSharp_Text_Parsing_IParseState$GetInput(5));return[ec(n,o,l[0],u),u]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1),n=s.FSharp_Text_Parsing_IParseState$GetInput(2),o=s.FSharp_Text_Parsing_IParseState$GetInput(3),l=A.union(r,o[1]);return[tc(n[0],o[0],l),l]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1),n=s.FSharp_Text_Parsing_IParseState$GetInput(2),o=s.FSharp_Text_Parsing_IParseState$GetInput(3),l=A.union(r,o[1]);return[Zu(n[0],o[0],l),l]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1),n=s.FSharp_Text_Parsing_IParseState$GetInput(2),o=s.FSharp_Text_Parsing_IParseState$GetInput(3),l=s.FSharp_Text_Parsing_IParseState$GetInput(4),u=A.union(r,l[1]);return[Ju(n[0],o[0],l[0],u),u]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1),n=s.FSharp_Text_Parsing_IParseState$GetInput(2),o=s.FSharp_Text_Parsing_IParseState$GetInput(3),l=A.union(r,o[0].Pos);return[Qu(n,o[0],l),l]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1),n=s.FSharp_Text_Parsing_IParseState$GetInput(2),o=s.FSharp_Text_Parsing_IParseState$GetInput(3),l=A.union(r,o[0].Pos);return[Yu(n,o[0],l),l]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1),n=s.FSharp_Text_Parsing_IParseState$GetInput(2),o=A.union(r,n[1]);return[zu(n,o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1),n=s.FSharp_Text_Parsing_IParseState$GetInput(2),o=A.union(r,n[1]);return[Xu(n[0],o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1),n=s.FSharp_Text_Parsing_IParseState$GetInput(2),o=A.union(r[1],n[1]);return[un(r,s5([n[0]]),o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);s.FSharp_Text_Parsing_IParseState$GetInput(2);const n=s.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(r[1],n);return[un(r,V.Empty,o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);s.FSharp_Text_Parsing_IParseState$GetInput(2);const n=s.FSharp_Text_Parsing_IParseState$GetInput(3),o=s.FSharp_Text_Parsing_IParseState$GetInput(4),l=A.union(r[1],o);return[un(r,n[0],l),l]},()=>V.Empty,s=>s.FSharp_Text_Parsing_IParseState$GetInput(1)[0],s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);return[Ut(r[0]),r[1]]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);return[s5([r[0]]),r[1]]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1),n=s.FSharp_Text_Parsing_IParseState$GetInput(2);return[V.Cons(n[0],r[0]),A.union(r[1],n[1])]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);return[s.FSharp_Text_Parsing_IParseState$GetInput(2),A.union(r,s.FSharp_Text_Parsing_IParseState$GetInput(3))]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);return[j.Var(r[0],r[1]),r[1]]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);return[j.Number(r[0],r[1]),r[1]]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);return[j.Word(r[0],r[1]),r[1]]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);return[j.Text(r[0],r[1]),r[1]]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);return[r[0],r[1]]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1),n=s.FSharp_Text_Parsing_IParseState$GetInput(2),o=A.union(r[1],n[1]);return[j.FunCall(r,s5([n[0]]),o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);s.FSharp_Text_Parsing_IParseState$GetInput(2);const n=s.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(r[1],n);return[j.FunCall(r,V.Empty,o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);s.FSharp_Text_Parsing_IParseState$GetInput(2);const n=s.FSharp_Text_Parsing_IParseState$GetInput(3),o=s.FSharp_Text_Parsing_IParseState$GetInput(4),l=A.union(r[1],o);return[j.FunCall(r,n[0],l),l]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1),n=s.FSharp_Text_Parsing_IParseState$GetInput(2),o=A.union(r,s.FSharp_Text_Parsing_IParseState$GetInput(3));return[j.List(n,o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);s.FSharp_Text_Parsing_IParseState$GetInput(2);const n=s.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(r[1],n[1]);return[j.Add(r[0],n[0],o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);s.FSharp_Text_Parsing_IParseState$GetInput(2);const n=s.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(r[1],n[1]);return[j.Sub(r[0],n[0],o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);s.FSharp_Text_Parsing_IParseState$GetInput(2);const n=s.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(r[1],n[1]);return[j.Mul(r[0],n[0],o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);s.FSharp_Text_Parsing_IParseState$GetInput(2);const n=s.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(r[1],n[1]);return[j.Div(r[0],n[0],o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);s.FSharp_Text_Parsing_IParseState$GetInput(2);const n=s.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(r[1],n[1]);return[j.Le(r[0],n[0],o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);s.FSharp_Text_Parsing_IParseState$GetInput(2);const n=s.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(r[1],n[1]);return[j.Lt(r[0],n[0],o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);s.FSharp_Text_Parsing_IParseState$GetInput(2);const n=s.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(r[1],n[1]);return[j.Ge(r[0],n[0],o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);s.FSharp_Text_Parsing_IParseState$GetInput(2);const n=s.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(r[1],n[1]);return[j.Gt(r[0],n[0],o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);s.FSharp_Text_Parsing_IParseState$GetInput(2);const n=s.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(r[1],n[1]);return[j.Eq(r[0],n[0],o),o]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);s.FSharp_Text_Parsing_IParseState$GetInput(2);const n=s.FSharp_Text_Parsing_IParseState$GetInput(3),o=A.union(r[1],n[1]);return[j.NotEq(r[0],n[0],o),o]},()=>V.Empty,s=>s.FSharp_Text_Parsing_IParseState$GetInput(1)[0],s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);return[Ut(r[0]),r[1]]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);return[s5([r[0]]),r[1]]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1),n=s.FSharp_Text_Parsing_IParseState$GetInput(2);return[V.Cons(n[0],r[0]),A.union(r[1],n[1])]},()=>V.Empty,s=>s.FSharp_Text_Parsing_IParseState$GetInput(1)[0],s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);return[Ut(r[0]),r[1]]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1);return[s5([r]),r[1]]},s=>{const r=s.FSharp_Text_Parsing_IParseState$GetInput(1),n=s.FSharp_Text_Parsing_IParseState$GetInput(2);return[V.Cons(n,r[0]),A.union(r[1],n[1])]}]),t.tables=nc(lc().f(),Nc(),_c,mc,fc(),hc(),ac(),uc(),wc(),$c(),pc(),dc(),cc(),s=>{const r=rc();r==null?s.Message:r.$0(s)},32,gc()),t});const F5=Ii;function sc(e,t){return ic(e,t,0)}function ic(e,t,i){const s=oc(),r=new N5("New_5");r.set_Item("LexBuffer",t);const n=new ss(100);n.Push(i);const o=new ss(100);let l=!1,u=null,c=null,d=null,p=!1,h=0,f=!1,$=20;const m=p5(100,null),b=p5(100,null),g=p5(100,null),y=p5(2,null),w=s.reductions,_=new is(s.actionTableElements,s.actionTableRowOffsets),S=new is(s.gotos,s.sparseGotoTableRowOffsets),x=new Mu(s.stateToProdIdxsTableElements,s.stateToProdIdxsTableRowOffsets),W={FSharp_Text_Parsing_IParseState$InputRange(q){return[C(m,q-1),C(b,q-1)]},FSharp_Text_Parsing_IParseState$InputStartPosition(q){return C(m,q-1)},FSharp_Text_Parsing_IParseState$InputEndPosition(q){return C(b,q-1)},FSharp_Text_Parsing_IParseState$GetInput(q){return C(g,q-1)},get FSharp_Text_Parsing_IParseState$ResultRange(){return[C(y,0),C(y,1)]},get FSharp_Text_Parsing_IParseState$ParserLocalStore(){return r},FSharp_Text_Parsing_IParseState$RaiseError(){throw os.New()}};function o5(q){for(;;){let B;n.IsEmpty&&F("parse error");const u5=n.Peep(),Q=_.Read(u5,s.tagOfErrorTerminal);if(yt(Q)===re())if(q!=null&&q.$==1){const M=q.$0;B=yt(_.Read(Pe(Q),s.tagOfToken(M)))===re()}else B=!0;else B=!1;if(B){const M=Pe(Q);return o.Push(new xe("New_1",null,t.StartPos,t.EndPos)),n.Push(M)}else o.IsEmpty&&F("parse error"),o.Pop(),n.Pop(),q=q}}for(;!p;)(()=>{if(n.IsEmpty){p=!0;return}else{const q=n.Peep(),B=r5(C(s.immediateActions,q)),u5=B!==Wu()?B:(l||(t.IsPastEndOfStream?$>0?(l=!0,$=$-1,f=!0):l=!1:(u=e(t),d=t.StartPos,c=t.EndPos,l=!0)),_.Read(q,l?s.tagOfToken(u):s.endOfInputTag)),Q=yt(u5);if(Q===re()){h>0&&(h=h-1);const M=Pe(u5);l||F("shift on end of input!"),o.Push(new xe("New_1",s.dataOfToken(u),d,c)),n.Push(M),l=!1;return}else if(Q===ln()){const M=Pe(u5),P=r5(C(s.reductionSymbolCounts,M));E5(y,0,C5.Empty),E5(y,1,C5.Empty);for(let H=0,f5=P-1;H<=f5;H++){o.IsEmpty&&F("empty symbol stack");const a5=o.Peep();o.Pop(),n.Pop(),E5(g,P-H-1,a5.value),E5(m,P-H-1,a5.startPos),E5(b,P-H-1,a5.endPos),E(C(y,1),C5.Empty)&&E5(y,1,a5.endPos),E(a5.startPos,C5.Empty)||E5(y,0,a5.startPos)}try{o.Push(new xe("New_1",C(w,M)(W),C(y,0),C(y,1)));const H=n.Peep();return n.Push(S.Read(r5(C(s.productionToNonTerminalTable,M)),H))}catch(H){if(H instanceof Bn)return p=!0,o.Push(new xe("New_1",H.Data0,C(y,0),C(y,1)));if(H instanceof os){o5(null),h=3;return}else throw H}}else if(Q===Uu())if(h>0){f&&$<10&&o5(l?N(u):null),l||F("parse error: unexpected end of file"),l=!1,h=3;return}else{const M=l?N(u):null,P=_.ReadAll(q),H=P[1],f5=P[0],a5=new Ti("New_1",ae(V5(v5(()=>Tt(t5=>[t5[0]],f5))))),Vt=V5(v5(()=>z(Tt(t5=>yt(t5[1])===re()?[t5[0]]:[],f5),v5(()=>yt(H)===re()?Tt(t5=>a5.Contains(t5)?[]:[t5],wt(0,s.numTerminals-1)):[])))),O5=n.Top(12),G=V5(v5(()=>h5(t5=>x.ReadAll(t5),O5)));s.parseError(new Ku(O5,W,V5(v5(()=>z(Tt(t5=>yt(t5[1])===ln()?[t5[0]]:[],f5),v5(()=>yt(H)===ln()?Tt(t5=>a5.Contains(t5)?[]:[t5],wt(0,s.numTerminals-1)):[])))),M,G,Vt,"syntax error")),o5(null),h=3;return}else return Q===Ou()?void(p=!0):null}})();return o.Peep().value}function oc(){return F5.tables}function lc(){return F5._fsyacc_reductions}function uc(){return F5._fsyacc_immediateActions}function cc(){return F5._fsyacc_productionToNonTerminalTable}function ac(){return F5._fsyacc_reductionSymbolCounts}function hc(){return F5._fsyacc_actionTableRowOffsets}function fc(){return F5._fsyacc_actionTableElements}function dc(){return F5._fsyacc_stateToProdIdxsTableRowOffsets}function pc(){return F5._fsyacc_stateToProdIdxsTableElements}function $c(){return F5._fsyacc_sparseGotoTableRowOffsets}function wc(){return F5._fsyacc_gotos}function mc(e){return e.$==1||e.$==2||e.$==3||e.$==4||e.$==5||e.$==6||e.$==7||e.$==8||e.$==9||e.$==10||e.$==11||e.$==12||e.$==13||e.$==14||e.$==15||e.$==16||e.$==17||e.$==18||e.$==19||e.$==20||e.$==21||e.$==22||e.$==23||e.$==24||e.$==25||e.$==26||e.$==27||e.$==28,e.$0}function gc(){return F5._fsyacc_tagOfErrorTerminal}function Nc(){return F5._fsyacc_endOfInputTag}function _c(e){return e.$==1?1:e.$==2?2:e.$==3?3:e.$==4?4:e.$==5?5:e.$==6?6:e.$==7?7:e.$==8?8:e.$==9?9:e.$==10?10:e.$==11?11:e.$==12?12:e.$==13?13:e.$==14?14:e.$==15?15:e.$==16?16:e.$==17?17:e.$==18?18:e.$==19?19:e.$==20?20:e.$==21?21:e.$==22?22:e.$==23?23:e.$==24?24:e.$==25?25:e.$==26?26:e.$==27?27:e.$==28?28:0}function Sc(e){return{$:28,$0:e}}function yc(e){return{$:27,$0:e}}function Tc(e){return{$:26,$0:e}}function Cc(e){return{$:25,$0:e}}function Ic(e){return{$:24,$0:e}}function bc(e){return{$:23,$0:e}}function Ec(e){return{$:22,$0:e}}function Ac(e){return{$:21,$0:e}}function vc(e){return{$:20,$0:e}}function Pc(e){return{$:19,$0:e}}function xc(e){return{$:18,$0:e}}function Fc(e){return{$:17,$0:e}}function Lc(e){return{$:16,$0:e}}function kc(e){return{$:15,$0:e}}function Vc(e){return{$:14,$0:e}}function Gc(e){return{$:13,$0:e}}function Rc(e){return{$:12,$0:e}}function Dc(e){return{$:11,$0:e}}function Mc(e){return{$:10,$0:e}}function Oc(e){return{$:9,$0:e}}function Uc(e){return{$:8,$0:e}}function Wc(e){return{$:7,$0:e}}function Hc(e){return{$:6,$0:e}}function qc(e){return{$:5,$0:e}}function Bc(e){return{$:4,$0:e}}function jc(e){return{$:3,$0:e}}function Kc(e){return{$:2,$0:e}}function Xc(e){return{$:1,$0:e}}function zc(e){return{$:0,$0:e}}let jn=I(e=>{var t;return R(Error),t=class extends Error{constructor(){super(...arguments);a(this,"Data0");a(this,"Data1")}static New(r,n){return L(jn,{Data0:r,Data1:n})}},jn=e(t),t});const bi=jn;function us(e,t){e.LexemeLength=e.BufferScanLength,e.BufferAcceptAction=t}function cs(e,t,i,s,r,n,o){if(i.BufferScanLength===i.BufferMaxScanLength){const l=r5(C(C(e,n),o));return l===t?r():(i.IsPastEndOfStream&&F("End of file on lexing stream"),i.IsPastEndOfStream=!0,s(i,l))}else return s(i,n)}function as(e){e.BufferScanStart=e.BufferScanStart+e.LexemeLength,e.BufferMaxScanLength=e.BufferMaxScanLength-e.LexemeLength,e.BufferScanLength=0,e.LexemeLength=0,e.BufferAcceptAction=-1}let Ei=I(e=>{var t;return t=class extends Y{static GetUnicodeCategory(s){return 0}},Ei=e(t),t});const Yc=Ei;let Ai=I(e=>{var t;return t=class extends Y{constructor(r,n){super();a(this,"trans");a(this,"accept");a(this,"sentinel");a(this,"numLowUnicodeChars");a(this,"numSpecificUnicodeChars");a(this,"eofPos");this.trans=r,this.accept=n,this.sentinel=255*256+255;const o=30;this.numLowUnicodeChars=128,this.numSpecificUnicodeChars=(k(C(this.trans,0))-1-this.numLowUnicodeChars-o)/2>>0,this.eofPos=this.numLowUnicodeChars+2*this.numSpecificUnicodeChars+o}static Create(r,n){return new t(r,n)}scanUntilSentinel(r,n){for(;;){const o=r5(C(this.accept,n));if(o!==this.sentinel&&us(r,o),r.BufferScanLength===r.BufferMaxScanLength)return r.DiscardInput(),r.RefillBuffer(),cs(this.trans,this.sentinel,r,(l,u)=>this.scanUntilSentinel(l,u),(l=>()=>l.EndOfScan())(r),n,this.eofPos);{const l=C(r.Buffer,r.BufferScanPos),u=this.lookupUnicodeCharacters(n,l);if(u===this.sentinel)return r.EndOfScan();r.BufferScanLength=r.BufferScanLength+1,n=u}}}lookupUnicodeCharacters(r,n){const o=this,l=n.charCodeAt();if(l<this.numLowUnicodeChars)return r5(C(C(this.trans,r),l));{let d=function(p){for(;;){if(p>=o.numSpecificUnicodeChars)return r5(C(C(o.trans,r),o.numLowUnicodeChars+o.numSpecificUnicodeChars*2+r5(Number(Yc.GetUnicodeCategory(n)))));if(String.fromCharCode(r5(C(C(o.trans,r),c+p*2)))===n)return r5(C(C(o.trans,r),c+p*2+1));p=p+1}};var u=d;const c=this.numLowUnicodeChars;return d(0)}}AsyncInterpret(r,n){const o=this;function l(c){const d=c[0],p=c[1];return nt(()=>{const h=r5(C(o.accept,p));return jo((h!==o.sentinel&&us(d,h),Et()),nt(()=>{if(d.BufferScanLength===d.BufferMaxScanLength)return d.DiscardInput(),d.RefillBuffer(),cs(o.trans,o.sentinel,d,(f,$)=>l([f,$]),u,p,o.eofPos);{const f=o.lookupUnicodeCharacters(p,C(d.Buffer,d.BufferScanPos));return f===o.sentinel?u():(d.BufferScanLength=d.BufferScanLength+1,l([d,f]))}}))})}function u(){return nt(()=>Xt(n.EndOfScan()))}return as(n),l([n,r])}Interpret(r,n){return as(n),this.scanUntilSentinel(n,r)}},Ai=e(t),t});const Qc=Ai;let vi=I(e=>{var t;return t=class{},vi=e(t),a(t,"_fslex_tables"),a(t,"actions"),a(t,"trans"),t.trans=[[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,4,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,4,65535,65535,65535,4,65535,4,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[19,19,19,19,19,19,19,19,19,13,14,19,19,15,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,13,19,9,19,19,19,19,18,10,10,10,10,10,10,19,10,6,6,6,6,6,6,6,6,6,6,8,16,11,10,12,19,19,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,10,19,10,19,19,19,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,17],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,32,65535,33,33,33,33,33,33,33,33,33,33,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,31,65535,31,31,31,31,31,31,31,31,31,31,65535,65535,65535,65535,65535,65535,65535,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,65535,65535,65535,65535,31,65535,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,65535,65535,65535,65535,65535,65535,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,65535,65535,65535,65535,65535,65535,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,23,23,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,23,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,22,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[21,21,21,21,21,21,21,21,21,21,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[21,21,21,21,21,21,21,21,21,21,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,26,65535,26,26,26,26,26,26,26,26,26,26,65535,65535,65535,65535,65535,65535,65535,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,65535,65535,65535,65535,26,65535,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,26,65535,26,26,26,26,26,26,26,26,26,26,65535,65535,65535,65535,65535,65535,65535,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,65535,65535,65535,65535,26,65535,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,26,65535,26,26,26,26,26,26,26,26,26,26,65535,65535,65535,65535,65535,65535,65535,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,65535,65535,65535,65535,26,65535,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,29,65535,29,29,29,29,29,29,29,29,29,29,65535,65535,65535,65535,65535,65535,65535,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,65535,65535,65535,65535,29,65535,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,29,65535,29,29,29,29,29,29,29,29,29,29,65535,65535,65535,65535,65535,65535,65535,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,65535,65535,65535,65535,29,65535,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,29,65535,29,29,29,29,29,29,29,29,29,29,65535,65535,65535,65535,65535,65535,65535,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,65535,65535,65535,65535,29,65535,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,31,65535,31,31,31,31,31,31,31,31,31,31,65535,65535,65535,65535,65535,65535,65535,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,65535,65535,65535,65535,31,65535,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,31,65535,31,31,31,31,31,31,31,31,31,31,65535,65535,65535,65535,65535,65535,65535,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,65535,65535,65535,65535,31,65535,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,34,34,34,34,34,34,34,34,34,34,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,32,65535,33,33,33,33,33,33,33,33,33,33,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,35,35,35,35,35,35,35,35,35,35,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535],[65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,35,35,35,35,35,35,35,35,35,35,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535]],t.actions=[65535,2,1,2,0,65535,0,1,10,10,4,4,4,5,6,10,10,8,9,10,7,65535,6,4,3,3,3,2,2,2,1,1,65535,0,0,0],t._fslex_tables=Qc.Create(ea(),ta()),t});const Er=vi;function Jc(e,t,i){for(;;){const s=Pi().Interpret(0,i);if(s===0){const r=ut(i),n=r=="\\'"?'"':r=="\\n"?`
`:r=="\\r"?"\r":r=="\\t"?"	":"",o=(u=>c=>u+c)(t)(n);e=A.union(e,A.ofToken(i)),t=o}else{if(s===1)return[t,A.union(e,A.ofToken(i))];if(s===2){const r=ut(i);r==`
`&&Kn(i),e=A.union(e,A.ofToken(i)),t=t+r}else return F("string_literal")}}}function Zc(e){for(;;){const t=Pi().Interpret(5,e);if(t===0)return ia(e,ut(e));if(t===1)return sa(e,ut(e));if(t===2)return na(e,ut(e));if(t===3)return ra(e,ut(e));if(t===4)return oa(e,ut(e));if(t===5)e=e;else if(t===6)Kn(e),e=e;else if(t===7)Kn(e),e=e;else{if(t===8)return zc(A.ofToken(e));if(t===9){const i=Jc(A.ofToken(e),"",e);return Tc([i[0],i[1]])}else{if(t===10)throw bi.New(ut(e),A.ofToken(e));return F("main")}}}}function Pi(){return Er._fslex_tables}function ta(){return Er.actions}function ea(){return Er.trans}function na(e,t){return Ic([t.substring(1),A.ofToken(e)])}function ra(e,t){return yc([t.substring(1),A.ofToken(e)])}function sa(e,t){return t.toLowerCase()=="to"?bc(A.ofToken(e)):t.toLowerCase()=="repeat"?Ec(A.ofToken(e)):t.toLowerCase()=="if"?Ac(A.ofToken(e)):t.toLowerCase()=="ifelse"?vc(A.ofToken(e)):t.toLowerCase()=="make"?Pc(A.ofToken(e)):t.toLowerCase()=="makelocal"?xc(A.ofToken(e)):t.toLowerCase()=="local"?Fc(A.ofToken(e)):t.toLowerCase()=="end"?Lc(A.ofToken(e)):t.toLowerCase()=="output"?kc(A.ofToken(e)):Cc([t,A.ofToken(e)])}function ia(e,t){return Sc([Number(t),A.ofToken(e)])}function oa(e,t){return t=="("?Bc(A.ofToken(e)):t==")"?jc(A.ofToken(e)):t=="["?Kc(A.ofToken(e)):t=="]"?Xc(A.ofToken(e)):t=="+"?Vc(A.ofToken(e)):t=="-"?Gc(A.ofToken(e)):t=="*"?Rc(A.ofToken(e)):t=="/"?Dc(A.ofToken(e)):t=="="?Mc(A.ofToken(e)):t=="<>"?Oc(A.ofToken(e)):t=="<"?Hc(A.ofToken(e)):t=="<="?qc(A.ofToken(e)):t==">"?Uc(A.ofToken(e)):t==">="?Wc(A.ofToken(e)):F("Invalid special character or operator")}function Kn(e){let t,i;e.StartPos=(t=e.StartPos,t.NextLine),e.EndPos=(i=e.EndPos,i.NextLine)}function ut(e){return di.LexemeString(e)}function la(e){const t=di.FromString(e),i=C5.New("...",1,1,0,1);t.EndPos=i,t.StartPos=i;try{return Du(sc(Zc,t))}catch(s){return s instanceof bi?rs([s.Data0,s.Data1]):rs([q5(s.message)+" - "+q5(t.Lexeme.join(""))+`
`,A.ofToken(t)])}}function ua(e){return"{"+("GlobalVariables = "+e5(e.GlobalVariables))+"; "+("LocalVariables = "+e5(e.LocalVariables))+"; "+("Functions = "+e5(e.Functions))+"; "+("BuiltIns = "+e5(e.BuiltIns))+"}"}function D(e){return"{"+("Filename = "+e5(e.Filename))+"; "+("StartLine = "+e5(e.StartLine))+"; "+("StartColumn = "+e5(e.StartColumn))+"; "+("EndLine = "+e5(e.EndLine))+"; "+("EndColumn = "+e5(e.EndColumn))+"}"}function J(e){return e.$==15?"NotEq ("+J(e.$0)+", "+J(e.$1)+", "+D(e.$2)+")":e.$==14?"Eq ("+J(e.$0)+", "+J(e.$1)+", "+D(e.$2)+")":e.$==13?"Le ("+J(e.$0)+", "+J(e.$1)+", "+D(e.$2)+")":e.$==12?"Ge ("+J(e.$0)+", "+J(e.$1)+", "+D(e.$2)+")":e.$==11?"Lt ("+J(e.$0)+", "+J(e.$1)+", "+D(e.$2)+")":e.$==10?"Gt ("+J(e.$0)+", "+J(e.$1)+", "+D(e.$2)+")":e.$==9?"Div ("+J(e.$0)+", "+J(e.$1)+", "+D(e.$2)+")":e.$==8?"Mul ("+J(e.$0)+", "+J(e.$1)+", "+D(e.$2)+")":e.$==7?"Sub ("+J(e.$0)+", "+J(e.$1)+", "+D(e.$2)+")":e.$==6?"Add ("+J(e.$0)+", "+J(e.$1)+", "+D(e.$2)+")":e.$==5?"List ("+A5(t=>J(t),e.$0)+", "+D(e.$1)+")":e.$==4?"FunCall ("+("("+e5(e.$0[0])+", "+D(e.$0[1])+")")+", "+A5(t=>J(t),e.$1)+", "+D(e.$2)+")":e.$==3?"Text ("+e5(e.$0)+", "+D(e.$1)+")":e.$==2?"Word ("+e5(e.$0)+", "+D(e.$1)+")":e.$==1?"Number ("+e5(e.$0)+", "+D(e.$1)+")":"Var ("+e5(e.$0)+", "+D(e.$1)+")"}function Ot(e){return e.$==8?"Output ("+J(e.$0)+", "+D(e.$1)+")":e.$==7?"FunCall ("+("("+e5(e.$0[0])+", "+D(e.$0[1])+")")+", "+A5(t=>J(t),e.$1)+", "+D(e.$2)+")":e.$==6?"Local ("+("("+e5(e.$0[0])+", "+D(e.$0[1])+")")+", "+D(e.$1)+")":e.$==5?"MakeLocal ("+("("+e5(e.$0[0])+", "+D(e.$0[1])+")")+", "+J(e.$1)+", "+D(e.$2)+")":e.$==4?"Make ("+("("+e5(e.$0[0])+", "+D(e.$0[1])+")")+", "+J(e.$1)+", "+D(e.$2)+")":e.$==3?"IfElse ("+J(e.$0)+", "+A5(t=>Ot(t),e.$1)+", "+A5(t=>Ot(t),e.$2)+", "+D(e.$3)+")":e.$==2?"If ("+J(e.$0)+", "+A5(t=>Ot(t),e.$1)+", "+D(e.$2)+")":e.$==1?"Repeat ("+J(e.$0)+", "+A5(t=>Ot(t),e.$1)+", "+D(e.$2)+")":"FunDef ("+("("+e5(e.$0[0])+", "+D(e.$0[1])+")")+", "+A5(t=>"("+e5(t[0])+", "+D(t[1])+")",e.$1)+", "+A5(t=>Ot(t),e.$2)+", "+D(e.$3)+")"}function H5(e){return e.$==5?"Explicit "+H5(e.$0):e.$==4?"List "+A5(t=>H5(t),e.$0):e.$==3?"Text "+e5(e.$0):e.$==2?"Boolean "+e5(e.$0):e.$==1?"Number "+e5(e.$0):"Nothing"}class B5{constructor(){a(this,"Key");a(this,"Value")}Equals(t){return E(this.Key,t.Key)}GetHashCode(){return st(this.Key)}CompareTo0(t){return R5(this.Key,t.Key)}static New(t,i){return L(B5,{Key:t,Value:i})}}function ca(e){const t=n5(h5(i=>B5.New(i[0],i[1]),As(i=>i[0],vo(e))));return Cs(t),vt(t,0,t.length-1)}let ht=I(e=>{var i;return i=class extends Y{constructor(n,o){var r=(...t)=>{super(...t);a(this,"tree")};let l;if(n=="New"&&(l=o,n="New_1",o=ca(l)),n=="New_1"){const u=o;r(),this.tree=u}}GetEnumerator(){return U(h5(n=>({K:n.Key,V:n.Value}),Y5(!1,this.tree)))}get Count(){const n=this.tree;return n==null?0:n.Count}Equals(n){return this.Count===n.Count&&vs(E,this,n)}GetHashCode(){return st(n5(this))}get Values(){return qt(n5(h5(n=>n.Value,Y5(!1,this.Tree))))}get Keys(){return qt(n5(h5(n=>n.Key,Y5(!1,this.Tree))))}TryFind(n){const o=qu(B5.New(n,void 0),this.tree);return o==null?null:N(o.$0.Value)}Remove_1(n){return new ht("New_1",yi(B5.New(n,void 0),this.tree))}get_Item(n){const o=this.TryFind(n);if(o==null)throw new _s("New");return o.$0}get IsEmpty(){return this.tree==null}TryGetValue(n,o){const l=this.TryFind(n);return l!=null&&l.$==1&&(o.set(l.$0),!0)}ContainsKey(n){return _i(B5.New(n,void 0),this.tree)}Change(n,o){return new ht("New_1",Bu(B5.New(n,void 0),l=>{const u=o(l==null?null:N(l.$0.Value));return u==null?null:N(B5.New(n,u.$0))},this.tree))}Add_1(n,o){return new ht("New_1",Si(B5.New(n,o),this.tree))}get Tree(){return this.tree}Remove(n){return F("Map values cannot be mutated.")}CopyTo(n,o){_e(n5(this),n,o)}Contains(n){let o;return o=void 0,this.TryGetValue(n.K,{get:()=>o,set:l=>{o=l}})&&E(o,n.V)}Clear(){F("Map values cannot be mutated.")}Add(n){F("Map values cannot be mutated.")}get IsReadOnly(){return!0}CompareTo0(n){return Es(R5,this,n)}static New(n){return new this("New",n)}static New_1(n){return new this("New_1",n)}},ht=e(i),i});function aa(e){return new ht("New_1",ae(h5(t=>B5.New(t[0],t[1]),e)))}let xi=I(e=>{var t;return t=class extends Y{NextBytes(s){for(let r=0,n=k(s)-1;r<=n;r++)E5(s,r,Math.floor(Math.random()*256))}Next(s,r){return s>r?F("'minValue' cannot be greater than maxValue."):s+Math.floor(Math.random()*(r-s))}Next_1(s){return s<0?F("'maxValue' must be greater than zero."):Math.floor(Math.random()*s)}Next_2(){return Math.floor(Math.random()*2147483648)}},xi=e(t),t});const ha=xi;let Xn=I(e=>{var t;return R(Error),t=class extends Error{constructor(){super(...arguments);a(this,"f");a(this,"args");a(this,"Data2")}static New(r,n,o){return L(Xn,{f:r,args:n,Data2:o})}},Xn=e(t),t});const Ve=Xn;let Fi=I(e=>{var t;return t=class{},Fi=e(t),a(t,"Core"),a(t,"rnd"),t.rnd=new ha,t.Core=s5([["debug_environment",s=>()=>()=>((r=>n=>r("DEBUG ENV = "+ua(n)))(r=>{console.log(r)})(s),[[s,$5],!1])],["difference",s=>r=>n=>{let o;if(n.$==1&&n.$0.$==1&&n.$1.$==1&&n.$1.$0.$==1&&n.$1.$1.$==0&&(o=[n.$0.$0,n.$1.$0.$0],!0))return[[s,at(o[0]-o[1])],!1];throw Ve.New("difference",n,r)}],["random",s=>r=>n=>{let o;if(n.$==1&&n.$0.$==1&&n.$1.$==0&&(o=n.$0.$0,!0))return[[s,at(da().Next_1(r5(o)))],!1];throw Ve.New("random",n,r)}],["sentence",s=>r=>n=>[[s,Qe(M5(" ",h5(o=>Wn(r,o),n)))],!1]],["stop",s=>r=>n=>{if(n.$==0)return[[s,$5],!0];throw Ve.New("stop",n,r)}],["word",s=>r=>n=>[[s,Qe(M5("",h5(o=>Wn(r,o),n)))],!1]]]),t});const Li=Fi;function fa(){return Li.Core}function da(){return Li.rnd}class tt{constructor(){a(this,"GlobalVariables");a(this,"LocalVariables");a(this,"Functions");a(this,"BuiltIns")}static Create(){return tt.New(new ht("New",[]),new ht("New",[]),new ht("New",[]),aa(n5(fa())))}PreserveGlobalStateFrom(t){return tt.New(t.GlobalVariables,this.LocalVariables,this.Functions,this.BuiltIns)}AddLocalVariable(t,i){return tt.New(this.GlobalVariables,this.LocalVariables.Add_1(t,i),this.Functions,this.BuiltIns)}AddGlobalVariable(t,i){return tt.New(this.GlobalVariables.Add_1(t,i),this.LocalVariables,this.Functions,this.BuiltIns)}AddFunction(t,i,s){return tt.New(this.GlobalVariables,this.LocalVariables,this.Functions.Add_1(t,[i,s]),this.BuiltIns)}static New(t,i,s,r){return L(tt,{GlobalVariables:t,LocalVariables:i,Functions:s,BuiltIns:r})}}let zn=I(e=>{var t;return R(Error),t=class extends Error{constructor(){super(...arguments);a(this,"f");a(this,"v1");a(this,"v2");a(this,"Data3")}static New(r,n,o,l){return L(zn,{f:r,v1:n,v2:o,Data3:l})}},zn=e(t),t});const W5=zn;let Yn=I(e=>{var t;return R(Error),t=class extends Error{constructor(){super(...arguments);a(this,"f");a(this,"v");a(this,"Data2")}static New(r,n,o){return L(Yn,{f:r,v:n,Data2:o})}},Yn=e(t),t});const pa=Yn;let Qn=I(e=>{var t;return R(Error),t=class extends Error{constructor(){super(...arguments);a(this,"v");a(this,"Data1")}static New(r,n){return L(Qn,{v:r,Data1:n})}},Qn=e(t),t});const ki=Qn;let Jn=I(e=>{var t;return R(Error),t=class extends Error{constructor(){super(...arguments);a(this,"v");a(this,"Data1")}static New(r,n){return L(Jn,{v:r,Data1:n})}},Jn=e(t),t});const Vi=Jn;let Zn=I(e=>{var t;return R(Error),t=class extends Error{constructor(){super(...arguments);a(this,"f");a(this,"Data1");a(this,"Data2")}static New(r,n,o){return L(Zn,{f:r,Data1:n,Data2:o})}},Zn=e(t),t});const Gi=Zn;let tr=I(e=>{var t;return R(Error),t=class extends Error{constructor(){super(...arguments);a(this,"f");a(this,"Data1")}static New(r,n){return L(tr,{f:r,Data1:n})}},tr=e(t),t});const Ri=tr;let er=I(e=>{var t;return R(Error),t=class extends Error{constructor(){super(...arguments);a(this,"v");a(this,"Data1")}static New(r,n){return L(er,{v:r,Data1:n})}},er=e(t),t});const nr=er;function Z(e,t){let i,s,r,n,o,l,u,c,d;if(t.$==1)return[e,at(t.$0)];if(t.$==2)return[e,Qe(t.$0)];if(t.$==3)return[e,Qe(t.$0)];if(t.$==4){const h=Di(e,[t.$0[0],t.$0[1]],t.$1,t.$2);return[h[0][0],h[0][1]]}else if(t.$==5){const h=Bt((f,$)=>(m=>{const b=m[0],g=m[1];return y=>{const w=Z(b,y);return[w[0],V.Cons(w[1],g)]}})(f)($),[e,V.Empty],t.$0);return[h[0],Pu(Ut(h[1]))]}else if(t.$==6){const h=Z(e,t.$0),f=h[1],$=Z(h[0],t.$1),m=$[1];if(f.$==1&&m.$==1&&(i=[f.$0,m.$0],!0))return[$[0],at(i[0]+i[1])];throw W5.New("(+)",f,m,t.$2)}else if(t.$==7){const h=Z(e,t.$0),f=h[1],$=Z(h[0],t.$1),m=$[1];if(f.$==1&&m.$==1&&(s=[f.$0,m.$0],!0))return[$[0],at(s[0]-s[1])];throw W5.New("(-)",f,m,t.$2)}else if(t.$==8){const h=Z(e,t.$0),f=h[1],$=Z(h[0],t.$1),m=$[1];if(f.$==1&&m.$==1&&(r=[f.$0,m.$0],!0))return[$[0],at(r[0]*r[1])];throw W5.New("(*)",f,m,t.$2)}else if(t.$==9){const h=Z(e,t.$0),f=h[1],$=Z(h[0],t.$1),m=$[1];if(f.$==1&&m.$==1&&(n=[f.$0,m.$0],!0))return[$[0],at(n[0]/n[1])];throw W5.New("(/)",f,m,t.$2)}else if(t.$==14){const h=Z(e,t.$0),f=h[1],$=Z(h[0],t.$1),m=$[1],b=$[0];switch(f.$==1?m.$==1?(o=[f.$0,m.$0],0):4:f.$==2?m.$==2?(o=[f.$0,m.$0],1):4:f.$==3?m.$==3?(o=[f.$0,m.$0],2):4:f.$==4&&m.$==4?(o=[f.$0,m.$0],3):4){case 0:return[b,Z5(o[0]===o[1])];case 1:return[b,Z5(o[0]==o[1])];case 2:return[b,Z5(o[0]==o[1])];case 3:let g=function(y,w){for(;;){const _=y,S=w;if(_.$==1)if(S.$==1)if(E(_.$0,S.$0))y=_.$1,w=S.$1;else return!1;else return!1;else return S.$==0}};var p=g;return[b,Z5(g(o[0],o[1]))];case 4:throw W5.New("(=|<>)",f,m,t.$2)}}else if(t.$==15){const h=t.$2,f=Z(e,j.Eq(t.$0,t.$1,h)),$=f[1];if($.$==2)return[f[0],Z5(!$.$0)];throw pa.New("(<>)",$,h)}else if(t.$==10){const h=Z(e,t.$0),f=h[1],$=Z(h[0],t.$1),m=$[1];if(f.$==1&&m.$==1&&(l=[f.$0,m.$0],!0))return[$[0],Z5(l[0]>l[1])];throw W5.New("(>)",f,m,t.$2)}else if(t.$==12){const h=Z(e,t.$0),f=h[1],$=Z(h[0],t.$1),m=$[1];if(f.$==1&&m.$==1&&(u=[f.$0,m.$0],!0))return[$[0],Z5(u[0]>=u[1])];throw W5.New("(>=)",f,m,t.$2)}else if(t.$==11){const h=Z(e,t.$0),f=h[1],$=Z(h[0],t.$1),m=$[1];if(f.$==1&&m.$==1&&(c=[f.$0,m.$0],!0))return[$[0],Z5(c[0]<c[1])];throw W5.New("(<)",f,m,t.$2)}else if(t.$==13){const h=Z(e,t.$0),f=h[1],$=Z(h[0],t.$1),m=$[1];if(f.$==1&&m.$==1&&(d=[f.$0,m.$0],!0))return[$[0],Z5(d[0]<=d[1])];throw W5.New("(<=)",f,m,t.$2)}else{const h=t.$0,f=t.$1,$=e.GlobalVariables.TryFind(h.toLowerCase());if($==null){const m=e.LocalVariables.TryFind(h.toLowerCase());if(m==null)throw ki.New(h,f);if(m.$0==null)throw Vi.New(h,f);return[e,m.$0.$0]}else return[e,$.$0]}}function Di(e,t,i,s){let r,n;const o=t[1],l=t[0];if(e.Functions.ContainsKey(l.toLowerCase())){const u=e.Functions.get_Item(l.toLowerCase()),c=u[0],d=hn(i);if(d!==hn(c))throw Gi.New(l,d,s);const p=rn(ho((f,$,m)=>{const b=Z(f,m);return b[0].AddLocalVariable($.toLowerCase(),N(b[1]))},e,c,i),u[1]),h=p[0][1];return h.$==5?r=h.$0:r=h,[[e.PreserveGlobalStateFrom(p[0][0]),r],!1]}else if(e.BuiltIns.ContainsKey(l.toLowerCase())){const u=e.BuiltIns.get_Item(l.toLowerCase()),c=Bt((f,$)=>(m=>{const b=m[0],g=m[1];return y=>{const w=Z(b,y);return[w[0],V.Cons(w[1],g)]}})(f)($),[e,V.Empty],i),d=[c[0],Ut(c[1])],p=u(d[0])(o)(d[1]),h=p[0][1];return h.$==5?n=h.$0:n=h,[[p[0][0],n],p[1]]}else throw Ri.New(l,o)}function $a(e,t){if(t.$==1){const i=t.$1,s=Z(e,t.$0),r=s[1];if(r.$==1)return ai((n,o)=>(l=>{const u=l[0];return c=>rn(u.AddLocalVariable("repcount",N(at(c))),i)})(n)(o),[s[0],$5],V5(wt(1,r5(r.$0))));throw lt.New(s5([r]),t.$2)}else if(t.$==2){const i=Z(e,t.$0),s=i[1],r=i[0];if(s.$==2)return s.$0?cn(r,t.$1):[[r,$5],!1];throw nr.New(s,t.$2)}else if(t.$==3){const i=Z(e,t.$0),s=i[1],r=i[0];if(s.$==2)return s.$0?cn(r,t.$1):cn(r,t.$2);throw nr.New(s,t.$3)}else if(t.$==4){const i=t.$0[0],s=Z(e,t.$1),r=s[1],n=s[0];return n.LocalVariables.ContainsKey(i.toLowerCase())?[[n.AddLocalVariable(i.toLowerCase(),N(r)),$5],!1]:[[n.AddGlobalVariable(i.toLowerCase(),r),$5],!1]}else if(t.$==5){const i=Z(e,t.$1);return[[i[0].AddLocalVariable(t.$0[0].toLowerCase(),N(i[1])),$5],!1]}else{if(t.$==6)return[[e.AddLocalVariable(t.$0[0].toLowerCase(),null),$5],!1];if(t.$==7)return Di(e,[t.$0[0],t.$0[1]],t.$1,t.$2);if(t.$==8){const i=Z(e,t.$0);return[[i[0],vu(i[1])],!1]}else return[[e.AddFunction(t.$0[0].toLowerCase(),he(i=>i[0],t.$1),t.$2),$5],!1]}}function cn(e,t){const i=rn(e,t),s=i[0][1];return s.$==5?[[i[0][0],s.$0],i[1]]:[[i[0][0],$5],i[1]]}function rn(e,t){return ai((i,s)=>(r=>{const n=r[0];return o=>$a(n,o)})(i)(s),[e,$5],t)}let Mi=I(e=>{var t;return t=class{},Mi=e(t),a(t,"Main"),a(t,"editorCaretPosition"),a(t,"CurrentExampleSelected"),a(t,"Examples"),a(t,"Theme"),a(t,"Code"),(()=>{t.Code="intellilogo-code",t.Theme="intellilogo-theme",t.Examples=l5.Create_1([]),t.CurrentExampleSelected=l5.Create_1(null),t.editorCaretPosition=l5.Create_1([1,1]),ma();const s=l5.Create_1(!1),r=l5.Create_1(""),n=l5.Create_1(`Welcome to IntelliLogo!
`),o=globalThis.localStorage,l=o.getItem(Dr());Or(l)||(w5(n,`Previous coding session restored.
`),r.Set(l)),Or(o.getItem(C6()));const u=P5.BindView(P=>P5.Concat(G5(H=>P5.Element("option",[v.Create("value",H.filename)],[P5.TextNode(H.name)]),P)),Ui().View),c=K(P=>String(P[0]),rr().View),d=K(P=>String(P[1]),rr().View),p=new ou("New_1"),h=(p.h.push(new Ye("editor",r)),p),f=(h.h.push(Eu(h.k,"oar",()=>h.i,P=>{P.Anchors.Anchor("EditorNode").focus()})),h),$=(f.h.push(U5(f.k,"editoronclick",()=>f.i,P=>{Fe(P.Target)})),f),m=($.h.push(U5($.k,"editoroninput",()=>$.i,P=>{Fe(P.Target)})),$),b=(m.h.push(U5(m.k,"editoronkeyup",()=>m.i,P=>{Fe(P.Target)})),m),g=(b.h.push(U5(b.k,"editoronscroll",()=>b.i,P=>{Fe(P.Target)})),b),y=(g.h.push(U5(g.k,"editoronkeydown",()=>g.i,P=>{if(s.Set(!0),P.Event.key=="Tab"){const H=P.Target;P.Event.preventDefault();const f5=H.selectionStart,a5=H.selectionEnd;H.value=o3(H.value,0,f5)+"  "+H.value.substring(a5),H.selectionStart=f5+2,H.selectionEnd=f5+2}})),g),w=(y.h.push(new ns("editorcol",d)),y),_=(w.h.push(new ns("editorrow",c)),w),S=(_.h.push(new ei("exampleoptions",u)),_),x=(S.h.push(U5(S.k,"examplechanged",()=>S.i,P=>{s.Get()?document.getElementById("popupOverlay").style.display="flex":(hs(r,n,s,X.Value(P.Vars.Hole("examples")).Get(),P.Anchors.Anchor("ExamplesNode")),Le().Set(N(X.Value(P.Vars.Hole("examples")).Get())))})),S),W=(x.h.push(U5(x.k,"acceptabandoningchanges",()=>x.i,P=>{document.getElementById("popupOverlay").style.display="none",hs(r,n,s,X.Value(P.Vars.Hole("examples")).Get(),P.Anchors.Anchor("ExamplesNode")),Le().Set(N(X.Value(P.Vars.Hole("examples")).Get()))})),x),o5=(W.h.push(U5(W.k,"cancelabandoningchanges",()=>W.i,P=>{document.getElementById("popupOverlay").style.display="none",Le().Get()!=null&&X.Value(P.Vars.Hole("examples")).Set(Le().Get().$0)})),W),q=(o5.h.push(new Ye("console",n)),o5),B=(q.h.push(U5(q.k,"themetoggle",()=>q.i,()=>{globalThis.document.documentElement.classList.toggle("dark")})),q),u5=(B.h.push(U5(B.k,"onrun",()=>B.i,P=>{Gu();const H=P.Anchors.Anchor("Canvas").getContext("2d");O().Ctx=H,O().Console=N(n);const f5=r.Get();o.setItem(Dr(),f5);const a5=la(f5);if(a5.$==1)w5(n,"Parse error before "+q5(a5.$0[0])+" at "+D(a5.$0[1])+`
`);else{const Vt=a5.$0;n.Set(""),O().Ctx.clearRect(0,0,O().CanvasX,O().CanvasY);const O5=tt.Create();try{const G=rn(tt.New(O5.GlobalVariables,O5.LocalVariables,O5.Functions,Bt((t5,Zt)=>{const be=Zt[1];return Bt((Gt,te)=>Gt.Add_1(te,be),t5,Zt[0])},O5.BuiltIns,Vu())),Vt);w5(n,"AST="+A5(t5=>Ot(t5),Vt)+`
`),G[1]&&w5(n,`Program stopped.
`),w5(n,"Result="+H5(G[0][1])+`
`)}catch(G){if(G instanceof W5)w5(n,"Type mismatch in "+q5(G.f)+", got "+H5(G.v1)+" and "+H5(G.v2)+" at "+D(G.Data3));else if(G instanceof Ve)w5(n,"Unexpected argument(s) to "+q5(G.f)+" at "+A5(t5=>H5(t5),G.args)+": "+D(G.Data2));else if(G instanceof lt)w5(n,"Number expected at "+D(G.Data1)+", but got "+A5(t5=>H5(t5),G.v));else if(G instanceof nr)w5(n,"Boolean expected at "+D(G.Data1)+", but got "+H5(G.v));else if(G instanceof Gi)w5(n,q5(G.f)+" doesn't like "+String(G.Data1)+" inputs at "+D(G.Data2));else if(G instanceof Ri)w5(n,"I don't know how to "+q5(G.f)+" at "+D(G.Data1));else if(G instanceof ki)w5(n,"Undefined variable "+q5(G.v)+" at "+D(G.Data1));else if(G instanceof Vi)w5(n,"Uninitialized local variable "+q5(G.v)+" at "+D(G.Data1));else if(G instanceof ui)w5(n,"Unexpected value (list) in string converstion "+H5(G.Data0)+" at "+D(G.Data1));else if(G instanceof ci)w5(n,"Unexpected value (uninitialized) in string converstion "+H5(G.Data0)+" at "+D(G.Data1));else throw G}}})),B),Q=bu(u5.k,u5.h,[["examples",0,null],["editor",0,null],["console",0,null]]);let M=u5.i=new J3(Q[1],si(Q[0]));t.Main=M})(),t});const Jt=Mi;function Oi(e,t,i,s){const r=new XMLHttpRequest;r.open("GET",t,!0),r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE)if(r.status===200)try{return i(e?r.responseText:JSON.parse(r.responseText))}catch(n){return s("Parsing error: "+String(n.message))}else return s("HTTP error: "+String(r.statusText));else return null},r.send()}function wa(){return Jt.Main}function hs(e,t,i,s,r){r.classList.add("animate-progressbar"),Oi(!0,"/examples/"+String(s),n=>{e.Set(n),t.Set(""),i.Set(!1),r.classList.remove("animate-progressbar")},n=>{w5(t,"Error: "+e5(n)+`
`),r.classList.remove("animate-progressbar")})}function Fe(e){const t=e.selectionStart,i=o3(e.value,0,t),s=[Bt((r,n)=>n===`
`?r+1:r,1,i),t-i.lastIndexOf(`
`)];rr().Set(s)}function rr(){return Jt.editorCaretPosition}function ma(){Oi(!1,"/examples/config.json",e=>{Ui().Set(e.examples)},e=>{(t=>i=>t("Error: "+e5(i)))(t=>{console.log(t)})(e)})}function Le(){return Jt.CurrentExampleSelected}function Ui(){return Jt.Examples}wa();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".splitter");let t=!1;const i=function(n){n.preventDefault(),t=!0,document.addEventListener("mousemove",s),document.addEventListener("mouseup",r),document.addEventListener("touchmove",s,{passive:!1}),document.addEventListener("touchend",r)},s=function(n){if(!t)return;let o=n.clientX||n.touches[0].clientX;const l=e.parentNode.getBoundingClientRect(),u=o-l.left,c=l.right-o;e.previousElementSibling.style.width=`${u}px`,e.nextElementSibling.style.width=`${c}px`},r=function(n){t&&(t=!1,document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",s),document.removeEventListener("touchend",r))};e.addEventListener("mousedown",i),e.addEventListener("touchstart",i,{passive:!1})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".splitter-v");let t=!1;e.addEventListener("mousedown",function(r){r.preventDefault(),t=!0,document.addEventListener("mousemove",i),document.addEventListener("mouseup",s)});function i(r){if(!t)return;const o=e.parentNode.getBoundingClientRect(),l=r.clientY-o.top,u=l,c=o.height-l-e.offsetHeight;e.previousElementSibling.style.flexGrow=0,e.previousElementSibling.style.height=`${u}px`,e.nextElementSibling.style.flexGrow=0,e.nextElementSibling.style.height=`${c}px`}function s(){t&&(document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",s),t=!1)}});
